(window.webpackJsonpanalytics=window.webpackJsonpanalytics||[]).push([[0],{1:function(e,t,a){"use strict";var r={SUCCESS:"ALERT_SUCCESS",ERROR:"ALERT_ERROR",CLEAR:"ALERT_CLEAR"},n={REGISTER_REQUEST:"USERS_REGISTER_REQUEST",REGISTER_SUCCESS:"USERS_REGISTER_SUCCESS",REGISTER_FAILURE:"USERS_REGISTER_FAILURE",LOGIN_REQUEST:"USERS_LOGIN_REQUEST",LOGIN_SUCCESS:"USERS_LOGIN_SUCCESS",LOGIN_FAILURE:"USERS_LOGIN_FAILURE",LOGOUT:"USERS_LOGOUT",GETALL_REQUEST:"USERS_GETALL_REQUEST",GETALL_SUCCESS:"USERS_GETALL_SUCCESS",GETALL_FAILURE:"USERS_GETALL_FAILURE",DELETE_REQUEST:"USERS_DELETE_REQUEST",DELETE_SUCCESS:"USERS_DELETE_SUCCESS",DELETE_FAILURE:"USERS_DELETE_FAILURE",SESSION_CHECK_REUEST:"SESSION_CHECK_REUEST",SESSION_CHECK_SUCCESS:"SESSION_CHECK_SUCCESS",SESSION_CHECK_FAILURE:"SESSION_CHECK_FAILURE"},s={LOAD_COLUMNS_REQUEST:"LOAD_COLUMNS_REQUEST",LOAD_COLUMNS_SUCCESS:"LOAD_COLUMNS_SUCCESS",LOAD_COLUMNS_FAILURE:"LOAD_COLUMNS_FAILURE",CLEAR_COLUMNS:"CLEAR_COLUMNS",EDIT_SINGLE_REQUEST:"EDIT_SINGLE_REQUEST",EDIT_SINGLE_SUCCESS:"EDIT_SINGLE_SUCCESS",EDIT_SINGLE_FAILURE:"EDIT_SINGLE_FAILURE",EDIT_SINGLE_DELETE_TRACKER:"EDIT_SINGLE_DELETE_TRACKER",DELETE_SINGLE_REQUEST:"DELETE_SINGLE_REQUEST",DELETE_SINGLE_SUCCESS:"DELETE_SINGLE_SUCCESS",DELETE_SINGLE_FAILURE:"DELETE_SINGLE_FAILURE",DELETE_SINGLE_DELETE_TRACKER:"DELETE_SINGLE_DELETE_TRACKER",DELETE_MANY_REQUEST:"DELETE_MANY_REQUEST",DELETE_MANY_SUCCESS:"DELETE_MANY_SUCCESS",DELETE_MANY_FAILURE:"DELETE_MANY_FAILURE",DELETE_MANY_DELETE_TRACKER:"DELETE_MANY_DELETE_TRACKER",DOWNLOAD_XLSX_REQUEST:"DOWNLOAD_XLSX_REQUEST",DOWNLOAD_XLSX_SUCCESS:"DOWNLOAD_XLSX_SUCCESS",DOWNLOAD_XLSX_FAILURE:"DOWNLOAD_XLSX_FAILURE",SET_ROW_ADD_TRACKER:"SET_ROW_ADD_TRACKER",ROW_ADD_SUCCESS:"ROW_ADD_SUCCESS",ROW_ADD_FAILURE:"ROW_ADD_FAILURE",CLEAR_ROW_ADD_TRACKER:"CLEAR_ROW_ADD_TRACKER",SET_VIEW_DEFS_REQUEST:"SET_VIEW_DEFS_REQUEST",SET_VIEW_DEFS_SUCCESS:"SET_VIEW_DEFS_SUCCESS",SET_VIEW_DEFS_FAILURE:"SET_VIEW_DEFS_FAILURE",CLEAR_VIEW_DEFS_TRACER:"CLEAR_VIEW_DEFS_TRACKER",JIRA_REFRESH_REQUEST:"JIRA_REFRESH_REQUEST",JIRA_REFRESH_SUCCESS:"JIRA_REFRESH_SUCCESS",JIRA_REFRESH_FAILURE:"JIRA_REFRESH_FAILURE",JIRA_REFRESH_DELETE_TRACKER:"JIRA_REFRESH_DELETE_TRACKER",ADD_FILTER_REQUEST:"ADD_FILTER_REQUEST",ADD_FILTER_SUCCESS:"ADD_FILTER_SUCCESS",ADD_FILTER__FAILURE:"ADD_FILTER__FAILURE",CLEAR_ADD_FILTER_TRACKER:"CLEAR_ADD_FILTER_TRACKER",EDIT_FILTER_REQUEST:"EDIT_FILTER_REQUEST",EDIT_FILTER_SUCCESS:"EDIT_FILTER_SUCCESS",EDIT_FILTER__FAILURE:"EDIT_FILTER__FAILURE",CLEAR_EDIT_FILTER_TRACKER:"CLEAR_EDIT_FILTER_TRACKER",DELETE_FILTER_REQUEST:"DELETE_FILTER_REQUEST",DELETE_FILTER_SUCCESS:"DELETE_FILTER_SUCCESS",DELETE_FILTER__FAILURE:"DELETE_FILTER__FAILURE",CLEAR_DELETE_FILTER_TRACKER:"CLEAR_DELETE_FILTER_TRACKER",CLEAR_DS:"CLEAR_DS",UPLOAD_BULK_XLS_REQUEST:"UPLOAD_BULK_XLS_REQUEST",UPLOAD_BULK_XLS_SUCCESS:"UPLOAD_BULK_XLS_SUCCESS",UPLOAD_BULK_XLS_FAILURE:"UPLOAD_BULK_XLS_FAILURE",SET_BULK_SELECTED_SHEET:"SET_BULK_SELECTED_SHEET",LOAD_BULK_FROM_RANGE_REQUEST:"LOAD_BULK_FROM_RANGE_REQUEST",LOAD_BULK_FROM_RANGE_SUCCESS:"LOAD_BULK_FROM_RANGE_SUCCESS",LOAD_BULK_FROM_RANGE_FAILURE:"LOAD_BULK_FROM_RANGE_FAILURE",CLEAR_LOADSTATUS:"CLEAR_LOADSTATUS",BULK_EDIT_REQUEST:"BULK_EDIT_REQUEST",BULK_EDIT_SUCCESS:"BULK_EDIT_SUCCESS",BULK_EDIT_FAILURE:"BULK_EDIT_FAILURE",GET_DEFAULT_TYPE_FIELDS_VALUES_REQUEST:"GET_DEFAULT_TYPE_FIELDS_VALUES_REQUEST",GET_DEFAULT_TYPE_FIELDS_VALUES_SUCCESS:"GET_DEFAULT_TYPE_FIELDS_VALUES_SUCCESS",GET_DEFAULT_TYPE_FIELDS_VALUES_FAILURE:"GET_DEFAULT_TYPE_FIELDS_VALUES_FAILURE"},i={LOAD_DSLIST_REQUEST:"LOAD_DSLIST_REQUEST",LOAD_DSLIST_SUCCESS:"LOAD_DSLIST_SUCCESS",LOAD_DSLIST_FAILURE:"LOAD_DSLIST_FAILURE",SEEKING_DELETE_CONFIRM:"SEEKING_DELETE_CONFIRM",DELETE_DS_REQUEST:"DELETE_DS_REQUEST",DELETE_DS_SUCCESS:"DELETE_DS_SUCCESS",DELETE_DS_FAILURE:"DELETE_DS_FAILURE"};a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return n})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return i}))},101:function(e,t,a){"use strict";var r=a(58);t.a=function(e,t,a,n,s){var i=this,l=this,o=e.getElement(),c=e.getValue(),d=s.verticalNavigation||"editor",u="undefined"!==typeof c||null===c?c:"undefined"!==typeof s.defaultValue?s.defaultValue:"",m=document.createElement("input"),p=document.createElement("div"),h=[],f=!1,g=!0,E=!1,b=e.getValue();if(console.log("curVal: ",b),console.log("initialValue before nullifying it: ",c),c=null,console.log("initialValue: ",c),console.log("initialDisplayValue: ",u),s.conditionalValues){s.values=[];for(var v=e.getRow().getData(),y=0;y<s.conditionalExprs.length;y++){var S=s.conditionalExprs[y].split(":")[0].trim(),C=r.a.parseExpr(S);if(r.a.evalExpr(C,v)){var w=s.conditionalExprs[y].split(":")[1].trim();w=JSON.parse(w),s.values=w;break}}}if(m.setAttribute("type","search"),m.style.padding="4px",m.style.width="100%",m.style.boxSizing="border-box",s.elementAttributes&&"object"==typeof s.elementAttributes)for(var _ in s.elementAttributes)"+"==_.charAt(0)?(_=_.slice(1),m.setAttribute(_,m.getAttribute(_)+s.elementAttributes["+"+_])):m.setAttribute(_,s.elementAttributes[_]);function O(){!0===s.values?E=D():"string"===typeof s.values&&(E=D(s.values))}function D(t){var a,r={},n=l.table.getData();return(a=t?l.table.columnManager.getColumnByField(t):e.getColumn()._getSelf())?(n.forEach((function(e){var t=a.getFieldValue(e);null!==t&&"undefined"!==typeof t&&""!==t&&(r[t]=!0)})),r=s.sortValuesList?"asc"==s.sortValuesList?Object.keys(r).sort():Object.keys(r).sort().reverse():Object.keys(r)):console.warn("unable to find matching column to create autocomplete lookup list:",t),r}function A(e,t){for(var a=[],r=0;r<e.length;r++){for(var n=!1,s=0;s<t.length;s++)if(e[r].value===t[s].trim()){n=!0;break}n||a.push(e[r])}return a}function k(e,t,a){var r,n,i=[];(r=E||(s.values||[]),s.searchFunc)?(i=s.searchFunc(e,r))instanceof Promise?(R("undefined"!==typeof s.searchingPlaceholder?s.searchingPlaceholder:"Searching..."),i.then((function(e){x(A(e=L(e),a),t)})).catch((function(e){console.err("error in autocomplete search promise:",e)}))):x(A(i=L(i),a),t):(n=L(r),""===e||null===e?s.showListOnEmpty&&(i=n):n.forEach((function(t){null===t.value&&"undefined"===typeof t.value||(String(t.value).toLowerCase().indexOf(String(e).toLowerCase())>-1||String(t.title).toLowerCase().indexOf(String(e).toLowerCase())>-1)&&i.push(t)})),x(A(i,a),t))}function j(e){var t,a=[];t=E||(s.values||[]),s.searchFunc?(a=s.searchFunc("",t))instanceof Promise&&(a=[]):a=t,Array.isArray(a)||(a=Object.keys(a));for(var r=[],n=0;n<e.length;n++){for(var i=!1,l=0;l<a.length;l++)if(e[n].trim()===a[l]){i=!0;break}i&&r.push(e[n].trim())}return r}function T(e){for(var t={},a=0;a<e.length;a++)t[e[a]]=1;return Object.keys(t)}function R(e){var t=document.createElement("div");F(),!1!==e&&(t.classList.add("tabulator-edit-select-list-notice"),t.tabIndex=0,e instanceof Node?t.appendChild(e):t.innerHTML=e,p.appendChild(t))}function L(e){var t=[];if(Array.isArray(e))e.forEach((function(e){var a={};"object"===typeof e?(a.title=s.listItemFormatter?s.listItemFormatter(e.value,e.label):e.label,a.value=e.value):(a.title=s.listItemFormatter?s.listItemFormatter(e,e):e,a.value=e),t.push(a)}));else for(var a in e){var r={title:s.listItemFormatter?s.listItemFormatter(a,e[a]):e[a],value:a};t.push(r)}return t}function F(){for(;p.firstChild;)p.removeChild(p.firstChild)}function x(e,t){e.length?function(e,t){var a=!1;F(),(h=e).forEach((function(e){var r=e.element;r||((r=document.createElement("div")).classList.add("tabulator-edit-select-list-item"),r.tabIndex=0,r.innerHTML=e.title,r.addEventListener("click",(function(t){U(e),N()})),r.addEventListener("mousedown",(function(e){g=!1,console.log("eL mousedown"),setTimeout((function(){g=!0}),10)})),e.element=r,t&&e.value==c&&(m.value=e.title,e.element.classList.add("active"),a=!0),e===f&&(e.element.classList.add("active"),a=!0)),p.appendChild(r)})),a||U(!1)}(e,t):s.emptyPlaceholder&&R(s.emptyPlaceholder)}function N(){if(V(),console.log("Chooseitem!"),f)if(c!==f.value){for(var e="",t=m.value.split(","),r=0;r<t.length-1;r++)e&&(e+=", "),e+=t[r].trim();e&&(e+=", ");var i=(e+=f.value.trim()).split(",");i=T(i),s.freetext||(i=j(i)),e=i.join(", "),a(e)}else n();else{for(var l="",o=m.value.split(","),d=0;d<o.length-1;d++)l&&(l+=", "),l+=o[d].trim();var p=function(e){var t,a,r=[];if(t=E||(s.values||[]),s.searchFunc){if((r=s.searchFunc(e,t))instanceof Promise)return{status:!1,match:""}}else a=L(t),""===e?s.showListOnEmpty&&(r=a):a.forEach((function(t){null===t.value&&"undefined"===typeof t.value||(String(t.value).toLowerCase().indexOf(String(e).toLowerCase())>-1||String(t.title).toLowerCase().indexOf(String(e).toLowerCase())>-1)&&r.push(t)}));return 1===r.length?{status:!0,match:r[0].value}:{status:!1,match:""}}(o[o.length-1]),h=p.status,g=p.match;if(h&&(l&&(l+=", "),l+=g),1===o.length&&s.freetext&&(l&&(l+=", "),l+=m.value.trim()),""===l&&s.allowEmpty)a(l);else if(l){var b=l.split(",");b=T(b),s.freetext||(b=j(b)),(l=b.join(", "))!==u?a(l):n()}else n()}}function I(){if(!p.parentNode){for(;p.firstChild;)p.removeChild(p.firstChild);var e=function(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset-document.documentElement.clientTop,left:t.left+window.pageXOffset-document.documentElement.clientLeft}}(o);p.style.minWidth=o.offsetWidth+"px",p.style.top=e.top+o.offsetHeight+"px",p.style.left=e.left+"px",document.body.appendChild(p)}}function U(e,t){f&&f.element&&f.element.classList.remove("active"),f=e,e&&e.element&&e.element.classList.add("active")}function V(){p.parentNode&&p.parentNode.removeChild(p),l.table.rowManager.element.removeEventListener("scroll",P)}function P(){V(),n()}p.classList.add("tabulator-edit-select-list"),p.addEventListener("mousedown",(function(e){g=!1,console.log("listEL mousedown"),setTimeout((function(){g=!0}),10)})),m.addEventListener("keydown",(function(e){var t;switch(e.keyCode){case 38:t=h.indexOf(f),("editor"==d||"hybrid"==d&&t)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),U(t>0&&h[t-1]));break;case 40:t=h.indexOf(f),("editor"==d||"hybrid"==d&&t<h.length-1)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t<h.length-1&&U(-1==t?h[0]:h[t+1]));break;case 37:case 39:e.stopImmediatePropagation(),e.stopPropagation();break;case 13:N();break;case 27:P();break;case 36:case 35:e.stopImmediatePropagation()}})),m.addEventListener("keyup",(function(e){switch(e.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:var t=m.value.split(","),a=[];t.length>1&&(a=t.slice(0,t.length-1)),k(t[t.length-1].trim(),!1,a)}})),m.addEventListener("search",(function(e){k(m.value,!1,[])})),m.addEventListener("blur",(function(e){g?N():console.log("Not calling chooseItem!")})),m.addEventListener("focus",(function(e){O(),I(),m.value=""!==u&&null!==u?u+",":"";var t=m.value.split(","),a=[];t.length>1&&(a=t.slice(0,t.length-1)),k("",!0,a)})),t((function(){m.style.height="100%",m.focus({preventScroll:!0})})),s.mask&&this.table.modules.edit.maskInput(m,s),setTimeout((function(){i.table.rowManager.element.addEventListener("scroll",P)}),10),O(),m.value=u+",";var M=m.value.split(","),H=[];return M.length>1&&(H=M.slice(0,M.length-1)),k("",!0,H),m}},104:function(e,t,a){"use strict";var r=a(6),n=a(7),s=a(9),i=a(8),l=a(10),o=a(0),c=a.n(o),d=a(70),u=a(78),m=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this;if(!this.props.show)return null;return c.a.createElement("div",{style:{position:"fixed",top:0,bottom:0,left:0,right:0,backgroundColor:"rgba(0,0,0,0.3)",padding:10}},c.a.createElement("div",{style:{backgroundColor:"#fff",borderRadius:5,maxWidth:600,margin:"0 auto",padding:5}},c.a.createElement(d.a.Header,null,c.a.createElement(d.a.Title,null,this.props.title)),c.a.createElement("div",{style:{height:400,overflowY:"auto"}},c.a.createElement(d.a.Body,null,this.props.children)),c.a.createElement(d.a.Footer,null,c.a.createElement(u.a,{variant:"secondary",disabled:this.props.grayOutModalButtons,onClick:function(){return e.props.onClose(!1,e.props.toggleModalOnClose)}},this.props.cancel?this.props.cancel:"Cancel"),c.a.createElement(u.a,{variant:"primary",disabled:this.props.grayOutModalButtons,onClick:function(){return e.props.onClose(!0,e.props.toggleModalOnClose)}},this.props.ok?this.props.ok:"Do It!"))))}}]),t}(c.a.Component);t.a=m},127:function(e,t,a){},14:function(e,t,a){"use strict";var r=a(42),n=Object(r.a)(),s=a(75),i=a(300),l=(a(324),a(16)),o=a(1);function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u=JSON.parse(localStorage.getItem("user")),m=u?{loggedIn:!1,user:u}:{};var p=a(88);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g=a(34),E=a(182);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(a,!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var y={};var S=Object(s.c)({authentication:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.d.LOGIN_REQUEST:return{loggingIn:!0,user:t.user};case o.d.LOGIN_SUCCESS:return{loggedIn:!0,user:t.user};case o.d.LOGIN_FAILURE:case o.d.LOGOUT:return{};case o.d.SESSION_CHECK_REUEST:return d({},m,{loggingIn:!0});case o.d.SESSION_CHECK_SUCCESS:return d({},m,{loggedIn:!0});case o.d.SESSION_CHECK_FAILURE:return{};default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case o.d.REGISTER_REQUEST:return{registering:!0};case o.d.REGISTER_SUCCESS:case o.d.REGISTER_FAILURE:return{};default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.d.GETALL_REQUEST:return{loading:!0};case o.d.GETALL_SUCCESS:return{items:t.users};case o.d.GETALL_FAILURE:return{error:t.error};case o.d.DELETE_REQUEST:return f({},e,{items:e.items.map((function(e){return e.id===t.id?f({},e,{deleting:!0}):e}))});case o.d.DELETE_SUCCESS:return{items:e.items.filter((function(e){return e.id!==t.id}))};case o.d.DELETE_FAILURE:return f({},e,{items:e.items.map((function(e){if(e.id===t.id){e.deleting;return f({},Object(p.a)(e,["deleting"]),{deleteError:t.error})}return e}))});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.a.SUCCESS:return{type:"alert-success",message:t.message};case o.a.ERROR:return{type:"alert-danger",message:t.message};case o.a.CLEAR:return{};default:return e}},allDs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.b.LOAD_DSLIST_REQUEST:return{dsListStatus:"loading"};case o.b.LOAD_DSLIST_SUCCESS:return{dsListStatus:"success",dsList:t.dsList};case o.b.LOAD_DSLIST_FAILURE:return{dsListStatus:"fail"};case o.b.SEEKING_DELETE_CONFIRM:var a={};return e.deleteConfirm&&(a=e.deleteConfirm),a[t.dsName]=1,v({},e,{deleteConfirm:a});case o.b.DELETE_DS_REQUEST:var r={};return e.deleteInProgress&&(r=e.deleteInProgress),r[t.dsName]=1,v({},e,{deleteInProgress:r});case o.b.DELETE_DS_SUCCESS:delete e.deleteInProgress[t.dsName],delete e.deleteConfirm[t.dsName];for(var n=e.dsList.dbList,s=[],i=0;i<n.length;i++)n[i].name!==t.dsName&&s.push(n[i]);return e.dsList.dbList=s,v({},e);default:return e}},newDs:g.a,dsHome:E.a}),C=function(){var e=[i.a];return Object(s.d)(S,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__(),s.a.apply(void 0,e))}();function w(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{authorization:"Bearer "+e.token}:{}}a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return C})),a.d(t,"a",(function(){return w}))},17:function(e,t,a){"use strict";var r=a(2),n=a.n(r),s=a(16),i=a(5),l=a(14);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(a,!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={login:function(e,t){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t}),credentials:"include"};return fetch("".concat(u.apiUrl,"/login"),a).then(h).then((function(e){return e.user.token&&localStorage.setItem("user",JSON.stringify(e.user)),e}))},logout:m,register:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include"};return fetch("".concat(u.apiUrl,"/users/register"),t).then(h)},getAll:function(){var e={method:"GET",headers:Object(l.a)(),credentials:"include"};return fetch("".concat(u.apiUrl,"/users"),e).then(h)},getById:function(e){var t={method:"GET",headers:Object(l.a)(),credentials:"include"};return fetch("".concat(u.apiUrl,"/users/").concat(e),t).then(h)},update:function(e){var t={method:"PUT",headers:c({},Object(l.a)(),{"Content-Type":"application/json"}),body:JSON.stringify(e),credentials:"include"};return fetch("".concat(u.apiUrl,"/users/").concat(e.id),t).then(h)},delete:function(e){var t={method:"DELETE",headers:Object(l.a)(),credentials:"include"};return fetch("".concat(u.apiUrl,"/users/").concat(e),t).then(h)},sessionCheck:function(e){return f.apply(this,arguments)}},u={};function m(){return p.apply(this,arguments)}function p(){return(p=Object(i.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("logging out..."),e.next=4,fetch("".concat(u.apiUrl,"/logout"),{method:"GET",credentials:"include"});case 4:e.sent.ok&&localStorage.removeItem("user"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error in logging out:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function h(e){return e.text().then((function(t){var a=t&&JSON.parse(t);if(!e.ok){401===e.status&&m();var r=a&&a.message||e.statusText;return Promise.reject(r)}return{user:JSON.parse(a.user),redirectUrl:a.redirectUrl}}))}function f(){return(f=Object(i.a)(n.a.mark((function e(t){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r="".concat(u.apiUrl,"/sessionCheck"),e.next=4,fetch(r,{method:"get",headers:c({},Object(l.a)(),{"Content-Type":"application/json",user:t.user}),credentials:"include"});case 4:if(!(a=e.sent).ok){e.next=9;break}return e.abrupt("return",!0);case 9:throw console.log("Response not ok in sessionCheck!",a),new Error("Response not ok in sessiosCheck!");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("sessionCheck! has errors!",e.t0);case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(a,!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}u.apiUrl="";var b={fileUpload:function(e){return y.apply(this,arguments)},findHeadersInSheet:function(e){return S.apply(this,arguments)},loadHdrsFromRange:function(e){return C.apply(this,arguments)},createDs:function(e){return w.apply(this,arguments)},createDsFromDs:function(e){return D.apply(this,arguments)},csvFileUpload:function(e){return _.apply(this,arguments)},createDsViaCsv:function(e){return O.apply(this,arguments)},uploadAttachment:function(e){return A.apply(this,arguments)},deleteOneAttachment:function(e){return k.apply(this,arguments)}},v={};function y(){return(y=Object(i.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={method:"POST",body:t,headers:new Headers(E({},Object(l.a)())),credentials:"include"},r=null,e.next=5,fetch("".concat(v.apiUrl,"/upload"),a);case 5:if(!(s=e.sent).ok){e.next=11;break}return e.next=9,s.json();case 9:r=e.sent,console.log("uploaded",r);case 11:return console.log(s),e.abrupt("return",r);case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function S(){return(S=Object(i.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Starting API call: ",t),a=JSON.stringify(t).length.toString(),e.next=5,fetch("".concat(v.apiUrl,"/upload/findHeadersInSheet"),{method:"post",body:JSON.stringify(t),headers:E({"Content-Type":"application/json","Content-Length":a},Object(l.a)()),credentials:"include"});case 5:if(r=e.sent,s=null,console.log("Finished fetch"),!r.ok){e.next=13;break}return e.next=11,r.json();case 11:s=e.sent,console.log("findHeadersInSheet",s);case 13:return console.log(r),e.abrupt("return",s);case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function C(){return(C=Object(i.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Starting API call: ",t),a=JSON.stringify(t).length.toString(),e.next=5,fetch("".concat(v.apiUrl,"/upload/loadHdrsFromRange"),{method:"post",body:JSON.stringify(t),headers:E({"Content-Type":"application/json","Content-Length":a},Object(l.a)()),credentials:"include"});case 5:if(r=e.sent,s=null,console.log("Finished fetch"),!r.ok){e.next=13;break}return e.next=11,r.json();case 11:s=e.sent,console.log("loadHdrsFromRange: ",s);case 13:return e.abrupt("return",s);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function w(){return(w=Object(i.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Starting API call: ",t),a=JSON.stringify(t).length.toString(),e.next=5,fetch("".concat(v.apiUrl,"/upload/createDs"),{method:"post",body:JSON.stringify(t),headers:E({"Content-Type":"application/json","Content-Length":a},Object(l.a)()),credentials:"include"});case 5:if(r=e.sent,s=null,console.log("Finished fetch"),!r.ok){e.next=13;break}return e.next=11,r.json();case 11:s=e.sent,console.log("createDs ",s);case 13:return e.abrupt("return",s);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function _(){return(_=Object(i.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={method:"POST",body:t,headers:new Headers(E({},Object(l.a)())),credentials:"include"},r=null,e.next=5,fetch("".concat(v.apiUrl,"/uploadCsv"),a);case 5:if(!(s=e.sent).ok){e.next=11;break}return e.next=9,s.json();case 9:r=e.sent,console.log("uploaded csv",r);case 11:return console.log(s),e.abrupt("return",r);case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function O(){return(O=Object(i.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Starting API call: ",t),a=JSON.stringify(t).length.toString(),e.next=5,fetch("".concat(v.apiUrl,"/uploadCsv/createDs"),{method:"post",body:JSON.stringify(t),headers:E({"Content-Type":"application/json","Content-Length":a},Object(l.a)()),credentials:"include"});case 5:if(r=e.sent,s=null,console.log("Finished fetch"),!r.ok){e.next=13;break}return e.next=11,r.json();case 11:s=e.sent,console.log("createDs ",s);case 13:return e.abrupt("return",s);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function D(){return(D=Object(i.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Starting API call: ",t),a=JSON.stringify(t).length.toString(),e.next=5,fetch("".concat(v.apiUrl,"/ds/createDsFromDs"),{method:"post",body:JSON.stringify(t),headers:E({"Content-Type":"application/json","Content-Length":a},Object(l.a)()),credentials:"include"});case 5:if(r=e.sent,s=null,console.log("Finished fetch"),!r.ok){e.next=13;break}return e.next=11,r.json();case 11:s=e.sent,console.log("createDsFromDs: ",s);case 13:return e.abrupt("return",s);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function A(){return(A=Object(i.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={method:"POST",body:t,headers:new Headers(E({},Object(l.a)())),credentials:"include"},r=null,e.next=5,fetch("".concat(v.apiUrl,"/uploadAttachments"),a);case 5:if(!(s=e.sent).ok){e.next=11;break}return e.next=9,s.json();case 9:r=e.sent,console.log("uploaded",r);case 11:return console.log(s),e.abrupt("return",r);case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function k(){return(k=Object(i.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Starting API call: ",t),a=JSON.stringify(t).length.toString(),e.next=5,fetch("".concat(v.apiUrl,"/uploadAttachments/deleteAttachment"),{method:"post",body:JSON.stringify(t),headers:E({"Content-Type":"application/json","Content-Length":a},Object(l.a)()),credentials:"include"});case 5:if(r=e.sent,s=null,console.log("Finished API"),!r.ok){e.next=13;break}return e.next=11,r.json();case 11:s=e.sent,console.log("deleteOneAttachment: ",s);case 13:return e.abrupt("return",s);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}v.apiUrl="";var j=a(195);a.d(t,"c",(function(){return d})),a.d(t,"b",(function(){return b})),a.d(t,"a",(function(){return j.a}))},182:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a(16),n=a(1);function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var l={};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.c.LOAD_COLUMNS_REQUEST:var a=i({},e);return a.dsViews||(a.dsViews={}),a.dsViews[t.dsView]={status:"loading"},a;case n.c.LOAD_COLUMNS_SUCCESS:var r=i({},e);return r.dsViews||(r.dsViews={}),r.dsViews[t.dsView]={status:"success",columns:t.columnsAndKeys.columns,columnAttrs:t.columnsAndKeys.columnAttrs,keys:t.columnsAndKeys.keys,jiraConfig:t.columnsAndKeys.jiraConfig,dsDescription:t.columnsAndKeys.dsDescription,filters:t.columnsAndKeys.filters,otherTableAttrs:t.columnsAndKeys.otherTableAttrs,aclConfig:t.columnsAndKeys.aclConfig,jiraAgileConfig:t.columnsAndKeys.jiraAgileConfig,jiraProjectName:t.columnsAndKeys.jiraProjectName},r;case n.c.LOAD_COLUMNS_FAILURE:var s=i({},e);return s.dsViews||(s.dsViews={}),s.dsViews[t.dsView]={status:"fail",error:t.message},s;case n.c.GET_DEFAULT_TYPE_FIELDS_VALUES_REQUEST:var o=i({},e);return o.defaultTypeFieldsAndValues||(o.defaultTypeFieldsAndValues={}),o.defaultTypeFieldsAndValues={status:"loading"},o;case n.c.GET_DEFAULT_TYPE_FIELDS_VALUES_SUCCESS:var c=i({},e);return c.defaultTypeFieldsAndValues||(c.defaultTypeFieldsAndValues={}),c.defaultTypeFieldsAndValues={status:"success",value:t.defaultTypeFieldsAndValues},c;case n.c.GET_DEFAULT_TYPE_FIELDS_VALUES_FAILURE:var d=i({},e);return d.defaultTypeFieldsAndValues||(d.defaultTypeFieldsAndValues={}),d.defaultTypeFieldsAndValues={status:"fail",error:t.message},d;case n.c.EDIT_SINGLE_REQUEST:var u=i({},e);return u.dsEdits||(u.dsEdits={}),u.dsEdits[t._id]={editStatus:"editing",editTracker:t.editTracker},u;case n.c.EDIT_SINGLE_SUCCESS:var m=i({},e);return m.dsEdits||(m.dsEdits={}),m.dsEdits[t._id]={editStatus:"done",serverStatus:t.serverStatus,editTracker:t.editTracker},m;case n.c.EDIT_SINGLE_FAILURE:var p=i({},e);return p.dsEdits||(p.dsEdits={}),p.dsEdits[t._id]={editStatus:"fail",editTracker:t.editTracker,error:t.message},p;case n.c.EDIT_SINGLE_DELETE_TRACKER:var h=i({},e);return h.dsEdits||(h.dsEdits={}),delete h.dsEdits[t._id],h;case n.c.CLEAR_COLUMNS:return{};case n.c.SET_ROW_ADD_TRACKER:var f=i({},e);return f.dsRowAdds||(f.dsRowAdds={}),f.dsRowAdds[t.dsView]=i({},f.dsRowAdds[t.dsView],{status:t.status,uiRow:t.uiRow}),f;case n.c.ROW_ADD_SUCCESS:var g=i({},e);return g.dsRowAdds||(g.dsRowAdds={}),g.dsRowAdds[t.dsView]=i({},g.dsRowAdds[t.dsView],{status:t.status,serverStatus:t.serverStatus}),g;case n.c.ROW_ADD_FAILURE:var E=i({},e);return E.dsRowAdds||(E.dsRowAdds={}),E.dsRowAdds[t.dsView]=i({},E.dsRowAdds[t.dsView],{status:t.status,error:t.message}),E;case n.c.CLEAR_ROW_ADD_TRACKER:return delete e.dsRowAdds,e;case n.c.DELETE_SINGLE_REQUEST:var b=i({},e);return b.dsDeletes||(b.dsDeletes={}),b.dsDeletes[t._id]={deleteStatus:"deleting",deleteTracker:t.deleteTracker},b;case n.c.DELETE_SINGLE_SUCCESS:var v=i({},e);return v.dsDeletes||(v.dsDeletes={}),v.dsDeletes[t._id]={deleteStatus:"done",serverStatus:t.serverStatus,deleteTracker:t.deleteTracker},v;case n.c.DELETE_SINGLE_FAILURE:var y=i({},e);return y.dsDeletes||(y.dsDeletes={}),y.dsDeletes[t._id]={deleteStatus:"fail",deleteTracker:t.deleteTracker,error:t.message},y;case n.c.DELETE_SINGLE_DELETE_TRACKER:var S=i({},e);return S.dsDeletes||(S.dsDeletes={}),delete S.dsDeletes[t._id],S;case n.c.SET_VIEW_DEFS_REQUEST:var C=i({},e);return C.dsSetView||(C.dsSetView={}),C.dsSetView.dsName=t.dsName,C.dsSetView.dsView=t.dsView,C.dsSetView.status="setting",C;case n.c.SET_VIEW_DEFS_SUCCESS:var w=i({},e);return w.dsSetView||(w.dsSetView={}),w.dsSetView.dsName=t.dsName,w.dsSetView.dsView=t.dsView,w.dsSetView.status="success",w.dsSetView.serverStatus=t.serverStatus,w;case n.c.SET_VIEW_DEFS_FAILURE:var _=i({},e);return _.dsSetView||(_.dsSetView={}),_.dsSetView.dsName=t.dsName,_.dsSetView.dsView=t.dsView,_.dsSetView.status="fail",_.dsSetView.message=t.message,_;case n.c.CLEAR_VIEW_DEFS_TRACER:var O=i({},e);return delete O.dsSetView,O;case n.c.JIRA_REFRESH_REQUEST:var D=i({},e);return D.dsJiraRefresh||(D.dsJiraRefresh={}),D.dsJiraRefresh.dsName=t.dsName,D.dsJiraRefresh.dsView=t.dsView,D.dsJiraRefresh.status="refreshing",D;case n.c.JIRA_REFRESH_SUCCESS:var A=i({},e);return A.dsJiraRefresh||(A.dsJiraRefresh={}),A.dsJiraRefresh.dsName=t.dsName,A.dsJiraRefresh.dsView=t.dsView,A.dsJiraRefresh.status="done",A.dsJiraRefresh.serverStatus=t.serverStatus,A;case n.c.JIRA_REFRESH_FAILURE:var k=i({},e);return k.dsJiraRefresh||(k.dsJiraRefresh={}),k.dsJiraRefresh.dsName=t.dsName,k.dsJiraRefresh.dsView=t.dsView,k.dsJiraRefresh.status="fail",k.dsJiraRefresh.message=t.message,k;case n.c.JIRA_REFRESH_DELETE_TRACKER:var j=i({},e);return j.dsJiraRefresh||(j.dsJiraRefresh={}),j.dsJiraRefresh.status="dusted",j;case n.c.DELETE_MANY_REQUEST:var T=i({},e);return T.dsDeletes||(T.dsDeletes={}),T.dsDeletes.__dg__DELETE_MANY={deleteStatus:"deleting",deleteTracker:t.deleteTracker},T;case n.c.DELETE_MANY_SUCCESS:var R=i({},e);return R.dsDeletes||(R.dsDeletes={}),R.dsDeletes.__dg__DELETE_MANY={deleteStatus:"done",serverStatus:t.serverStatus,deleteTracker:t.deleteTracker},R;case n.c.DELETE_MANY_FAILURE:var L=i({},e);return L.dsDeletes||(L.dsDeletes={}),L.dsDeletes.__dg__DELETE_MANY={deleteStatus:"fail",deleteTracker:t.deleteTracker,error:t.message},L;case n.c.DELETE_MANY_DELETE_TRACKER:var F=i({},e);return F.dsDeletes||(F.dsDeletes={}),delete F.dsDeletes.__dg__DELETE_MANY,F;case n.c.ADD_FILTER_REQUEST:var x=i({},e);return x.dsFilterAdds||(x.dsFilterAdds={}),x.dsFilterAdds[t.dsView]=i({},x.dsFilterAdds[t.dsView],{status:t.status,filter:t.filter}),x;case n.c.ADD_FILTER_SUCCESS:var N=i({},e);return N.dsFilterAdds||(N.dsFilterAdds={}),N.dsFilterAdds[t.dsView]=i({},N.dsFilterAdds[t.dsView],{status:t.status,serverStatus:t.serverStatus}),N;case n.c.ADD_FILTER__FAILURE:var I=i({},e);return I.dsFilterAdds||(I.dsFilterAdds={}),I.dsFilterAdds[t.dsView]=i({},I.dsFilterAdds[t.dsView],{status:t.status,error:t.message}),I;case n.c.CLEAR_ADD_FILTER_TRACKER:var U=i({},e);return delete U.dsFilterAdds,U;case n.c.EDIT_FILTER_REQUEST:var V=i({},e);return V.dsFilterEdits||(V.dsFilterEdits={}),V.dsFilterEdits[t.dsView]=i({},V.dsFilterEdits[t.dsView],{status:t.status,filter:t.filter}),V;case n.c.EDIT_FILTER_SUCCESS:var P=i({},e);return P.dsFilterEdits||(P.dsFilterEdits={}),P.dsFilterEdits[t.dsView]=i({},P.dsFilterEdits[t.dsView],{status:t.status,serverStatus:t.serverStatus}),P;case n.c.EDIT_FILTER__FAILURE:var M=i({},e);return M.dsFilterEdits||(M.dsFilterEdits={}),M.dsFilterEdits[t.dsView]=i({},M.dsFilterEdits[t.dsView],{status:t.status,error:t.message}),M;case n.c.CLEAR_EDIT_FILTER_TRACKER:var H=i({},e);return delete H.dsFilterEdits,H;case n.c.DELETE_FILTER_REQUEST:var J=i({},e);return J.dsFilterDeletes||(J.dsFilterDeletes={}),J.dsFilterDeletes[t.dsView]=i({},J.dsFilterDeletes[t.dsView],{status:t.status,filter:t.filter}),J;case n.c.DELETE_FILTER_SUCCESS:var B=i({},e);return B.dsFilterDeletes||(B.dsFilterDeletes={}),B.dsFilterDeletes[t.dsView]=i({},B.dsFilterDeletes[t.dsView],{status:t.status,serverStatus:t.serverStatus}),B;case n.c.DELETE_FILTER__FAILURE:var Q=i({},e);return Q.dsFilterDeletes||(Q.dsFilterDeletes={}),Q.dsFilterDeletes[t.dsView]=i({},Q.dsFilterDeletes[t.dsView],{status:t.status,error:t.message}),Q;case n.c.CLEAR_DELETE_FILTER_TRACKER:var K=i({},e);return delete K.dsFilterDeletes,K;case n.c.CLEAR_DS:var G=i({},e);return delete G.dsBulkEdits,G;case n.c.UPLOAD_BULK_XLS_REQUEST:var z=i({},e);return z.dsBulkEdits||(z.dsBulkEdits={}),z.dsBulkEdits.uploadStatus="uploading",z.dsBulkEdits.fileName=t.fileName,z;case n.c.UPLOAD_BULK_XLS_SUCCESS:var W=i({},e);return W.dsBulkEdits||(W.dsBulkEdits={}),W.dsBulkEdits.uploadStatus="success",W.dsBulkEdits.fileName=t.fileName,W.dsBulkEdits.sheetInfo=t.sheetInfo,W;case n.c.UPLOAD_BULK_XLS_FAILURE:var X=i({},e);return X.dsBulkEdits||(X.dsBulkEdits={}),X.dsBulkEdits.uploadStatus="fail",X.dsBulkEdits.uploadError=t.message,X;case n.c.SET_BULK_SELECTED_SHEET:var Y=i({},e);return Y.dsBulkEdits||(Y.dsBulkEdits={}),Y.dsBulkEdits.selectedSheet=t.sheetName,Y;case n.c.BULK_EDIT_REQUEST:var q=i({},e);return q.dsBulkEdits||(q.dsBulkEdits={}),q.dsBulkEdits.selectedRange=t.selectedRange,q;case n.c.BULK_EDIT_SUCCESS:var $=i({},e);return $.dsBulkEdits||($.dsBulkEdits={}),$.dsBulkEdits.loadStatus=t.loadStatus,$;case n.c.BULK_EDIT_FAILURE:var Z=i({},e);return Z.dsBulkEdits||(Z.dsBulkEdits={}),Z.dsBulkEdits.loadStatus=t.loadStatus,Z;case n.c.CLEAR_LOADSTATUS:var ee=i({},e);return delete ee.dsBulkEdits.loadStatus,ee;default:return e}}},185:function(e,t,a){"use strict";var r=a(58);t.a=function(e,t,a,n,s){var i=this,l=this,o=e.getElement(),c=e.getValue(),d=s.verticalNavigation||"editor",u="undefined"!==typeof c||null===c?c:"undefined"!==typeof s.defaultValue?s.defaultValue:"",m=document.createElement("input"),p=document.createElement("div"),h=[],f=!1,g=!0,E=!1;if(s.conditionalValues){s.values=[];for(var b=e.getRow().getData(),v=0;v<s.conditionalExprs.length;v++){var y=s.conditionalExprs[v].split(":")[0].trim(),S=r.a.parseExpr(y);if(r.a.evalExpr(S,b)){var C=s.conditionalExprs[v].split(":")[1].trim();C=JSON.parse(C),s.values=C;break}}}if(m.setAttribute("type","search"),m.style.padding="4px",m.style.width="100%",m.style.boxSizing="border-box",s.elementAttributes&&"object"==typeof s.elementAttributes)for(var w in s.elementAttributes)"+"==w.charAt(0)?(w=w.slice(1),m.setAttribute(w,m.getAttribute(w)+s.elementAttributes["+"+w])):m.setAttribute(w,s.elementAttributes[w]);function _(){!0===s.values?E=O():"string"===typeof s.values&&(E=O(s.values))}function O(t){var a,r={},n=l.table.getData();return(a=t?l.table.columnManager.getColumnByField(t):e.getColumn()._getSelf())?(n.forEach((function(e){var t=a.getFieldValue(e);null!==t&&"undefined"!==typeof t&&""!==t&&(r[t]=!0)})),r=s.sortValuesList?"asc"==s.sortValuesList?Object.keys(r).sort():Object.keys(r).sort().reverse():Object.keys(r)):console.warn("unable to find matching column to create autocomplete lookup list:",t),r}function D(e,t){var a,r,n=[];a=E||(s.values||[]),s.searchFunc?(n=s.searchFunc(e,a))instanceof Promise?(A("undefined"!==typeof s.searchingPlaceholder?s.searchingPlaceholder:"Searching..."),n.then((function(e){T(k(e),t)})).catch((function(e){console.err("error in autocomplete search promise:",e)}))):T(k(n),t):(r=k(a),""===e?s.showListOnEmpty&&(n=r):r.forEach((function(t){null===t.value&&"undefined"===typeof t.value||(String(t.value).toLowerCase().indexOf(String(e).toLowerCase())>-1||String(t.title).toLowerCase().indexOf(String(e).toLowerCase())>-1)&&n.push(t)})),T(n,t))}function A(e){var t=document.createElement("div");j(),!1!==e&&(t.classList.add("tabulator-edit-select-list-notice"),t.tabIndex=0,e instanceof Node?t.appendChild(e):t.innerHTML=e,p.appendChild(t))}function k(e){var t=[];if(Array.isArray(e))e.forEach((function(e){var a={};"object"===typeof e?(a.title=s.listItemFormatter?s.listItemFormatter(e.value,e.label):e.label,a.value=e.value):(a.title=s.listItemFormatter?s.listItemFormatter(e,e):e,a.value=e),t.push(a)}));else for(var a in e){var r={title:s.listItemFormatter?s.listItemFormatter(a,e[a]):e[a],value:a};t.push(r)}return t}function j(){for(;p.firstChild;)p.removeChild(p.firstChild)}function T(e,t){e.length?function(e,t){var a=!1;j(),(h=e).forEach((function(e){var r=e.element;r||((r=document.createElement("div")).classList.add("tabulator-edit-select-list-item"),r.tabIndex=0,r.innerHTML=e.title,r.addEventListener("click",(function(t){F(e),R()})),r.addEventListener("mousedown",(function(e){g=!1,setTimeout((function(){g=!0}),10)})),e.element=r,t&&e.value==c&&(m.value=e.title,e.element.classList.add("active"),a=!0),e===f&&(e.element.classList.add("active"),a=!0)),p.appendChild(r)})),a||F(!1)}(e,t):s.emptyPlaceholder&&A(s.emptyPlaceholder)}function R(){if(x(),console.log("chooseitem single"),f)c!==f.value?(c=f.value,m.value=f.title,a(f.value)):n();else if(s.freetext)c=m.value,a(m.value);else if(s.allowEmpty&&""===m.value)c=m.value,a(m.value);else{var e=function(e){var t,a,r=[];if(t=E||(s.values||[]),s.searchFunc){if((r=s.searchFunc(e,t))instanceof Promise)return{status:!1,match:""}}else a=k(t),""===e?s.showListOnEmpty&&(r=a):a.forEach((function(t){null===t.value&&"undefined"===typeof t.value||(String(t.value).toLowerCase().indexOf(String(e).toLowerCase())>-1||String(t.title).toLowerCase().indexOf(String(e).toLowerCase())>-1)&&r.push(t)}));return 1===r.length?{status:!0,match:r[0].value}:{status:!1,match:""}}(m.value),t=e.status,r=e.match;t?c!==r?(console.log("Calling success now... ; single"),a(r)):(console.log("Calling cancel..; single"),n()):(console.log("Calling cancel now...; single"),n())}}function L(){if(!p.parentNode){for(;p.firstChild;)p.removeChild(p.firstChild);var e=function(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset-document.documentElement.clientTop,left:t.left+window.pageXOffset-document.documentElement.clientLeft}}(o);p.style.minWidth=o.offsetWidth+"px",p.style.top=e.top+o.offsetHeight+"px",p.style.left=e.left+"px",document.body.appendChild(p)}}function F(e,t){f&&f.element&&f.element.classList.remove("active"),f=e,e&&e.element&&e.element.classList.add("active")}function x(){p.parentNode&&p.parentNode.removeChild(p),l.table.rowManager.element.removeEventListener("scroll",N)}function N(){x(),n()}return p.classList.add("tabulator-edit-select-list"),p.addEventListener("mousedown",(function(e){g=!1,setTimeout((function(){g=!0}),10)})),m.addEventListener("keydown",(function(e){var t;switch(e.keyCode){case 38:t=h.indexOf(f),("editor"==d||"hybrid"==d&&t)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),F(t>0&&h[t-1]));break;case 40:t=h.indexOf(f),("editor"==d||"hybrid"==d&&t<h.length-1)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t<h.length-1&&F(-1==t?h[0]:h[t+1]));break;case 37:case 39:e.stopImmediatePropagation(),e.stopPropagation();break;case 13:R();break;case 27:N();break;case 36:case 35:e.stopImmediatePropagation()}})),m.addEventListener("keyup",(function(e){switch(e.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:D(m.value)}})),m.addEventListener("search",(function(e){D(m.value)})),m.addEventListener("blur",(function(e){g&&R()})),m.addEventListener("focus",(function(e){var t=u;_(),L(),m.value=t,D(t,!0)})),t((function(){m.style.height="100%",m.focus({preventScroll:!0})})),s.mask&&this.table.modules.edit.maskInput(m,s),setTimeout((function(){i.table.rowManager.element.addEventListener("scroll",N)}),10),_(),m.value=u,D(u,!0),m}},191:function(e,t,a){"use strict";var r=a(67),n=a(0),s=a(26);t.a=function(e,t,a,i,l,o){var c,d=e.getValue(),u=l.verticalNavigation||"hybrid",m=String(null!==d&&"undefined"!==typeof d?d:""),p=((m.match(/(?:\r\n|\r|\n)/g)||[]).length,document.createElement("textarea"));if(p.style.display="block",p.style.padding="2px",p.style.height="50%",p.style.width="100%",p.style.boxSizing="border-box",p.style.whiteSpace="pre-wrap",p.style.resize="none",l.elementAttributes&&"object"==typeof l.elementAttributes)for(var h in l.elementAttributes)"+"==h.charAt(0)?(h=h.slice(1),p.setAttribute(h,p.getAttribute(h)+l.elementAttributes["+"+h])):p.setAttribute(h,l.elementAttributes[h]);if(m||(m=""),p.value=m,o){var f=e._cell.element.style.width,g=document.createElement("div");document.body.appendChild(g);var E={},b=function(e,t){s.unmountComponentAtNode(g),g.remove(),e&&p.value!=t?(a(t),d=t):i()};s.render(n.createElement((function(){return n.createElement(r.a,{show:!0,title:"Edit",text:m,onClose:b,editorParams:l,cancel:"Cancel",ok:"Done",cmRef:E,width:f})}),null),g)}function v(e){if(c){var t=c.getValue();(null===d||"undefined"===typeof d)&&""!==t||t!==d?a(t)&&(d=t):i()}}return t((function(){o||p.focus({preventScroll:!0}),p.style.height="100%",window.CodeMirrorSpellChecker({codeMirrorInstance:window.CodeMirror}),c=window.CodeMirror.fromTextArea(p,{lineNumbers:!0,lineWrapping:!0,mode:"spell-checker",backdrop:"markdown",highlightFormatting:!0}),window.inlineAttachment.editors.codemirror4.attach(c,{uploadUrl:"/uploadAttachments",urlText:'<img src="{filename}" alt="{filename}" width="100%" height="100%"/>',fileUrlText:"[{filename}]({filename})",allowedTypes:"*",extraParams:{dsName:l.dsName}});var t=e._cell.element.style.height;t=t.replace("px",""),t=parseInt(t);var a=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0);a>0&&(a-=70),t=Math.min(a,t),e._cell.setHeightSpecial(t),e.getRow().normalizeHeight(),c.scrollIntoView({line:c.getDoc().lineCount()-1,ch:0},50),c.getDoc().setCursor({line:c.getDoc().lineCount()-1,ch:0}),c.refresh(),c.on("keyup",(function(r,n){var s=e._cell.element.style.height;(s=1===c.getDoc().lineCount()?25:18*(c.getDoc().lineCount()+1))>a&&(s=a),e._cell.setHeightSpecial(Math.max(s,t)),e.getRow().normalizeHeight(),c.scrollIntoView()})),c.on("keydown",(function(e,t){var a=e.getCursor();switch(t.keyCode){case 13:t.ctrlKey&&v(t);break;case 27:i();break;case 38:"editor"!=u&&("hybrid"!=u||0===a.line&&0===a.ch)||(t.stopImmediatePropagation(),t.stopPropagation());break;case 40:("editor"==u||"hybrid"==u&&1!==a.outside)&&(t.stopImmediatePropagation(),t.stopPropagation());break;default:t.stopImmediatePropagation(),t.stopPropagation()}})),c.on("blur",(function(t){e.mouseDownDate||(e.mouseDownDate=0),Date.now()-e.mouseDownDate>50&&v(t)})),e.getElement().addEventListener("mousedown",(function(t){e.mouseDownDate=Date.now(),t.stopImmediatePropagation(),t.stopPropagation()}))})),l.mask&&this.table.modules.edit.maskInput(p,l),p}},192:function(e,t,a){"use strict";var r=a(16),n=a(6),s=a(7),i=a(9),l=a(8),o=a(10),c=a(0),d=a.n(c),u=a(31),m=a(310),p=a(902),h=a(38),f=a(27),g=a(25);function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).handleChange=function(e){if("Project"==e.target.name)a.projectName=e.target.value;else if("Type"==e.target.name)for(var t=0;t<a.projectsMetaData.issuetypes.length;t++)if(a.projectsMetaData.issuetypes[t].name===e.target.value){a.fields=a.projectsMetaData.issuetypes[t].fields,a.fieldsKey=Object.keys(a.fields);for(var n=0;n<a.fieldsKey.length;n++)if("array"!==a.fields[a.fieldsKey[n]].type&&"creatableArray"!==a.fields[a.fieldsKey[n]].type||!a.fields[a.fieldsKey[n]].allowedValues){if("searchableOption"===a.fields[a.fieldsKey[n]].type&&a.fields[a.fieldsKey[n]].allowedValues){a.allowedValues[a.fieldsKey[n]]=[];for(var s=0;s<a.fields[a.fieldsKey[n]].allowedValues.length;s++){var i=a.fields[a.fieldsKey[n]].allowedValues[s],l={};l.value=i.key,l.label="".concat(i.key," - ").concat(i.summary),a.allowedValues[a.fieldsKey[n]].push(l)}}}else{a.allowedValues[a.fieldsKey[n]]=[];for(var o=0;o<a.fields[a.fieldsKey[n]].allowedValues.length;o++){var c=a.fields[a.fieldsKey[n]].allowedValues[o],d={};d.label=c,d.value=c,a.allowedValues[a.fieldsKey[n]].push(d)}}break}var u={};u[e.target.name]=e.target.value,a.props.handleChange(u),"Project"==e.target.name||"JIRA_AGILE_LABEL"==e.target.name||"Type"==e.target.name||"summary"==e.target.name||"description"==e.target.name?a.setState(b({},a.state,{formData:b({},a.state.formData,Object(r.a)({},e.target.name,e.target.value))})):a.setState(b({},a.state,{formData:b({},a.state.formData,Object(r.a)({},a.state.formData.Type,b({},a.state.formData[a.state.formData.Type],Object(r.a)({},e.target.name,e.target.value))))}))},a.handleMultiChange=function(e,t,n,s){var i=[];if(e)for(var l=0;l<e.length;l++)i.push(e[l].value);var o={};o[t.name]=i,a.props.handleChange(o),a.setState(b({},a.state,{formData:b({},a.state.formData,Object(r.a)({},t.name,i))}))},a.handleCreate=function(e,t){try{var n={label:e.label,value:e.value};a.allowedValues[t.name].push(n);var s={};s[t.name]=e.value,a.props.handleChange(s),a.setState(b({},a.state,{formData:b({},a.state.formData,Object(r.a)({},a.state.formData.Type,b({},a.state.formData[a.state.formData.Type],Object(r.a)({},t.name,e.value))))}))}catch(i){}},a.handleSelectChange=function(e,t){var n={},s="";if("clear"==t.action)s="";else{if("create-option"==t.action)return void a.handleCreate(e,t);"select-option"==t.action&&(s=e.value)}n[t.name]=s,a.props.handleChange(n),a.setState(b({},a.state,{formData:b({},a.state.formData,Object(r.a)({},a.state.formData.Type,b({},a.state.formData[a.state.formData.Type],Object(r.a)({},t.name,s))))}))},a.state={formData:b({},a.props.formData)},a.projectsMetaData=null,a.projects=[],a.projectName=null,a.fields=null,a.fieldsKey=null,a.allowedValues={},a}return Object(o.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.projectsMetaData=this.props.projectsMetaData;for(var e=0;e<this.projectsMetaData.issuetypes.length;e++)if(this.projectsMetaData.issuetypes[e].name===this.state.formData.Type){this.fields=this.projectsMetaData.issuetypes[e].fields,this.fieldsKey=Object.keys(this.fields);for(var t=0;t<this.fieldsKey.length;t++)if("array"!==this.fields[this.fieldsKey[t]].type&&"creatableArray"!==this.fields[this.fieldsKey[t]].type||!this.fields[this.fieldsKey[t]].allowedValues){if("searchableOption"===this.fields[this.fieldsKey[t]].type&&this.fields[this.fieldsKey[t]].allowedValues){this.allowedValues[this.fieldsKey[t]]=[];for(var a=0;a<this.fields[this.fieldsKey[t]].allowedValues.length;a++){var r=this.fields[this.fieldsKey[t]].allowedValues[a],n={};n.value=r.key,n.label="".concat(r.key," - ").concat(r.summary),this.allowedValues[this.fieldsKey[t]].push(n)}}}else{this.allowedValues[this.fieldsKey[t]]=[];for(var s=0;s<this.fields[this.fieldsKey[t]].allowedValues.length;s++){var i=this.fields[this.fieldsKey[t]].allowedValues[s],l={};l.label=i,l.value=i,this.allowedValues[this.fieldsKey[t]].push(l)}}break}var o={};o.Project=this.projectsMetaData.key,this.props.handleChange(o),this.setState(b({},this.state,{formData:b({},this.state.formData,{Project:this.projectsMetaData.key})}))}},{key:"render",value:function(){var e=this;return d.a.createElement(p.a,null,d.a.createElement(h.a,{className:"justify-content-md-center"},d.a.createElement(f.a,{sm:12},d.a.createElement(g.a,{style:{display:"flex",flexDirection:"column"}},d.a.createElement(g.a.Group,{controlId:"formProject",style:{marginBottom:"10px"}},d.a.createElement(g.a.Row,null,d.a.createElement(g.a.Label,{column:!0,sm:"4"},"Project:"),d.a.createElement(f.a,{sm:"8"},d.a.createElement(g.a.Control,{as:"select",name:"Project",value:this.state.formData.Project,onChange:this.handleChange},d.a.createElement("option",{key:this.props.projectsMetaData.key,value:"".concat(this.props.projectsMetaData.key)},this.props.projectsMetaData.key))))),this.props.jiraAgileEnabled&&d.a.createElement(g.a.Group,{controlId:"formJIRA_AGILE_LABEL",style:{marginBottom:"10px"}},d.a.createElement(g.a.Row,null,d.a.createElement(g.a.Label,{column:!0,sm:"4"},"JIRA AGILE LABEL:"),d.a.createElement(f.a,{sm:"8"},d.a.createElement(g.a.Control,{as:"select",name:"JIRA_AGILE_LABEL",value:this.state.formData.JIRA_AGILE_LABEL,onChange:this.handleChange},d.a.createElement("option",{key:"None",value:"None"},"None"),this.props.jiraAgileBoard&&d.a.createElement("option",{key:this.props.jiraAgileBoard,value:"".concat(this.props.jiraAgileBoard)},this.props.jiraAgileBoard))))),d.a.createElement(g.a.Group,{controlId:"formType",style:{marginBottom:"10px"}},d.a.createElement(g.a.Row,null,d.a.createElement(g.a.Label,{column:!0,sm:"4"},"Type:"),d.a.createElement(f.a,{sm:"8"},d.a.createElement(g.a.Control,{as:"select",name:"Type",value:this.state.formData.Type,onChange:this.handleChange},this.props.jiraAgileEnabled&&d.a.createElement("option",{key:"Epic",value:"Epic"},"Epic"),this.props.jiraAgileEnabled&&d.a.createElement("option",{key:"Story",value:"Story"},"Story"),this.props.jiraAgileEnabled&&d.a.createElement("option",{key:"Story Task",value:"Story Task"},"Story Task"),this.props.jiraEnabled&&d.a.createElement("option",{key:"Bug",value:"Bug"},"Bug"))))),""!=this.state.formData.Type&&this.fieldsKey&&this.fieldsKey.map((function(t){return d.a.createElement(g.a.Group,{key:"form".concat(t),controlId:"form".concat(t),style:{marginBottom:"10px"}},d.a.createElement(g.a.Row,null,d.a.createElement(g.a.Label,{column:!0,sm:"4"},e.fields[t].name,":"),d.a.createElement(f.a,{sm:"8"},"issuelinks"===t&&d.a.createElement(g.a.Control,{as:"textarea",rows:"1",name:"".concat(t),value:e.state.formData[e.state.formData.Type][t],onChange:e.handleChange}),"customfield_25578"===t&&d.a.createElement(g.a.Control,{as:"textarea",rows:"1",name:"".concat(t),value:e.state.formData[e.state.formData.Type][t],onChange:e.handleChange}),"customfield_28101"===t&&d.a.createElement(g.a.Control,{as:"textarea",rows:"1",name:"".concat(t),value:e.state.formData[e.state.formData.Type][t],onChange:e.handleChange}),"customfield_28102"===t&&d.a.createElement(g.a.Control,{as:"textarea",rows:"1",name:"".concat(t),value:e.state.formData[e.state.formData.Type][t],onChange:e.handleChange}),"description"===t&&d.a.createElement(g.a.Control,{as:"textarea",rows:"6",name:"".concat(t),value:e.state.formData[t],onChange:e.handleChange}),"summary"===t&&d.a.createElement(g.a.Control,{as:"textarea",rows:"1",name:"".concat(t),value:e.state.formData[t],onChange:e.handleChange}),"string"===e.fields[t].type&&"description"!==t&&"summary"!==t&&d.a.createElement(g.a.Control,{as:"textarea",rows:"1",name:"".concat(t),value:e.state.formData[e.state.formData.Type][t],onChange:e.handleChange}),"option"===e.fields[t].type&&d.a.createElement(g.a.Control,{as:"select",name:"".concat(t),value:e.state.formData[e.state.formData.Type][t],onChange:e.handleChange},e.fields[t].allowedValues&&e.fields[t].allowedValues.map((function(e){return d.a.createElement("option",{key:e,value:"".concat(e)},e)}))),"number"===e.fields[t].type&&d.a.createElement(g.a.Control,{type:"number",name:"".concat(t),value:e.state.formData[e.state.formData.Type][t],onChange:e.handleChange}),"priority"===e.fields[t].type&&d.a.createElement(g.a.Control,{as:"select",name:"".concat(t),value:e.state.formData[e.state.formData.Type][t],onChange:e.handleChange},e.fields[t].allowedValues&&e.fields[t].allowedValues.map((function(e){return d.a.createElement("option",{key:e,value:"".concat(e)},e)}))),"array"===e.fields[t].type&&e.allowedValues[t]&&d.a.createElement(u.a,{onChange:e.handleMultiChange,defaultValue:e.state.formData[e.state.formData.Type][t].map((function(e){return{label:e,value:e}})),isMulti:!0,name:"".concat(t),options:e.allowedValues[t],className:"basic-multi-select",classNamePrefix:"select"}),"creatableArray"===e.fields[t].type&&e.allowedValues[t]&&d.a.createElement("div",{key:"".concat(e.state.formData[e.state.formData.Type][t])},d.a.createElement(m.a,{defaultValue:""!=e.state.formData[e.state.formData.Type][t]?{label:e.state.formData[e.state.formData.Type][t],value:e.state.formData[e.state.formData.Type][t]}:null,isClearable:!0,name:"".concat(t),options:e.allowedValues[t],onChange:e.handleSelectChange,placeholder:"Type to search or add a new option..."})),"searchableOption"===e.fields[t].type&&e.allowedValues[t]&&d.a.createElement("div",{key:"".concat(e.state.formData[e.state.formData.Type][t])},d.a.createElement(u.a,{defaultValue:""!=e.state.formData[e.state.formData.Type][t]?{label:e.state.formData[e.state.formData.Type][t],value:e.state.formData[e.state.formData.Type][t]}:null,isClearable:!0,isSearchable:!0,name:"".concat(t),options:e.allowedValues[t],onChange:e.handleSelectChange,placeholder:"Type to search or add a new option..."})))))}))))))}}]),t}(c.Component);t.a=v},195:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return u}));var r=a(2),n=a.n(r),s=a(16),i=a(5),l=a(14);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(a,!0).forEach((function(t){Object(s.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d=a(328),u={loadColumnsForUserView:function(e,t,a){return p.apply(this,arguments)},editSingleAttribute:function(e){return h.apply(this,arguments)},insertOneDoc:function(e){return f.apply(this,arguments)},downloadXlsx:function(e,t,a){return g.apply(this,arguments)},getDsList:function(e){return E.apply(this,arguments)},getFilteredDsList:function(e){return b.apply(this,arguments)},deleteDs:function(e){return v.apply(this,arguments)},deleteOneDoc:function(e){return y.apply(this,arguments)},deleteManyDocs:function(e){return S.apply(this,arguments)},setViewDefinitions:function(e){return C.apply(this,arguments)},refreshJira:function(e){return w.apply(this,arguments)},addFilter:function(e){return _.apply(this,arguments)},editFilter:function(e){return O.apply(this,arguments)},deleteFilter:function(e){return D.apply(this,arguments)},doBulkEditRequest:function(e){return A.apply(this,arguments)},getProjectsMetaData:function(e){return k.apply(this,arguments)},getDefaultTypeFieldsAndValues:function(e){return j.apply(this,arguments)},convertToJira:function(e){return T.apply(this,arguments)},addJiraRow:function(e){return R.apply(this,arguments)}},m={};function p(){return(p=Object(i.a)(n.a.mark((function e(t,a,r){var s,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Starting API call: ",t,a,r),e.next=4,fetch("".concat(m.apiUrl,"/ds/view/columns/").concat(t,"/").concat(a,"/").concat(r),{method:"get",headers:new Headers(c({},Object(l.a)())),credentials:"include"});case 4:if(s=e.sent,i=null,console.log("Finished fetch"),!s.ok){e.next=12;break}return e.next=10,s.json();case 10:i=e.sent,console.log("loadColumnsForUserView: ",i);case 12:return e.abrupt("return",i);case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function h(){return(h=Object(i.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Starting API call: ",t),a=JSON.stringify(t).length.toString(),e.next=5,fetch("".concat(m.apiUrl,"/ds/view/editSingleAttribute"),{method:"post",body:JSON.stringify(t),headers:c({"Content-Type":"application/json","Content-Length":a},Object(l.a)()),credentials:"include"});case 5:if(r=e.sent,s=null,console.log("Finished API"),!r.ok){e.next=13;break}return e.next=11,r.json();case 11:s=e.sent,console.log("editSingleAttribute: ",s);case 13:return e.abrupt("return",s);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function f(){return(f=Object(i.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Starting API call: ",t),a=JSON.stringify(t).length.toString(),e.next=5,fetch("".concat(m.apiUrl,"/ds/view/insertOneDoc"),{method:"post",body:JSON.stringify(t),headers:c({"Content-Type":"application/json","Content-Length":a},Object(l.a)()),credentials:"include"});case 5:if(r=e.sent,s=null,console.log("Finished API"),!r.ok){e.next=13;break}return e.next=11,r.json();case 11:s=e.sent,console.log("insertOneDoc: ",s);case 13:return e.abrupt("return",s);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function g(){return(g=Object(i.a)(n.a.mark((function t(a,r,s){var i,o,u,p,h;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("Starting API call: ",a,r,s),t.next=4,fetch("".concat(m.apiUrl,"/ds/downloadXlsx/").concat(a,"/").concat(r,"/").concat(s),{method:"get",headers:new Headers(c({},Object(l.a)())),credentials:"include"});case 4:if(i=t.sent,console.log("Finished fetch"),!i.ok){t.next=19;break}return t.next=9,i.json();case 9:if(""===(o=t.sent).output){t.next=17;break}u="export_".concat(a,"_").concat(r,"_").concat(s,".xlsx"),p=new e(o.output,"base64"),h=new Blob([p],{type:"binary/octet-stream"}),d.saveAs(h,u),t.next=19;break;case 17:throw console.log("downloadXlsx: file is empty"),new Error("downloadXlsx: file is empty");case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(0),console.log(t.t0);case 24:case"end":return t.stop()}}),t,null,[[0,21]])})))).apply(this,arguments)}function E(){return(E=Object(i.a)(n.a.mark((function e(t){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Starting getDsList API call: ",t),e.next=4,fetch("".concat(m.apiUrl,"/ds/dsList/").concat(t),{method:"get",credentials:"include",headers:new Headers(c({},Object(l.a)()))});case 4:if(a=e.sent,r=null,console.log("Finished API"),!a.ok){e.next=12;break}return e.next=10,a.json();case 10:r=e.sent,console.log("getDsList: ",r);case 12:return e.abrupt("return",r);case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function b(){return(b=Object(i.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Starting getDsList API call: ",t.dsUser),a=JSON.stringify(t).length.toString(),e.next=5,fetch("".concat(m.apiUrl,"/ds/dsList/").concat(t.dsUser),{method:"post",body:JSON.stringify(t),headers:c({"Content-Type":"application/json","Content-Length":a},Object(l.a)()),credentials:"include"});case 5:if(r=e.sent,s=null,console.log("Finished API"),!r.ok){e.next=13;break}return e.next=11,r.json();case 11:s=e.sent,console.log("getDsList: ",s);case 13:return e.abrupt("return",s);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function v(){return(v=Object(i.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Starting deleteDs API call: ",t),a=JSON.stringify(t).length.toString(),e.next=5,fetch("".concat(m.apiUrl,"/ds/deleteDs"),{method:"post",body:JSON.stringify(t),headers:c({"Content-Type":"application/json","Content-Length":a},Object(l.a)()),credentials:"include"});case 5:if(r=e.sent,s=null,console.log("Finished API"),!r.ok){e.next=13;break}return e.next=11,r.json();case 11:s=e.sent,console.log("deleteDs: ",s);case 13:return e.abrupt("return",s);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function y(){return(y=Object(i.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Starting API call: ",t),a=JSON.stringify(t).length.toString(),e.next=5,fetch("".concat(m.apiUrl,"/ds/view/deleteOneDoc"),{method:"post",body:JSON.stringify(t),headers:c({"Content-Type":"application/json","Content-Length":a},Object(l.a)()),credentials:"include"});case 5:if(r=e.sent,s=null,console.log("Finished API"),!r.ok){e.next=13;break}return e.next=11,r.json();case 11:s=e.sent,console.log("deleteOneDoc: ",s);case 13:return e.abrupt("return",s);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function S(){return(S=Object(i.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Starting API call: ",t),a=JSON.stringify(t).length.toString(),e.next=5,fetch("".concat(m.apiUrl,"/ds/view/deleteManyDocs"),{method:"post",body:JSON.stringify(t),headers:c({"Content-Type":"application/json","Content-Length":a},Object(l.a)()),credentials:"include"});case 5:if(r=e.sent,s=null,console.log("Finished API"),!r.ok){e.next=13;break}return e.next=11,r.json();case 11:s=e.sent,console.log("deleteManyDocs: ",s);case 13:return e.abrupt("return",s);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function C(){return(C=Object(i.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Starting API call: ",t),a=JSON.stringify(t).length.toString(),e.next=5,fetch("".concat(m.apiUrl,"/ds/view/setViewDefinitions"),{method:"post",body:JSON.stringify(t),headers:c({"Content-Type":"application/json","Content-Length":a},Object(l.a)()),credentials:"include"});case 5:if(r=e.sent,s=null,console.log("Finished API"),!r.ok){e.next=13;break}return e.next=11,r.json();case 11:s=e.sent,console.log("setViewDefinition: ",s);case 13:return e.abrupt("return",s);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function w(){return(w=Object(i.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Starting API call: ",t),a=JSON.stringify(t).length.toString(),e.next=5,fetch("".concat(m.apiUrl,"/ds/view/refreshJira"),{method:"post",body:JSON.stringify(t),headers:c({"Content-Type":"application/json","Content-Length":a},Object(l.a)()),credentials:"include"});case 5:if(r=e.sent,s=null,console.log("Finished API"),!r.ok){e.next=13;break}return e.next=11,r.json();case 11:s=e.sent,console.log("refreshJira: ",s);case 13:return e.abrupt("return",s);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function _(){return(_=Object(i.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Starting API call: ",t),a=JSON.stringify(t).length.toString(),e.next=5,fetch("".concat(m.apiUrl,"/ds/view/addFilter"),{method:"post",body:JSON.stringify(t),headers:c({"Content-Type":"application/json","Content-Length":a},Object(l.a)()),credentials:"include"});case 5:if(r=e.sent,s=null,console.log("Finished API"),!r.ok){e.next=13;break}return e.next=11,r.json();case 11:s=e.sent,console.log("addFilter: ",s);case 13:return e.abrupt("return",s);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function O(){return(O=Object(i.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Starting API call: ",t),a=JSON.stringify(t).length.toString(),e.next=5,fetch("".concat(m.apiUrl,"/ds/view/editFilter"),{method:"post",body:JSON.stringify(t),headers:c({"Content-Type":"application/json","Content-Length":a},Object(l.a)()),credentials:"include"});case 5:if(r=e.sent,s=null,console.log("Finished API"),!r.ok){e.next=13;break}return e.next=11,r.json();case 11:s=e.sent,console.log("editFilter: ",s);case 13:return e.abrupt("return",s);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function D(){return(D=Object(i.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Starting API call: ",t),a=JSON.stringify(t).length.toString(),e.next=5,fetch("".concat(m.apiUrl,"/ds/view/deleteFilter"),{method:"post",body:JSON.stringify(t),headers:c({"Content-Type":"application/json","Content-Length":a},Object(l.a)()),credentials:"include"});case 5:if(r=e.sent,s=null,console.log("Finished API"),!r.ok){e.next=13;break}return e.next=11,r.json();case 11:s=e.sent,console.log("deleteFilter: ",s);case 13:return e.abrupt("return",s);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function A(){return(A=Object(i.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Starting API call: ",t),a=JSON.stringify(t).length.toString(),e.next=5,fetch("".concat(m.apiUrl,"/ds/doBulkEdit"),{method:"post",body:JSON.stringify(t),headers:c({"Content-Type":"application/json","Content-Length":a},Object(l.a)()),credentials:"include"});case 5:if(r=e.sent,s=null,console.log("Finished fetch"),!r.ok){e.next=13;break}return e.next=11,r.json();case 11:s=e.sent,console.log("doBulkEditRequest: ",s);case 13:return e.abrupt("return",s);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function k(){return(k=Object(i.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Starting getProjectsMetaData API call: ",t),a=JSON.stringify(t).length.toString(),e.next=5,fetch("".concat(m.apiUrl,"/ds/getProjectsMetadataForProject"),{method:"post",mode:"cors",cache:"no-cache",credentials:"include",body:JSON.stringify(t),headers:c({"Content-Type":"application/json","Content-Length":a},Object(l.a)())});case 5:if(r=e.sent,s=null,console.log("Finished API"),!r.ok){e.next=13;break}return e.next=11,r.json();case 11:s=e.sent,console.log("projectsMetaData: ",s);case 13:return e.abrupt("return",s);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function j(){return(j=Object(i.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Starting getDefaultTypeFieldsAndValues API call: ",t),a=JSON.stringify(t).length.toString(),e.next=5,fetch("".concat(m.apiUrl,"/ds/getDefaultTypeFieldsAndValues"),{method:"post",mode:"cors",cache:"no-cache",credentials:"include",body:JSON.stringify(t),headers:new Headers(c({"Content-Type":"application/json","Content-Length":a},Object(l.a)()))});case 5:if(r=e.sent,s=null,console.log("Finished API"),!r.ok){e.next=13;break}return e.next=11,r.json();case 11:s=e.sent,console.log("getDefaultTypeFieldsAndValues: ",s);case 13:return e.abrupt("return",s);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function T(){return(T=Object(i.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Starting API call: ",t),a=JSON.stringify(t).length.toString(),e.next=5,fetch("".concat(m.apiUrl,"/ds/view/convertToJira"),{method:"post",body:JSON.stringify(t),headers:c({"Content-Type":"application/json","Content-Length":a},Object(l.a)()),credentials:"include"});case 5:if(r=e.sent,s=null,console.log("Finished API"),!r.ok){e.next=13;break}return e.next=11,r.json();case 11:s=e.sent,console.log("convertToJira: ",s);case 13:return e.abrupt("return",s);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function R(){return(R=Object(i.a)(n.a.mark((function e(t){var a,r,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Starting API call: ",t),a=JSON.stringify(t).length.toString(),e.next=5,fetch("".concat(m.apiUrl,"/ds/view/addJiraRow"),{method:"post",body:JSON.stringify(t),headers:c({"Content-Type":"application/json","Content-Length":a},Object(l.a)()),credentials:"include"});case 5:if(r=e.sent,s=null,console.log("Finished API"),!r.ok){e.next=13;break}return e.next=11,r.json();case 11:s=e.sent,console.log("addJiraRow: ",s);case 13:return e.abrupt("return",s);case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}m.apiUrl=""}).call(this,a(105).Buffer)},20:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a(2),n=a.n(r),s=a(5),i=a(1),l=a(17),o={loadColumnsForUserView:function(e,t,a){return function(){var o=Object(s.a)(n.a.mark((function s(o){var c;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o({type:i.c.LOAD_COLUMNS_REQUEST,dsName:e,dsView:t,dsUser:a}),n.next=4,l.a.loadColumnsForUserView(e,t,a);case 4:c=n.sent,o(c?(s=c,{type:i.c.LOAD_COLUMNS_SUCCESS,dsName:e,dsView:t,dsUser:a,columnsAndKeys:s}):r("loadColumnsForUserView failure")),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),o(r("loadColumnsForUserView failure"));case 11:case"end":return n.stop()}var s}),s,null,[[0,8]])})));return function(e){return o.apply(this,arguments)}}();function r(r){return{type:i.c.LOAD_COLUMNS_FAILURE,dsName:e,dsView:t,dsUser:a,message:r}}},clearViewDefs:function(){return function(){var e=Object(s.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:i.c.CLEAR_VIEW_DEFS_TRACER});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},getProjectsMetaData:function(e,t,a){return function(){var o=Object(s.a)(n.a.mark((function s(o){var c;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o({type:i.c.GET_PROJECTS_METADATA_REQUEST,dsName:e,dsView:t,dsUser:a}),n.next=4,l.a.getProjectsMetaData({dsName:e,dsView:t,dsUser:a});case 4:c=n.sent,o(c?(s=c,{type:i.c.GET_PROJECTS_METADATA_SUCCESS,dsName:e,dsView:t,dsUser:a,projectsMetaData:s}):r("getProjectsMetaData failure")),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),o(r("getProjectsMetaData failure"));case 11:case"end":return n.stop()}var s}),s,null,[[0,8]])})));return function(e){return o.apply(this,arguments)}}();function r(r){return{type:i.c.GET_PROJECTS_METADATA_FAILURE,dsName:e,dsView:t,dsUser:a,message:r}}},getDefaultTypeFieldsAndValues:function(e,t,a){return function(){var o=Object(s.a)(n.a.mark((function s(o){var c;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o({type:i.c.GET_DEFAULT_TYPE_FIELDS_VALUES_REQUEST,dsName:e,dsView:t,dsUser:a}),n.next=4,l.a.getDefaultTypeFieldsAndValues({dsName:e,dsView:t,dsUser:a});case 4:c=n.sent,o(c?(s=c,{type:i.c.GET_DEFAULT_TYPE_FIELDS_VALUES_SUCCESS,dsName:e,dsView:t,dsUser:a,defaultTypeFieldsAndValues:s}):r("getDefaultTypeFieldsAndValues failure")),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),o(r("getDefaultTypeFieldsAndValues failure"));case 11:case"end":return n.stop()}var s}),s,null,[[0,8]])})));return function(e){return o.apply(this,arguments)}}();function r(r){return{type:i.c.GET_DEFAULT_TYPE_FIELDS_VALUES_FAILURE,dsName:e,dsView:t,dsUser:a,message:r}}},editSingleAttribute:function(e,t,a,r,o,c,d,u,m,p,h){return function(){var i=Object(s.a)(n.a.mark((function s(i){var b,v;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return b={_id:r,field:o,oldVal:c,newVal:d},n.prev=1,i(f(r,b)),n.next=5,l.a.editSingleAttribute({dsName:e,dsView:t,dsUser:a,column:o,selectorObj:u,editObj:m,jiraConfig:p,jiraAgileConfig:h});case 5:v=n.sent,i(v?g(r,b,v):E(r,b,"loadColumnsForUserView failure")),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),i(E(r,b,"loadColumnsForUserView failure"));case 12:case"end":return n.stop()}}),s,null,[[1,9]])})));return function(e){return i.apply(this,arguments)}}();function f(r,n){return{type:i.c.EDIT_SINGLE_REQUEST,dsName:e,dsView:t,dsUser:a,_id:r,editTracker:n}}function g(r,n,s){return{type:i.c.EDIT_SINGLE_SUCCESS,dsName:e,dsView:t,dsUser:a,_id:r,editTracker:n,serverStatus:s}}function E(r,n,s){return{type:i.c.EDIT_SINGLE_FAILURE,dsName:e,dsView:t,dsUser:a,_id:r,editTracker:n,message:s}}},insertOneDoc:function(e,t,a,r,o,c){return function(){var u=Object(s.a)(n.a.mark((function s(u){var m;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,u({type:i.c.SET_ROW_ADD_TRACKER,dsName:e,dsView:t,dsUser:a,status:"inserting",uiRow:c}),n.next=4,l.a.insertOneDoc({dsName:e,dsView:t,dsUser:a,selectorObj:r,doc:o});case 4:m=n.sent,u(m?(s=m,{type:i.c.ROW_ADD_SUCCESS,dsName:e,dsView:t,dsUser:a,status:"success",serverStatus:s}):d("insertOneDoc failure")),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),u(d("insertOneDoc failure"));case 11:case"end":return n.stop()}var s}),s,null,[[0,8]])})));return function(e){return u.apply(this,arguments)}}();function d(r){return{type:i.c.ROW_ADD_FAILURE,dsName:e,dsView:t,dsUser:a,status:"fail",message:r}}},downloadXlsx:function(e,t,a){return function(){var r=Object(s.a)(n.a.mark((function r(s){return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,s({type:i.c.DOWNLOAD_XLSX_REQUEST,dsName:e,dsView:t,dsUser:a}),r.next=4,l.a.downloadXlsx(e,t,a);case 4:s({type:i.c.DOWNLOAD_XLSX_SUCCESS,dsName:e,dsView:t,dsUser:a}),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),s((n="downloadXlsx failure",{type:i.c.DOWNLOAD_XLSX_FAILURE,dsName:e,dsView:t,dsUser:a,message:n}));case 10:case"end":return r.stop()}var n}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()},getDsList:function(e){return function(){var a=Object(s.a)(n.a.mark((function a(r){var s;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:i.b.LOAD_DSLIST_REQUEST,dsUser:e}),a.next=4,l.a.getDsList(e);case 4:s=a.sent,r(t(s)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),r((n="getDsList failure",{type:i.b.LOAD_DSLIST_FAILURE,message:n}));case 11:case"end":return a.stop()}var n}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}();function t(e){return{type:i.b.LOAD_DSLIST_SUCCESS,dsList:e}}},getFilteredDsList:function(e,t){return function(){var r=Object(s.a)(n.a.mark((function r(s){var o;return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,s({type:i.b.LOAD_DSLIST_REQUEST,dsUser:e}),r.next=4,l.a.getFilteredDsList({dsUser:e,dsFilter:t});case 4:o=r.sent,s(a(o)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),s((n="getDsList failure",{type:i.b.LOAD_DSLIST_FAILURE,message:n}));case 11:case"end":return r.stop()}var n}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}();function a(e){return{type:i.b.LOAD_DSLIST_SUCCESS,dsList:e}}},deleteDs:function(e,t){return function(){var r=Object(s.a)(n.a.mark((function r(s){var o;return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,s({type:i.b.DELETE_DS_REQUEST,dsName:e}),r.next=4,l.a.deleteDs({dsName:e,dsUser:t});case 4:o=r.sent,s(a(o)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),s((n="deleteDs failure",{type:i.b.LOAD_DSLIST_FAILURE,dsName:e,message:n}));case 11:case"end":return r.stop()}var n}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}();function a(t){return{type:i.b.DELETE_DS_SUCCESS,dsName:e,deleteStatus:t}}},deleteOneDoc:function(e,t,a,r,o){return function(){var i=Object(s.a)(n.a.mark((function s(i){var m,p,h;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return m={_id:r,row:o},n.prev=1,(p={})._id=r,i(c(r,m)),n.next=7,l.a.deleteOneDoc({dsName:e,dsView:t,dsUser:a,selectorObj:p});case 7:h=n.sent,i(h?d(r,m,h):u(r,m,"deleteOneDoc failure")),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),i(u(r,m,"deleteOneDoc failure"));case 14:case"end":return n.stop()}}),s,null,[[1,11]])})));return function(e){return i.apply(this,arguments)}}();function c(r,n){return{type:i.c.DELETE_SINGLE_REQUEST,dsName:e,dsView:t,dsUser:a,_id:r,deleteTracker:n}}function d(r,n,s){return{type:i.c.DELETE_SINGLE_SUCCESS,dsName:e,dsView:t,dsUser:a,_id:r,deleteTracker:n,serverStatus:s}}function u(r,n,s){return{type:i.c.DELETE_SINGLE_FAILURE,dsName:e,dsView:t,dsUser:a,_id:r,deleteTracker:n,message:s}}},deleteManyDocs:function(e,t,a,r,o){return function(){var i=Object(s.a)(n.a.mark((function s(i){var m,p;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return m={objects:r,rows:o},n.prev=1,i(c(m)),n.next=5,l.a.deleteManyDocs({dsName:e,dsView:t,dsUser:a,objects:r});case 5:p=n.sent,i(p?d(m,p):u(m,"deleteManyDocs failure")),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),i(u(m,"deleteManyDocs failure"));case 12:case"end":return n.stop()}}),s,null,[[1,9]])})));return function(e){return i.apply(this,arguments)}}();function c(r){return{type:i.c.DELETE_MANY_REQUEST,dsName:e,dsView:t,dsUser:a,deleteTracker:r}}function d(r,n){return{type:i.c.DELETE_MANY_SUCCESS,dsName:e,dsView:t,dsUser:a,deleteTracker:r,serverStatus:n}}function u(r,n){return{type:i.c.DELETE_MANY_FAILURE,dsName:e,dsView:t,dsUser:a,deleteTracker:r,message:n}}},setViewDefinitions:function(e,t,a,r,o,c,d,u,m,p){return function(){var f=Object(s.a)(n.a.mark((function s(f){var g;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,f({type:i.c.SET_VIEW_DEFS_REQUEST,dsName:e,dsView:t,dsUser:a}),!o||!m){n.next=8;break}return n.next=5,l.a.setViewDefinitions({dsName:e,dsView:t,dsUser:a,viewDefs:r,jiraConfig:o,dsDescription:c,otherTableAttrs:d,aclConfig:u,jiraAgileConfig:m,jiraProjectName:p});case 5:g=n.sent,n.next=23;break;case 8:if(!o){n.next=14;break}return n.next=11,l.a.setViewDefinitions({dsName:e,dsView:t,dsUser:a,viewDefs:r,jiraConfig:o,dsDescription:c,otherTableAttrs:d,aclConfig:u,jiraProjectName:p});case 11:g=n.sent,n.next=23;break;case 14:if(!m){n.next=20;break}return n.next=17,l.a.setViewDefinitions({dsName:e,dsView:t,dsUser:a,viewDefs:r,dsDescription:c,otherTableAttrs:d,aclConfig:u,jiraAgileConfig:m,jiraProjectName:p});case 17:g=n.sent,n.next=23;break;case 20:return n.next=22,l.a.setViewDefinitions({dsName:e,dsView:t,dsUser:a,viewDefs:r,dsDescription:c,otherTableAttrs:d,aclConfig:u,jiraProjectName:p});case 22:g=n.sent;case 23:f(g?(s=g,{type:i.c.SET_VIEW_DEFS_SUCCESS,dsName:e,dsView:t,dsUser:a,serverStatus:s}):h("setViewDefinitions failure")),n.next=29;break;case 26:n.prev=26,n.t0=n.catch(0),f(h("setViewDefinitions failure"));case 29:case"end":return n.stop()}var s}),s,null,[[0,26]])})));return function(e){return f.apply(this,arguments)}}();function h(r){return{type:i.c.SET_VIEW_DEFS_FAILURE,dsName:e,dsView:t,dsUser:a,message:r}}},refreshJira:function(e,t,a){return function(){var o=Object(s.a)(n.a.mark((function s(o){var c;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o({type:i.c.JIRA_REFRESH_REQUEST,dsName:e,dsView:t,dsUser:a}),n.next=4,l.a.refreshJira({dsName:e,dsView:t,dsUser:a});case 4:c=n.sent,o(c?(s=c,{type:i.c.JIRA_REFRESH_SUCCESS,dsName:e,dsView:t,dsUser:a,serverStatus:s}):r("Jira refresh failure")),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),o(r("Jira refresh failure"));case 11:case"end":return n.stop()}var s}),s,null,[[0,8]])})));return function(e){return o.apply(this,arguments)}}();function r(r){return{type:i.c.JIRA_REFRESH_FAILURE,dsName:e,dsView:t,dsUser:a,message:r}}},addFilter:function(e,t,a,r){return function(){var c=Object(s.a)(n.a.mark((function s(c){var d;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c({type:i.c.ADD_FILTER_REQUEST,dsName:e,dsView:t,dsUser:a,status:"inserting",filter:r}),n.next=4,l.a.addFilter({dsName:e,dsView:t,dsUser:a,filter:r});case 4:d=n.sent,c(d?(s=d,{type:i.c.ADD_FILTER_SUCCESS,dsName:e,dsView:t,dsUser:a,status:"success",serverStatus:s}):o("addFilter failure")),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),console.log("Error:",n.t0),c(o("addFilter failure"));case 12:case"end":return n.stop()}var s}),s,null,[[0,8]])})));return function(e){return c.apply(this,arguments)}}();function o(r){return{type:i.c.ADD_FILTER__FAILURE,dsName:e,dsView:t,dsUser:a,status:"fail",message:r}}},editFilter:function(e,t,a,r){return function(){var c=Object(s.a)(n.a.mark((function s(c){var d;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c({type:i.c.EDIT_FILTER_REQUEST,dsName:e,dsView:t,dsUser:a,status:"editing",filter:r}),n.next=4,l.a.editFilter({dsName:e,dsView:t,dsUser:a,filter:r});case 4:d=n.sent,c(d?(s=d,{type:i.c.EDIT_FILTER_SUCCESS,dsName:e,dsView:t,dsUser:a,status:"success",serverStatus:s}):o("editFilter failure")),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),c(o("editFilter failure"));case 11:case"end":return n.stop()}var s}),s,null,[[0,8]])})));return function(e){return c.apply(this,arguments)}}();function o(r){return{type:i.c.EDIT_FILTER__FAILURE,dsName:e,dsView:t,dsUser:a,status:"fail",message:r}}},deleteFilter:function(e,t,a,r){return function(){var c=Object(s.a)(n.a.mark((function s(c){var d;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c({type:i.c.DELETE_FILTER_REQUEST,dsName:e,dsView:t,dsUser:a,status:"deleting",filter:r}),n.next=4,l.a.deleteFilter({dsName:e,dsView:t,dsUser:a,filter:r});case 4:d=n.sent,c(d?(s=d,{type:i.c.DELETE_FILTER_SUCCESS,dsName:e,dsView:t,dsUser:a,status:"success",serverStatus:s}):o("deleteFilter failure")),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),c(o("deleteFilter failure"));case 11:case"end":return n.stop()}var s}),s,null,[[0,8]])})));return function(e){return c.apply(this,arguments)}}();function o(r){return{type:i.c.DELETE_FILTER__FAILURE,dsName:e,dsView:t,dsUser:a,status:"fail",message:r}}},clearBulkEditStore:function(){return function(){var e=Object(s.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:i.c.CLEAR_DS});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},uploadBulkEditXlsFile:function(e,t){return function(){var i=Object(s.a)(n.a.mark((function s(i){var c;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i(a(e)),n.prev=1,n.next=4,l.b.fileUpload(t);case 4:c=n.sent,i(c?r(e,c):o("Upload failure")),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),i(o("Uploading xls file failed"));case 11:case"end":return n.stop()}}),s,null,[[1,8]])})));return function(e){return i.apply(this,arguments)}}();function a(e){return{type:i.c.UPLOAD_BULK_XLS_REQUEST,fileName:e}}function r(e,t){return{type:i.c.UPLOAD_BULK_XLS_SUCCESS,fileName:e,sheetInfo:t}}function o(e){return{type:i.c.UPLOAD_BULK_XLS_FAILURE,message:e}}},setSelectedSheet:function(e){return function(){var a=Object(s.a)(n.a.mark((function a(r){return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r(t(e));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();function t(e){return{type:i.c.SET_BULK_SELECTED_SHEET,sheetName:e}}},loadHdrsFromRange:function(e,t,a){return function(){var i=Object(s.a)(n.a.mark((function s(i){var d;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i(r(a)),n.next=4,l.b.loadHdrsFromRange({fileName:e,sheetName:t,selectedRange:a});case 4:d=n.sent,i(d?o(e,t,d):c("Load Data from Range failure")),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),i(c("Load Data from Range failure"));case 11:case"end":return n.stop()}}),s,null,[[0,8]])})));return function(e){return i.apply(this,arguments)}}();function r(e){return{type:i.c.LOAD_BULK_FROM_RANGE_REQUEST,selectedRange:e}}function o(e,t,a){return{type:i.c.LOAD_BULK_FROM_RANGE_SUCCESS,fileName:e,sheetName:t,loadStatus:a}}function c(e){return{type:i.c.LOAD_BULK_FROM_RANGE_FAILURE,message:e}}},doBulkEditRequest:function(e,t,a,r,o,c,d,u){return function(){var i=Object(s.a)(n.a.mark((function s(i){var f;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i(m(r)),n.next=4,l.a.doBulkEditRequest({dsName:e,fileName:t,sheetName:a,selectedRange:r,setRowsFrmSheet:o,setColsFrmSheet:c,doIt:d,dsUser:u});case 4:f=n.sent,i(f?p(t,a,f):h("validate BulkEdit request failed")),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),i(h("Validate BulkEdit request failure"));case 11:case"end":return n.stop()}}),s,null,[[0,8]])})));return function(e){return i.apply(this,arguments)}}();function m(e){return{type:i.c.BULK_EDIT_REQUEST,selectedRange:e}}function p(e,t,a){return{type:i.c.BULK_EDIT_SUCCESS,fileName:e,sheetName:t,loadStatus:a}}function h(e){return{type:i.c.BULK_EDIT_FAILURE,message:e}}}}},243:function(e,t,a){},302:function(e,t,a){"use strict";(function(e){var r=a(2),n=a.n(r),s=a(5),i=a(16),l=a(59),o=a(6),c=a(7),d=a(9),u=a(8),m=a(3),p=a(10),h=a(0),f=a.n(h),g=a(21),E=a(38),b=a(27),v=a(23),y=a(20),S=a(1),C=a(30),w=a(66),_=a(92),O=a(191),D=(a(342),a(90)),A=a.n(D),k=(a(343),a(101)),j=a(185),T=a(307),R=a(104),L=a(67),F=a(309),x=a(58),N=(a(242),a(243),a(192)),I=(a(186),a(480),a(481),a(311)),U=a.n(I),V=(a(127),a(313)),P=a(17),M=a(14);function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var B=new a(131)({linkify:!0,html:!0}).use(a(132)).use(a(133)).use(a(64),"code").use(a(64),"indent1").use(a(64),"indent2").use(a(64),"indent3").use(a(181)).use(V.a).use(a(894),{imageFormat:"png"}).use(a(64),"slide").use(a(896).markdownItFancyListPlugin),Q=B.renderer.rules.link_open||function(e,t,a,r,n){return n.renderToken(e,t,a)};B.renderer.rules.link_open=function(e,t,a,r,n){var s=e[t].attrIndex("target");return s<0?e[t].attrPush(["target","_blank"]):e[t].attrs[s][1]="_blank",Q(e,t,a,r,n)};var K={apiUrl:""},G="customfield_11890",z=null,W=function(t){function a(e){var t;Object(o.a)(this,a),(t=Object(d.a)(this,Object(u.a)(a).call(this,e))).state={firstTime:!0,filterButtonText:"Enable Filters",editingButtonText:"Disable Editing",pageSize:30,totalRecs:0,refresh:0,initialHeaderFilter:[],initialSort:[],filterColumnAttrs:{},currentColumnAttrs:{},filter:"",frozenCol:"",showModal:!1,modalTitle:"Title of modal",modalQuestion:"",modalCallback:null,modalStatus:"",modalCancel:"Cancel",modalOk:"Do It!",toggleModalOnClose:!0,grayOutModalButtons:!1,showSecondaryModal:!1,secondaryModalTitle:"Title of modal",secondaryModalQuestion:"",secondaryModalCallback:null,secondaryModalStatus:"",secondaryModalCancel:"Cancel",secondaryModalOk:"Do It!",modalEditorOk:"Done",modalEditorCancel:"Cancel",modalEditorTitle:"Edit cell",modalEditorText:"",modalEditorCallback:null,showModalEditor:!1,chronologyDescending:!1,singleClickEdit:!1,showAllFilters:!1,disableEditing:!1,showColorPicker:!1,colorPickerLeft:0,colorPickerTop:0,color:0,connectedState:!1,dbconnectivitystate:!1},t.ref=null,t.timers={},t.lockedByOthersCells={},t.firstRenderCompleted=!1,t.cellImEditing=null,t.mouseDownOnHtmlLink=!1,t.mouseDownOnBadgeCopyIcon=!1,t.reqCount=0,t.jiraFormData={Project:"",JIRA_AGILE_LABEL:"None",Type:"Epic",summary:"",description:""},t.applyHtmlLinkAndBadgeClickHandlers=t.applyHtmlLinkAndBadgeClickHandlers.bind(Object(m.a)(t)),t.renderComplete=t.renderComplete.bind(Object(m.a)(t)),t.cellEditing=t.cellEditing.bind(Object(m.a)(t)),t.cellEdited=t.cellEdited.bind(Object(m.a)(t)),t.cellEditCancelled=t.cellEditCancelled.bind(Object(m.a)(t)),t.cellEditCheck=t.cellEditCheck.bind(Object(m.a)(t)),t.cellForceEditTrigger=t.cellForceEditTrigger.bind(Object(m.a)(t)),t.fixImgSizeForClipboard=t.fixImgSizeForClipboard.bind(Object(m.a)(t)),t.copyFormatted=t.copyFormatted.bind(Object(m.a)(t)),t.startPreso=t.startPreso.bind(Object(m.a)(t)),t.myCopyToClipboard=t.myCopyToClipboard.bind(Object(m.a)(t)),t.recordRef=t.recordRef.bind(Object(m.a)(t)),t.downloadXlsx=t.downloadXlsx.bind(Object(m.a)(t)),t.toggleFilters=t.toggleFilters.bind(Object(m.a)(t)),t.toggleEditing=t.toggleEditing.bind(Object(m.a)(t)),t.addRow=t.addRow.bind(Object(m.a)(t)),t.deleteRowHandler=t.deleteRowHandler.bind(Object(m.a)(t)),t.deleteRowQuestion=t.deleteRowQuestion.bind(Object(m.a)(t)),t.deleteAllRowsInViewQuestion=t.deleteAllRowsInViewQuestion.bind(Object(m.a)(t)),t.deleteAllRowsInView=t.deleteAllRowsInView.bind(Object(m.a)(t)),t.deleteAllRowsInQuery=t.deleteAllRowsInQuery.bind(Object(m.a)(t)),t.duplicateAndAddRowHandler=t.duplicateAndAddRowHandler.bind(Object(m.a)(t)),t.toggleSingleFilter=t.toggleSingleFilter.bind(Object(m.a)(t)),t.freezeColumn=t.freezeColumn.bind(Object(m.a)(t)),t.unfreezeColumn=t.unfreezeColumn.bind(Object(m.a)(t)),t.setFreezeColumn=t.setFreezeColumn.bind(Object(m.a)(t)),t.pageSizeChange=t.pageSizeChange.bind(Object(m.a)(t)),t.ajaxResponse=t.ajaxResponse.bind(Object(m.a)(t)),t.ajaxURLGenerator=t.ajaxURLGenerator.bind(Object(m.a)(t)),t.cellClickEvents=t.cellClickEvents.bind(Object(m.a)(t)),t.copyToClipboard=t.copyToClipboard.bind(Object(m.a)(t)),t.copyCellToClipboard=t.copyCellToClipboard.bind(Object(m.a)(t)),t.pickFillColorHandler=t.pickFillColorHandler.bind(Object(m.a)(t)),t.handleColorPickerClose=t.handleColorPickerClose.bind(Object(m.a)(t)),t.handleColorPickerOnChangeComplete=t.handleColorPickerOnChangeComplete.bind(Object(m.a)(t)),t.jiraRefreshHandler=t.jiraRefreshHandler.bind(Object(m.a)(t)),t.jiraRefreshStatus=t.jiraRefreshStatus.bind(Object(m.a)(t)),t.toggleModal=t.toggleModal.bind(Object(m.a)(t)),t.secondaryToggleModal=t.secondaryToggleModal.bind(Object(m.a)(t)),t.toggleModalEditor=t.toggleModalEditor.bind(Object(m.a)(t)),t.processFilterChange=t.processFilterChange.bind(Object(m.a)(t)),t.isKey=t.isKey.bind(Object(m.a)(t)),t.hideColumn=t.hideColumn.bind(Object(m.a)(t)),t.showAllCols=t.showAllCols.bind(Object(m.a)(t)),t.hideColumnFromCell=t.hideColumnFromCell.bind(Object(m.a)(t)),t.columnResized=t.columnResized.bind(Object(m.a)(t)),t.columnVisibilityChanged=t.columnVisibilityChanged.bind(Object(m.a)(t)),t.retainColumnAttrs=t.retainColumnAttrs.bind(Object(m.a)(t)),t.applyFilterColumnAttrs=t.applyFilterColumnAttrs.bind(Object(m.a)(t)),t.normalizeAllImgRows=t.normalizeAllImgRows.bind(Object(m.a)(t)),t.applyHighlightJsBadge=t.applyHighlightJsBadge.bind(Object(m.a)(t)),t.displayConnectedStatus=t.displayConnectedStatus.bind(Object(m.a)(t));var r=localStorage.getItem("chronologyDescending");r=JSON.parse(r),t.state.chronologyDescending=r;var n=localStorage.getItem("singleClickEdit");n=JSON.parse(n),t.state.singleClickEdit=n;var s=localStorage.getItem("showAllFilters");s=JSON.parse(s),t.state.showAllFilters=s;var i=localStorage.getItem("disableEditing");return i=JSON.parse(i),t.state.disableEditing=i,t.convertToJiraRow=t.convertToJiraRow.bind(Object(m.a)(t)),t.handleJiraFormChange=t.handleJiraFormChange.bind(Object(m.a)(t)),t.submitJiraFormChange=t.submitJiraFormChange.bind(Object(m.a)(t)),t.fillLocalStorageItemData=t.fillLocalStorageItemData.bind(Object(m.a)(t)),t.addJiraRow=t.addJiraRow.bind(Object(m.a)(t)),t.formFinalJiraFormData=t.formFinalJiraFormData.bind(Object(m.a)(t)),t}return Object(p.a)(a,t),Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.dispatch,r=t.match,n=t.user,s=t.dsHome,i=r.params.dsName,l=r.params.dsView;Object.keys(s).length&&s.dsViews&&s.dsViews[l]||(a(y.a.loadColumnsForUserView(i,l,n.user)),a(y.a.getDefaultTypeFieldsAndValues(i,l,n.user)));var o=this;(z=U()(K.apiUrl,{extraHeaders:{Cookie:document.cookie}})).on("connect",(function(e){z.emit("Hello",{user:n.user}),z.emit("getActiveLocks",i),o.setState({connectedState:!0})})),z.on("disconnect",(function(e){o.setState({connectedState:!1})})),z.on("dbConnectivityState",(function(e){o.setState({dbconnectivitystate:e.dbState})})),z.on("Hello",(function(e){})),z.on("activeLocks",(function(t){if(o.setState({connectedState:!0}),o.ref&&o.ref.table){t=JSON.parse(t),console.log("Active locks: ",t);for(var a=Object.keys(t),r=0;r<a.length;r++){var n=a[r],s=o.ref.table.searchRows("_id","=",n);if(s.length){console.log("Found row!");for(var i=Object.keys(t[n]),l=0;l<i.length;l++){var c=i[l];console.log("Field is: ",c);var d=s[0].getCell(c);console.log("Cell is: ",d),t[n][c]=d,d&&(o.cellImEditing===d&&(console.log("Whoops, someone else got there first.."),d.cancelEdit()),d.getElement().style.backgroundColor="lightGray")}}}e.lockedByOthersCells=t}})),z.on("locked",(function(e){if(console.log("Received locked: ",e),o.ref&&o.ref.table&&i===e.dsName){var t=o.ref.table.searchRows("_id","=",e._id);if(!t.length)return;var a=t[0].getCell(e.field);o.lockedByOthersCells[e._id]||(o.lockedByOthersCells[e._id]={}),o.lockedByOthersCells[e._id][e.field]=a,o.cellImEditing===a&&(console.log("Whoops, someone else got there first.."),a.cancelEdit()),a.getElement().style.backgroundColor="lightGray"}})),z.on("unlocked",(function(e){var t=!1;try{if(!o.ref||!o.ref.table)return;if(i===e.dsName&&o.lockedByOthersCells[e._id][e.field]){var a=o.lockedByOthersCells[e._id][e.field];if(delete o.lockedByOthersCells[e._id][e.field],void 0!==e.newVal&&null!==e.newVal){var r={_id:e._id};r[e.field]=e.newVal,o.ref.table.updateData([r]),t=!0}a.getElement().style.backgroundColor="";var n=a.getColumn().getDefinition();n.formatter(a,n.formatterParams)}else if(i===e.dsName&&e.newVal){var s=o.ref.table.searchRows("_id","=",e._id);if(!s.length)return;s[0].getCell(e.field);var l={_id:e._id};l[e.field]=e.newVal,o.ref.table.updateData([l]),t=!0}}catch(c){}t&&!o.cellImEditing&&(o.timers["post-cell-edited"]&&(clearTimeout(o.timers["post-cell-edited"]),o.timers["post-cell-edited"]=null),o.timers["post-cell-edited"]=setTimeout((function(){o.cellImEditing?console.log("Skipping adjusttablesie (unlockReq)... "):(console.log("Doing adjusttablesize (unlockReq)... "),o.ref.table.rowManager.adjustTableSize(!1),o.normalizeAllImgRows(),o.applyHighlightJsBadge())}),500)),console.log("Received unlocked: ",e)})),z.on("exception",(function(e){console.log("GOT exception:",e)}))}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;z.disconnect(),e({type:S.c.CLEAR_COLUMNS})}},{key:"renderComplete",value:function(){var e=this.props.match.params.dsName;z.emit("getActiveLocks",e),this.normalizeAllImgRows(),this.applyHighlightJsBadge()}},{key:"applyHtmlLinkAndBadgeClickHandlers",value:function(){for(var e=this,t=document.getElementById("tabulator").getElementsByTagName("a"),a=0,r=t.length;a<r;a++)t[a].onclick=function(t){return e.mouseDownOnHtmlLink=!0,t.stopPropagation(),setTimeout((function(){return e.mouseDownOnHtmlLink=!1}),1e3),!0};for(a=0,r=(t=document.getElementById("tabulator").querySelectorAll(".code-badge-copy-icon")).length;a<r;a++)t[a].setAttribute("tabindex",0),t[a].addEventListener("focus",(function(t){var a=t.srcElement;if(console.log("Classlist is: ".concat(a.classList)),a.classList.contains("code-badge-copy-icon"))return e.mouseDownOnBadgeCopyIcon=!0,setTimeout((function(){return e.mouseDownOnBadgeCopyIcon=!1}),1e3),!0}))}},{key:"applyHighlightJsBadge",value:function(){var e=this;this.timers.applyHighlightJsBadge&&(clearTimeout(this.timers.applyHighlightJsBadge),this.timers.applyHighlightJsBadge=null),this.timers.applyHighlightJsBadge=setTimeout((function(){window.highlightJsBadge(),e.applyHtmlLinkAndBadgeClickHandlers()}),1e3)}},{key:"fixImgSizeForClipboard",value:function(e){for(var t=document.querySelectorAll("img"),a={},r=0;r<t.length;r++){var n={};n.src=t[r].getAttribute("src"),n.width=t[r].width,n.height=t[r].height,a[n.src]=n}for(var s=Object(l.a)(e.matchAll(/<img src="(.*?)"/gi)),i=0;i<s.length;i++){var o=s[i][1];if(a[o]&&!/data:image/.test(o)){var c='<img src="'.concat(o,'" alt="').concat(o,'" width=".*" height=".*"'),d='<img src="'.concat(o,'" alt="').concat(o,'" width=').concat(a[o].width," height=").concat(a[o].height);e=e.replace(new RegExp(c),d)}}return e=e.replaceAll('<img src="/attachments/','<img src="'.concat(window.location.origin,"/attachments/"))}},{key:"normalizeAllImgRows",value:function(){var e=this;this.timers.normalizeAllImgRows&&(clearInterval(this.timers.normalizeAllImgRows),this.timers.normalizeAllImgRows=null);var t=0;this.timers.normalizeAllImgRows=setInterval((function(){if("complete"===document.readyState){for(var a=document.querySelectorAll("img"),r=!0,n=0;n<a.length;n++)if(!a[n].complete){r=!1,t=0;break}if(r){if(2===t)if(a.length&&!e.cellImEditing){for(var s=e.ref.table.getRows(),i=0;i<s.length;i++)s[i].normalizeHeight();e.ref.table.rowManager.adjustTableSize(!1)}else console.log("Skipping normalize as there are no images or some editing in progress...");t>=10&&(t=0,clearInterval(e.timers.normalizeAllImgRows),e.timers.normalizeAllImgRows=null),t++}}}),300)}},{key:"showAllCols",value:function(){for(var e=this.ref.table.getColumns(),t=0;t<e.length;t++)e[t].isVisible()||e[t].show()}},{key:"hideColumn",value:function(e,t){var a=this.props,r=a.match;a.dsHome,r.params.dsName,r.params.dsView;this.isKey(t.getField())||t.hide()}},{key:"hideColumnFromCell",value:function(e,t){var a=t.getColumn();this.isKey(a.getField())||a.hide()}},{key:"columnResized",value:function(e){var t=this.state.currentColumnAttrs[e.getField()];if(t||(t={}),t.width!==e.getWidth()){var a=J({},this.state.currentColumnAttrs);t.width=e.getWidth(),a[e.getField()]=t,this.setState({currentColumnAttrs:a})}}},{key:"columnVisibilityChanged",value:function(e,t){var a=this.state.currentColumnAttrs[e.getField()];if(a||(a={}),a.hidden!==!t){var r=J({},this.state.currentColumnAttrs);a.hidden=!t,r[e.getField()]=a,this.setState({currentColumnAttrs:r})}}},{key:"isKey",value:function(e){var t=this.props,a=t.match,r=t.dsHome,n=(a.params.dsName,a.params.dsView);if(r.dsViews[n].keys&&r.dsViews[n].keys.length)for(var s=0;s<r.dsViews[n].keys.length;s++){if(e===r.dsViews[n].keys[s])return!0}return!1}},{key:"toggleModal",value:function(e,t){this.state.modalCallback(e),0!=t?this.setState({showModal:!this.state.showModal}):e&&this.setState({grayOutModalButtons:!0})}},{key:"secondaryToggleModal",value:function(e){this.state.secondaryModalCallback(e),this.setState({showSecondaryModal:!this.state.showSecondaryModal,grayOutModalButtons:!1})}},{key:"toggleModalEditor",value:function(e,t){this.state.modalEditorCallback(e,t),this.setState({showModalEditor:!this.state.showModalEditor})}},{key:"cellClickEvents",value:function(e,t){this.state.connectedState&&this.state.dbconnectivitystate&&("dblclick"!==e.type||this.state.singleClickEdit||this.state.disableEditing||!this.cellEditCheckForConflicts(t)||t.edit(!0))}},{key:"cellEditCheckForConflicts",value:function(e){try{var t=e.getColumn().getField(),a=e.getRow().getData()._id;if(this.lockedByOthersCells[a][t])return!1}catch(r){}return!this.mouseDownOnHtmlLink&&!this.mouseDownOnBadgeCopyIcon}},{key:"cellEditCheck",value:function(e){return!!this.state.singleClickEdit&&(!this.state.disableEditing&&(!!this.state.connectedState&&(!!this.state.dbconnectivitystate&&this.cellEditCheckForConflicts(e))))}},{key:"cellForceEditTrigger",value:function(t){return console.log("In cellForceEditTrigger"),!!this.state.singleClickEdit&&(!this.state.disableEditing&&(!!this.state.connectedState&&(!!this.state.dbconnectivitystate&&void(this.cellEditCheckForConflicts(t)&&e((function(){t.edit(!0)}))))))}},{key:"cellEditCancelled",value:function(e){var t=this,a=this.props.match,r=a.params.dsName,n=a.params.dsView,s=e.getColumn().getField(),i=e.getRow().getData()._id;if(i){var l=this;this.cellImEditing===e?this.cellImEditing=null:console.log("Not nullifying cellImEditing as it is not me!");var o={_id:i,field:s,dsName:r,dsView:n};z.emit("unlockReq",o),this.timers["post-cell-edited"]&&(clearTimeout(this.timers["post-cell-edited"]),this.timers["post-cell-edited"]=null),this.timers["post-cell-edited"]=setTimeout((function(){l.cellImEditing?console.log("Skipping adjusttablesize (cellEditCancelled)..."):(console.log("Doing adjusttablesize (cellEditCancelled)... "),t.ref.table.rowManager.adjustTableSize(!1),t.normalizeAllImgRows(),t.applyHighlightJsBadge())}),500),this.ref.table.element.focus({preventScroll:!1})}}},{key:"cellEditing",value:function(e){var t=this.props.match,a=t.params.dsName,r=t.params.dsView,n=e.getColumn().getField(),s=e.getRow().getData()._id;if(s){this.cellImEditing=e;var i={_id:s,field:n,dsName:a,dsView:r};z.emit("lockReq",i),this.timers["post-cell-edited"]&&(clearTimeout(this.timers["post-cell-edited"]),this.timers["post-cell-edited"]=null)}}},{key:"toggleFilters",value:function(){var e=this.props,t=e.dsHome,a=e.match.params.dsView;this.ref.table.clearHeaderFilter();for(var r,n=this.ref.table.getColumnDefinitions(),s=0;s<n.length;s++){r=!n[s].headerFilter&&"input";try{r&&t.dsViews[a].columnAttrs[s].headerFilterType&&(r=t.dsViews[a].columnAttrs[s].headerFilterType)}catch(i){}n[s].headerFilter=r}this.ref.table.setColumns(n),this.setState({filterButtonText:r?"Disable Filtering":"Enable Filtering"})}},{key:"toggleEditing",value:function(){for(var e,t=this.props,a=t.dsHome,r=t.match.params.dsView,n=this.ref.table.getColumnDefinitions(),s=0;s<n.length;s++){e=!n[s].editor&&"input",n[s].editor=e;try{e&&(n[s].editor=a.dsViews[r].columnAttrs[s].editor,"textarea"===n[s].editor?n[s].editor=_.a:"codemirror"===n[s].editor?n[s].editor=O.a:"date"===n[s].editor&&(n[s].editor=A.a),console.log("Field: ",n[s].field,"editor: ",a.dsViews[r].columnAttrs[s].editor))}catch(l){}}var i=this.ref.table.getHeaderFilters();this.ref.table.setColumns(n),this.setState({editingButtonText:e?"Disable Editing":"Enable Editing",initialHeaderFilter:i,refresh:this.state.refresh+1})}},{key:"addRow",value:function(){var e=Object(s.a)(n.a.mark((function e(t,a,r,s){var i,l,o,c,d,u,m;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.props,i.dispatch,l=i.match,o=i.dsHome,c=l.params.dsView,r||(r={}),e.prev=3,!Object.keys(o.dsRowAdds[c]).length){e.next=7;break}return console.log("A row add is in progress.."),e.abrupt("return");case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(3);case 11:return d=null,a&&(u=a.getRow().getData()._id,d=u),void 0!==s&&null!==s||(s=!0),e.next=16,this.ref.table.addRow(r,s,d);case 16:m=e.sent,console.log("Row is: ",m);case 18:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t,a,r,n){return e.apply(this,arguments)}}()},{key:"startPreso",value:function(){for(var e=!1,t="",a=document.querySelectorAll(".slide"),r=0;r<a.length;r++){var n=a[r];e=!0,t+='<section class="top">'.concat(n.innerHTML,"</section>")}e&&(t=t.replace(/<pre class="code-badge-pre"[\s\S]*?(<code [\s\S]*?<\/code>)<\/pre>/gi,"<pre>$1</pre>"),localStorage.setItem("revealjsSections",t),window.open("/revealjs","_blank"))}},{key:"myCopyToClipboard",value:function(){var e=this.ref.table.modules.export.getHtml(!0,!0,null,"clipboard");this.copyFormatted(null,e)}},{key:"copyToClipboard",value:function(){this.myCopyToClipboard()}},{key:"copyFormatted",value:function(e,t){var a=document.createElement("div");e&&(t=e.innerHTML),t=(t=(t=this.fixImgSizeForClipboard(t)).replace(/<pre class="code-badge-pre"[\s\S]*?(<code [\s\S]*?<\/code>)<\/pre>/gi,"<pre>$1</pre>")).replace(/<code class="hljs">/gi,'<code class="hljs" style="background-color:white; font-size:12px">'),a.innerHTML=t,a.style.position="fixed",a.style.pointerEvents="none",a.style.opacity=0;var r=Array.prototype.slice.call(document.styleSheets).filter((function(e){return!e.disabled}));document.body.appendChild(a),window.getSelection().removeAllRanges();var n=document.createRange();n.selectNode(a),window.getSelection().addRange(n),document.execCommand("copy");for(var s=0;s<r.length;s++)/static\/css/.test(r[s].href)||(r[s].disabled=!0);document.execCommand("copy");for(s=0;s<r.length;s++)/static\/css/.test(r[s].href)||(r[s].disabled=!1);document.body.removeChild(a)}},{key:"copyFormattedBetter",value:function(e){window.getSelection().removeAllRanges();var t=document.createRange();t.selectNode(e),window.getSelection().addRange(t),document.execCommand("copy"),window.getSelection().removeAllRanges()}},{key:"copyCellToClipboard",value:function(e,t){var a=t.getColumn().getDefinition();a.formatter(t,a.formatterParams);this.copyFormatted(null,'<div style="font-family:verdana; font-size:12px; background-color: white">'.concat(t.getElement().innerHTML,"</div>"))}},{key:"step1",value:function(){var e=this.props,t=e.match,a=e.dsHome,r=t.params.dsView;!Object.keys(a).length||!a.dsViews||a.dsViews[r];try{a.dsViews[r].columns}catch(n){}return""}},{key:"recordRef",value:function(e){return this.ref=e,!0}},{key:"downloadXlsx",value:function(){var e=this.props,t=e.dispatch,a=e.match,r=e.user,n=a.params.dsName,s=a.params.dsView;t(y.a.downloadXlsx(n,s,r.user))}},{key:"addRowStatus",value:function(){var e=this.props,t=e.dispatch,a=e.match,r=e.dsHome,n=a.params.dsView,s="";try{if("filling"===r.dsRowAdds[n].status)return"";"fail"===r.dsRowAdds[n].status?s="New row add api failed":"fail"===r.dsRowAdds[n].serverStatus.status?s="Row addition failed, key might already be used. Try a different key.":"success"===r.dsRowAdds[n].serverStatus.status&&(console.log("Updating with: ",r.dsRowAdds[n].serverStatus._id),r.dsRowAdds[n].uiRow.update({_id:r.dsRowAdds[n].serverStatus._id}),t({type:S.c.CLEAR_ROW_ADD_TRACKER}))}catch(i){}return f.a.createElement("b",{style:{color:"red"}}," ",s," ")}},{key:"cellEditStatus",value:function(){var e=this,t=this.props,a=t.dispatch,r=t.match,n=(t.user,t.dsHome),s=r.params.dsName,i=r.params.dsView,l=this.state.modalStatus,o=!1;try{Object.entries(n.dsEdits).map((function(t){var r=t[0];if("done"===n.dsEdits[r].editStatus&&"fail"===n.dsEdits[r].serverStatus.status&&n.dsEdits[r].serverStatus.hasOwnProperty("value")){var c={_id:r};c[n.dsEdits[r].serverStatus.column]=n.dsEdits[r].serverStatus.value,console.log("Update: ",c),e.ref.table.updateData([c]),l+='Update <b style="color:red">failed</b>, [key, RejectedValue]: ['.concat(n.dsEdits[r].serverStatus.column,", ").concat(n.dsEdits[r].editTracker.newVal,"]<br/><br/>"),o=!0,e.cellImEditing=null;var d={_id:r,field:n.dsEdits[r].editTracker.field,dsName:s,dsView:i};z.emit("unlockReq",d),a({type:S.c.EDIT_SINGLE_DELETE_TRACKER,_id:r})}else if("done"===n.dsEdits[r].editStatus&&"fail"===n.dsEdits[r].serverStatus.status&&n.dsEdits[r].serverStatus.hasOwnProperty("error")){var u={_id:r};u[n.dsEdits[r].editTracker.field]=n.dsEdits[r].editTracker.oldVal,e.ref.table.updateData([u]),l+='Update <b style="color:red">failed</b><br/> <b style="color:red">Error: '.concat(n.dsEdits[r].serverStatus.error,")</b> <br/> Reverted [key, RejectedValue]: [").concat(n.dsEdits[r].editTracker.field,", ").concat(n.dsEdits[r].editTracker.newVal,"]<br/><br/>"),o=!0,e.cellImEditing=null;var m={_id:r,field:n.dsEdits[r].editTracker.field,dsName:s,dsView:i};z.emit("unlockReq",m),a({type:S.c.EDIT_SINGLE_DELETE_TRACKER,_id:r})}else if("done"===n.dsEdits[r].editStatus&&"success"===n.dsEdits[r].serverStatus.status&&n.dsEdits[r].serverStatus.hasOwnProperty("record")){var p=J({_id:r},n.dsEdits[r].serverStatus.record);e.ref.table.updateData([p]),o=!1,e.cellImEditing=null;var h=n.dsEdits[r].editTracker.field,f=n.dsEdits[r].editTracker.newVal,g={_id:r,field:h,dsName:s,dsView:i,newVal:f};z.emit("unlockReq",g),a({type:S.c.EDIT_SINGLE_DELETE_TRACKER,_id:r})}else if("done"===n.dsEdits[r].editStatus&&"success"===n.dsEdits[r].serverStatus.status){o=!1,e.cellImEditing=null;var E=n.dsEdits[r].editTracker.field,b=n.dsEdits[r].editTracker.newVal,v={_id:r,field:E,dsName:s,dsView:i,newVal:b};z.emit("unlockReq",v),a({type:S.c.EDIT_SINGLE_DELETE_TRACKER,_id:r})}else if("fail"===n.dsEdits[r].editStatus){var y={_id:r};y[n.dsEdits[r].editTracker.field]=n.dsEdits[r].editTracker.oldVal,e.ref.table.updateData([y]),l+='Update <b style="color:red">failed</b>, reverted [key, RejectedValue]: ['.concat(n.dsEdits[r].editTracker.field,", ").concat(n.dsEdits[r].editTracker.newVal,"]<br/><br/>"),o=!0,e.cellImEditing=null;var C={_id:r,field:n.dsEdits[r].editTracker.field,dsName:s,dsView:i};z.emit("unlockReq",C),a({type:S.c.EDIT_SINGLE_DELETE_TRACKER,_id:r})}else if("done"===n.dsEdits[r].editStatus&&"silentFail"===n.dsEdits[r].serverStatus.status){var w={_id:r};w[n.dsEdits[r].editTracker.field]=n.dsEdits[r].editTracker.oldVal,e.ref.table.updateData([w]),e.cellImEditing=null;var _={_id:r,field:n.dsEdits[r].editTracker.field,dsName:s,dsView:i};z.emit("unlockReq",_),a({type:S.c.EDIT_SINGLE_DELETE_TRACKER,_id:r})}}))}catch(u){}if(o){var c=this,d=l?f.a.createElement("div",{dangerouslySetInnerHTML:{__html:l}}):f.a.createElement("div",{dangerouslySetInnerHTML:{__html:'<b style="color:green">Edit Success</b>'}});this.setState({modalTitle:"Edit Status",modalQuestion:d,modalStatus:l,modalOk:"Dismiss",modalCallback:function(e){c.setState({showModal:!1,modalQuestion:"",modalStatus:""})},showModal:!0})}return f.a.createElement("b",{style:{color:"red"}}," ",""," ")}},{key:"cellEdited",value:function(e){var t=this,a=this.props,r=a.dispatch,n=a.match,s=a.user,i=a.dsHome,l=n.params.dsName,o=n.params.dsView;e.getRow().normalizeHeight(),this.timers["post-cell-edited"]&&(clearTimeout(this.timers["post-cell-edited"]),this.timers["post-cell-edited"]=null),this.timers["post-cell-edited"]=setTimeout((function(){t.ref.table.rowManager.adjustTableSize(!1),t.normalizeAllImgRows(),t.applyHighlightJsBadge()}),500);var c=e.getColumn().getField(),d=e.getRow().getData()._id;if(d){var u=this.fixValueType(e,c,i,o),m=u.oldVal,p=u.newVal,h={};h._id=d;for(var f=0;f<i.dsViews[o].keys.length;f++){var g=i.dsViews[o].keys[f];h[g]=e.getRow().getData()[g]}h[c]=m;var E={};E[c]=p;var b=i.dsViews[o].jiraConfig,v=i.dsViews[o].jiraAgileConfig;r(y.a.editSingleAttribute(l,o,s.user,d,c,m,p,h,E,b,v))}else{var S={};console.log("Looks like new row edit... ");var C=this.fixValueType(e,c,i,o);C.oldVal,C.newVal;if(i.dsViews[o].keys&&i.dsViews[o].keys.length){for(var w=!1,_=0;_<i.dsViews[o].keys.length;_++){var O=i.dsViews[o].keys[_];e.getRow().getData()[O]&&(w=!0),S[O]=e.getRow().getData()[O]}if(!w)return void console.log("Not ready, all keys empty")}var D=e.getRow().getData();console.log("rowData: ",D);var A=e.getRow();r(y.a.insertOneDoc(l,o,s.user,S,D,A))}}},{key:"fixValueType",value:function(e,t,a,r){var n=e.getOldValue(),s="tbd";""!==n&&(s=typeof n),console.log("Type of old val:",s),console.log("oldvalue is: ",n);var i=e.getValue();""===i||Number.isNaN(Number(i))||(i=Number(i)),"string"==s&&(i=i.toString());var l="string";try{for(var o=0;o<a.dsViews[r].columnAttrs.length;o++){var c=a.dsViews[r].columnAttrs[o];if(c.field==t){"number"==c.headerFilterType&&(l="number");break}}}catch(d){}return"string"==l?i=i.toString():"number"==l&&(""===i||Number.isNaN(Number(i))||(i=Number(i))),e.setValue(i),{oldVal:n,newVal:i}}},{key:"duplicateAndAddRowHandler",value:function(e,t,a){var r=this.props,n=r.match,s=r.dsHome,i=this,l=n.params.dsView,o=s.dsViews[l].jiraConfig,c=s.dsViews[l].jiraAgileConfig,d=t.getRow().getData();if(this.isJiraRow(d,o,c))this.setState({modalTitle:"Duplicate Row status",modalQuestion:"Can't duplicate a JIRA/JIRA_AGILE row",modalOk:"Dismiss",modalCallback:function(e){i.setState({showModal:!1,modalQuestion:"",modalStatus:""})},showModal:!0});else{console.log("Duplicate and add row called..");var u=JSON.parse(JSON.stringify(t.getData()));delete u._id,console.log("newData: ",u),this.addRow(null,t,u,a)}}},{key:"rowDeleteStatus",value:function(){var e=this.props,t=e.dispatch,a=e.dsHome,r="";try{Object.entries(a.dsDeletes).map((function(e){var n=e[0];if("done"===a.dsDeletes[n].deleteStatus&&"fail"===a.dsDeletes[n].serverStatus.status)r+="Delete failed on server ";else if("done"===a.dsDeletes[n].deleteStatus&&"success"===a.dsDeletes[n].serverStatus.status){a.dsDeletes[n].deleteTracker.row.delete(),t({type:S.c.DELETE_SINGLE_DELETE_TRACKER,_id:n})}else"fail"===a.dsDeletes[n].deleteStatus&&(r+="Delete API failed")}))}catch(n){}return f.a.createElement("b",{style:{color:"red"}}," ",r," ")}},{key:"deleteRowHandler",value:function(e,t,a){var r=this.props,n=r.dispatch,s=r.match,i=r.user,l=(r.dsHome,s.params.dsName),o=s.params.dsView;if(console.log("Delete row handler called...:",a),a){var c=t.getRow().getData()._id;if(!c)return void t.getRow().delete();n(y.a.deleteOneDoc(l,o,i.user,c,t.getRow()))}this.setState({showModal:!this.state.showModal})}},{key:"deleteRowQuestion",value:function(e,t){var a=this;this.setState({modalTitle:"Delete current row?",modalQuestion:"This will delete the current row. Please confirm. Undoing support is not yet available!",modalOk:"Delete",modalCallback:function(r){return a.deleteRowHandler(e,t,r)},showModal:!this.state.showModal})}},{key:"deleteAllRowsStatus",value:function(){var e=this,t=this.props,a=t.dispatch,r=t.dsHome,n="";try{Object.entries(r.dsDeletes).map((function(t){var s=t[0];"done"===r.dsDeletes[s].deleteStatus&&"fail"===r.dsDeletes[s].serverStatus.status?n+="Delete failed on server ":"done"===r.dsDeletes[s].deleteStatus&&"success"===r.dsDeletes[s].serverStatus.status?(e.ref.table.clearData(),a({type:S.c.DELETE_MANY_DELETE_TRACKER,_id:s})):"fail"===r.dsDeletes[s].deleteStatus&&(n+="Delete API failed")}))}catch(s){}return f.a.createElement("b",{style:{color:"red"}}," ",n," ")}},{key:"deleteAllRowsInView",value:function(e){var t=this.props,a=t.dispatch,r=t.match,n=t.user,s=(t.dsHome,r.params.dsName),i=r.params.dsView;if(console.log("Confirmed is: ",e),e){var l=this.ref.table.getRows(),o=[];console.log("Will now delete Rows: ",l);for(var c=0;c<l.length;c++){var d=l[c].getData()._id;d&&o.push(d)}a(y.a.deleteManyDocs(s,i,n.user,o,l))}this.setState({showModal:!this.state.showModal})}},{key:"deleteAllRowsInViewQuestion",value:function(){var e=this.ref.table.getRows();this.setState({modalTitle:"Delete all rows in view?",modalQuestion:"This will delete ".concat(e.length," rows. Please confirm. Undoing support is not yet available!"),modalOk:"Delete",modalCallback:this.deleteAllRowsInView,showModal:!this.state.showModal})}},{key:"deleteAllRowsInQuery",value:function(){var e=Object(s.a)(n.a.mark((function e(){var t,a,r,i,l,o,c,d,u,m,p,h,f=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.match,r=t.user,i=a.params.dsName,l=a.params.dsView,o={},c="".concat(K.apiUrl,"/ds/deleteFromQuery/").concat(i,"/").concat(l,"/").concat(r.user),d=this.ref.table.getHeaderFilters(),u=this.ajaxURLGenerator(c,{},{filters:d,pretend:!0}),m=JSON.stringify(o).length.toString(),e.next=10,fetch(u,{method:"post",body:JSON.stringify(o),headers:J({"Content-Type":"application/json","Content-Length":m},Object(M.a)()),credentials:"include"});case 10:if(p=e.sent,h=null,!p.ok){e.next=18;break}return e.next=15,p.json();case 15:h=e.sent,console.log("deleteFromQuery responseJson total: ",h.total),this.setState({modalTitle:"Delete all Rows in query?",modalQuestion:"This will delete ".concat(h.total," rows. Please confirm. Undoing support is not yet available!"),modalOk:"Delete",modalCallback:function(){var e=Object(s.a)(n.a.mark((function e(t){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=11;break}return u=f.ajaxURLGenerator(c,{},{filters:d,pretend:!1}),a=JSON.stringify(o).length.toString(),e.next=5,fetch(u,{method:"post",body:JSON.stringify(o),headers:J({"Content-Type":"application/json","Content-Length":a},Object(M.a)()),credentials:"include"});case 5:if(!(r=e.sent).ok){e.next=11;break}return e.next=9,r.json();case 9:e.sent.count==h.total&&f.ref.table.clearData();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),showModal:!this.state.showModal});case 18:return e.abrupt("return",h);case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"jiraRefreshStatus",value:function(){var e=this.props,t=e.dispatch,a=e.dsHome;a&&a.dsJiraRefresh&&"done"===a.dsJiraRefresh.status&&(this.setState({refresh:this.state.refresh+1}),t({type:S.c.JIRA_REFRESH_DELETE_TRACKER}))}},{key:"jiraRefreshHandler",value:function(){var e=this.props,t=e.dispatch,a=e.match,r=e.user,n=a.params.dsName,s=a.params.dsView,i=this.ref.table.getHeaderFilters();this.setState({initialHeaderFilter:i}),t(y.a.refreshJira(n,s,r.user))}},{key:"setFreezeColumn",value:function(e,t,a){var r=this.props,n=r.match,s=(r.dsHome,n.params.dsName,n.params.dsView,this.ref.table.getColumnDefinitions());if(s[s.length-1].field!==t.getField()){var i=this.ref.table.getHeaderFilters();this.setState({initialHeaderFilter:i}),a?this.setState({frozenCol:t.getField(),refresh:this.state.refresh+1}):this.setState({frozenCol:"",refresh:this.state.refresh+1})}}},{key:"freezeColumn",value:function(e,t){this.setFreezeColumn(e,t,!0)}},{key:"unfreezeColumn",value:function(e,t){this.setFreezeColumn(e,t,!1)}},{key:"toggleSingleFilter",value:function(e,t){for(var a,r=this.props,n=r.match,s=r.dsHome,i=(n.params.dsName,n.params.dsView),l=this.ref.table.getColumnDefinitions(),o=0;o<l.length;o++)if(l[o].field===t.getField()){a=!l[o].headerFilter&&"input";try{a&&s.dsViews[i].columnAttrs[o].headerFilterType&&(a=s.dsViews[i].columnAttrs[o].headerFilterType)}catch(e){}l[o].headerFilter=a,this.ref.table.updateColumnDefinition(l[o].field,{headerFilter:a})}}},{key:"handleJiraFormChange",value:function(e){var t=Object.keys(e)[0];this.jiraFormData=J({},this.jiraFormData,t&&"Project"===t||"JIRA_AGILE_LABEL"==t||"Type"==t||"summary"===t||"description"===t?Object(i.a)({},t,e[t]):Object(i.a)({},this.jiraFormData.Type,J({},this.jiraFormData[this.jiraFormData.Type],{},e)))}},{key:"formFinalJiraFormData",value:function(){for(var e=JSON.parse(JSON.stringify(this.jiraFormData)),t=0,a=Object.keys(e);t<a.length;t++){var r=a[t];e[r]&&("object"===typeof e[r]&&(e[r].summary=e.summary,e[r].description=e.description))}return delete e.summary,delete e.description,e}},{key:"submitJiraFormChange",value:function(){var e=Object(s.a)(n.a.mark((function e(t,a,r){var s,i,l,o,c,d,u,m,p,h,g,E,b,v,y,S,C,w,_,O,D=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=20;break}return s=this.props,s.dispatch,i=s.match,l=s.user,o=s.dsHome,c=i.params.dsName,d=i.params.dsView,u=l.user,m=o.dsViews[d].jiraConfig,p=o.dsViews[d].jiraAgileConfig,h=this.formFinalJiraFormData(),this.updateLocalStorage(h),"Bug"==h.Type&&(h[h.Type].customfield_25578=h[h.Type].customfield_25578.split(",")),e.next=12,P.a.convertToJira({dsName:c,dsView:d,username:u,selectorObj:r,jiraFormData:h,jiraConfig:m,jiraAgileConfig:p});case 12:g=e.sent,E=this.state.modalStatus,b=this.state.modalStatus,v=!1,g?"success"==g.status?(y=g.record,S=J({_id:a},y),this.ref.table.updateData([S]),b+='Update <b style="color:green">Update done</b> <br/> Jira issue Key for converted row: '.concat(g.key,"<br/><br/>"),C=b?f.a.createElement("div",{dangerouslySetInnerHTML:{__html:b}}):f.a.createElement("div",{dangerouslySetInnerHTML:{__html:'<b style="color:green">Convert Success</b>'}}),this.setState({modalTitle:"Convert Status",modalQuestion:C,modalStatus:b,modalOk:"Dismiss",modalCallback:function(e){D.setState({showModal:!1,modalQuestion:"",modalStatus:"",grayOutModalButtons:!1})},showModal:!0,toggleModalOnClose:!0,grayOutModalButtons:!1}),w={Project:"",JIRA_AGILE_LABEL:"None",Type:"Epic",summary:"",description:""},this.jiraFormData=w,this.jiraFormData=J({},this.jiraFormData,{},o.defaultTypeFieldsAndValues.value.projects[0].issuetypes)):(E+='Update <b style="color:red">failed</b><br/> <b style="color:red">Error: '.concat(g.error,"</b><br/><br/>"),v=!0):(E+='Update <b style="color:red">failed</b><br/><br/>',v=!0),v&&(_=this,O=E?f.a.createElement("div",{dangerouslySetInnerHTML:{__html:E}}):f.a.createElement("div",{dangerouslySetInnerHTML:{__html:'<b style="color:green">Convert Success</b>'}}),this.setState({secondaryModalTitle:"Convert Status",secondaryModalQuestion:O,secondaryModalStatus:E,secondaryModalOk:"Dismiss",secondaryModalCallback:function(e){_.setState({showSecondaryModal:!1,secondaryModalQuestion:"",secondaryModalStatus:"",grayOutModalButtons:!1})},showSecondaryModal:!0})),e.next=21;break;case 20:this.setState({showModal:!this.state.showModal,toggleModalOnClose:!0});case 21:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"getDefaultTypeFieldsAndValuesForProject",value:function(e,t){var a=!0,r=!1,n=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done);a=!0){var l=s.value;if(l.key==t)return l}}catch(o){r=!0,n=o}finally{try{a||null==i.return||i.return()}finally{if(r)throw n}}return null}},{key:"convertToJiraRow",value:function(){var e=Object(s.a)(n.a.mark((function e(t,a){var r,s,i,l,o,c,d,u,m,p,h,g,E,b,v,y,S,C,w,_;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this,s=this.props,i=s.match,l=s.dsHome,o=s.user,c=i.params.dsView,d=i.params.dsName,u=l.dsViews[c].jiraConfig,m=l.dsViews[c].jiraAgileConfig,p=l.dsViews[c].jiraProjectName,h=o.user,p){e.next=11;break}return this.setState({modalTitle:"Convert JIRA status",modalQuestion:'Jira Project Name not configured. Please go to "Edit-view" of the dataset and add Jira Project Name same as that in JIRA. Reload this page.',modalOk:"Dismiss",modalCallback:function(e){r.setState({showModal:!1,modalQuestion:"",modalStatus:""})},showModal:!0}),e.abrupt("return");case 11:if(u&&u.jira||m&&m.jira){e.next=14;break}return this.setState({modalTitle:"Convert JIRA status",modalQuestion:"Both JIRA/JIRA_AGILE config is disabled. Enable anyone or both to convert to JIRA row",modalOk:"Dismiss",modalCallback:function(e){r.setState({showModal:!1,modalQuestion:"",modalStatus:""})},showModal:!0}),e.abrupt("return");case 14:if(g=a.getRow().getData(),!this.isJiraRow(g,u,m)){e.next=18;break}return this.setState({modalTitle:"Convert JIRA status",modalQuestion:"Already a JIRA row. Cannot convert it further.!!",modalOk:"Dismiss",modalCallback:function(e){r.setState({showModal:!1,modalQuestion:"",modalStatus:""})},showModal:!0}),e.abrupt("return");case 18:return e.next=20,P.a.getProjectsMetaData({dsName:d,dsView:c,dsUser:h,jiraAgileConfig:m,jiraConfig:u,jiraProjectName:p});case 20:if((E=e.sent)&&0!=Object.keys(E).length){e.next=24;break}return this.setState({modalTitle:"Convert JIRA status",modalQuestion:"Unable to fetch projects metaData. Update JiraSettings correctly to fetch metadata.",modalOk:"Dismiss",modalCallback:function(e){r.setState({showModal:!1,modalQuestion:"",modalStatus:""})},showModal:!0}),e.abrupt("return");case 24:if(b=JSON.parse(JSON.stringify(this.getDefaultTypeFieldsAndValuesForProject(l.defaultTypeFieldsAndValues.value.projects,p).issuetypes)),this.jiraFormData=J({},this.jiraFormData,{},b),m&&m.label&&(this.jiraFormData.JIRA_AGILE_LABEL=m.label),this.fillLocalStorageItemData(E.issuetypes),v=a.getRow().getData(),this.formInitialJiraForm(v,u,m),"Bug"!=this.jiraFormData.Type||u&&u.jira){e.next=33;break}return this.setState({modalTitle:"Convert JIRA status",modalQuestion:"Trying to convert Bug type without enabling the Jira. Please enable it first in edit-view",modalOk:"Dismiss",modalCallback:function(e){r.setState({showModal:!1,modalQuestion:"",modalStatus:""})},showModal:!0}),e.abrupt("return");case 33:if("Epic"!=this.jiraFormData.Type&&"Story"!=this.jiraFormData.Type&&"Story Task"!=this.jiraFormData.Type||m&&m.jira){e.next=36;break}return this.setState({modalTitle:"Convert JIRA status",modalQuestion:"Trying to convert ".concat(this.jiraFormData.Type," type without enabling the Jira_Agile. Please enable it first in edit-view"),modalOk:"Dismiss",modalCallback:function(e){r.setState({showModal:!1,modalQuestion:"",modalStatus:""})},showModal:!0}),e.abrupt("return");case 36:if(u&&u.jira||m&&m.jira){for(y=a.getRow().getData()._id,(S={})._id=y,C=0;C<l.dsViews[c].keys.length;C++)w=l.dsViews[c].keys[C],S[w]=a.getRow().getData()[w];_=m.label,this.setState({modalTitle:"Jira row specifications:- ",modalOk:"Convert",modalQuestion:f.a.createElement(N.a,{formData:this.jiraFormData,handleChange:this.handleJiraFormChange,jiraEnabled:l.dsViews[c].jiraConfig&&l.dsViews[c].jiraConfig.jira,jiraAgileEnabled:l.dsViews[c].jiraAgileConfig&&l.dsViews[c].jiraAgileConfig.jira,jiraAgileBoard:_,projectsMetaData:E}),modalCallback:function(e){r.submitJiraFormChange(e,y,S)},showModal:!this.state.showModal,toggleModalOnClose:!1})}else this.setState({modalTitle:"Convert JIRA status",modalQuestion:"<b>Both JIRA/JIRA_AGILE config is disabled. Enable anyone or both to convert to JIRA row</b>",modalOk:"Dismiss",modalCallback:function(e){r.setState({showModal:!1,modalQuestion:"",modalStatus:""})},showModal:!0});case 37:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"fillLocalStorageItemData",value:function(e){try{for(var t=0,a=Object.keys(this.jiraFormData);t<a.length;t++){var r=a[t];if("object"==typeof this.jiraFormData[r]){var n=localStorage.getItem(r);if(n&&"undefined"!=n)for(var s=JSON.parse(n),i=0,l=Object.keys(s);i<l.length;i++){var o=l[i];if(this.jiraFormData[r].hasOwnProperty(o)){var c=this.validateAndGetDefaultValue(e,r,o,s[o]),d=c.isValidated,u=c.defaultValue;d&&null!=u&&(this.jiraFormData[r][o]=u)}}}}localStorage.getItem("JIRA_AGILE_LABEL")&&"undefined"!=localStorage.getItem("JIRA_AGILE_LABEL")&&(this.jiraFormData.JIRA_AGILE_LABEL=localStorage.getItem("JIRA_AGILE_LABEL"))}catch(m){}}},{key:"validateAndGetDefaultValue",value:function(e,t,a,r){var n=!1,s=null;if("customfield_25578"===a)return{isValidated:n=!0,defaultValue:s=r};for(var i=0;i<e.length;i++)if(e[i].name==t){var l=e[i].fields[a];if(l){if("array"==l.type&&l.allowedValues){for(var o=0;o<r.length;o++)if(!l.allowedValues.includes(r[o]))return{isValidated:n=!1,defaultValue:s};return{isValidated:n=!0,defaultValue:s=r}}return"option"==l.type&&l.allowedValues?l.allowedValues.includes(r)?{isValidated:n=!0,defaultValue:s=r}:{isValidated:n=!1,defaultValue:s}:"creatableArray"==l.type&&l.allowedValues?l.allowedValues.includes(r)?{isValidated:n=!0,defaultValue:s=r}:{isValidated:n=!1,defaultValue:s}:"searchableOption"==l.type&&l.allowedValues?l.allowedValues.map((function(e){return e.key})).includes(r)?{isValidated:n=!0,defaultValue:s=r}:{isValidated:n=!1,defaultValue:s}:{isValidated:n=!0,defaultValue:s=r}}return{isValidated:n,defaultValue:s}}return{isValidated:n,defaultValue:s}}},{key:"formInitialJiraForm",value:function(e,t,a){try{var r=null;if(t&&t.jira&&(r=t.jiraFieldMapping),a&&a.jira&&(r=J({},r,{},a.jiraFieldMapping)),!r)return;var n="",s="",i=!1,l="",o=0;if(r.summary){var c=e[r.summary].split("\n");if(c.length>=2){var d=c[0],u=d.match(/#+(.*)/);n=u&&u.length>=2?u[1].trim():d,s=c.join("\n").trim(),i=!0}else if(1==c.length){var m=c[0],p=m.match(/#+(.*)/);n=p&&p.length>=2?p[1].trim():m}}r.type&&(e[r.type].match(/(t|T)ask/)?l="Story Task":e[r.type].match(/(b|B)ug/)?l="Bug":e[r.type].match(/(e|E)pic/)?l="Epic":e[r.type].match(/(s|S)tory/)&&(l="Story")),!i&&r.description&&(s=e[r.description].trim()),r["Story Points"]&&("number"==typeof e[r["Story Points"]]?o=e[r["Story Points"]]:"string"==typeof e[r["Story Points"]]&&(o=parseInt(e[r["Story Points"]]))),"Epic"!=l&&"Story"!=l&&"Bug"!=l&&"Story Task"!=l||(this.jiraFormData.Type=l),this.jiraFormData.summary=n,this.jiraFormData.description=s;for(var h=0,f=Object.keys(this.jiraFormData);h<f.length;h++){var g=f[h];"object"==typeof this.jiraFormData[g]&&(0!=o&&G&&(0==this.jiraFormData[g][G]||this.jiraFormData[g][G])&&(this.jiraFormData[g][G]=o))}}catch(E){}}},{key:"isJiraRow",value:function(e,t,a){var r=null;if(t&&t.jira&&(r=t.jiraFieldMapping),a&&a.jira&&(r=J({},r,{},a.jiraFieldMapping)),!r)return!1;var n=e[r.key];return!!n&&!!n.match(/https:(.*)\/browse\//)}},{key:"addJiraRow",value:function(){var e=Object(s.a)(n.a.mark((function e(t,a,r){var s,i,l,o,c,d,u,m,p,h,g,E,b,v,y,S,C,w;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=this,i=this.props,l=i.match,o=i.dsHome,c=i.user,d=l.params.dsView,u=l.params.dsName,m=c.user,p=o.dsViews[d].jiraConfig,h=o.dsViews[d].jiraAgileConfig,g=o.dsViews[d].jiraProjectName){e.next=11;break}return this.setState({modalTitle:"Add JIRA status",modalQuestion:'Jira Project Name not configured. Please go to "Edit-view" of the dataset and add Jira Project Name same as that in JIRA. Reload this page.',modalOk:"Dismiss",modalCallback:function(e){s.setState({showModal:!1,modalQuestion:"",modalStatus:""})},showModal:!0}),e.abrupt("return");case 11:if(p&&p.jira||h&&h.jira){e.next=14;break}return this.setState({modalTitle:"Add JIRA status",modalQuestion:"Both JIRA/JIRA_AGILE config is disabled. Enable anyone or both to add a JIRA row",modalOk:"Dismiss",modalCallback:function(e){s.setState({showModal:!1,modalQuestion:"",modalStatus:""})},showModal:!0}),e.abrupt("return");case 14:if(!a||!r){e.next=23;break}if(E=a.getRow().getData(),this.isJiraRow(E,p,h)){e.next=19;break}return this.setState({modalTitle:"Add JIRA status",modalQuestion:"Cannot add JIRA as child of non-Jira row",modalOk:"Dismiss",modalCallback:function(e){s.setState({showModal:!1,modalQuestion:"",modalStatus:""})},showModal:!0}),e.abrupt("return");case 19:if(this.checkIfValid(E,r,p,h)){e.next=23;break}return this.setState({modalTitle:"Add JIRA status",modalQuestion:"Can't add ".concat(r," to current row."),modalOk:"Dismiss",modalCallback:function(e){s.setState({showModal:!1,modalQuestion:"",modalStatus:""})},showModal:!0}),e.abrupt("return");case 23:return e.next=25,P.a.getProjectsMetaData({dsName:u,dsView:d,dsUser:m,jiraAgileConfig:h,jiraConfig:p,jiraProjectName:g});case 25:if((b=e.sent)&&0!=Object.keys(b).length){e.next=29;break}return this.setState({modalTitle:"Add JIRA status",modalQuestion:"Unable to fetch projects metaData. Update JiraSettings correctly to fetch metadata.",modalOk:"Dismiss",modalCallback:function(e){s.setState({showModal:!1,modalQuestion:"",modalStatus:""})},showModal:!0}),e.abrupt("return");case 29:if(v=JSON.parse(JSON.stringify(this.getDefaultTypeFieldsAndValuesForProject(o.defaultTypeFieldsAndValues.value.projects,g).issuetypes)),this.jiraFormData=J({},this.jiraFormData,{},v),h&&h.label&&(this.jiraFormData.JIRA_AGILE_LABEL=h.label),this.fillLocalStorageItemData(b.issuetypes),r&&(this.jiraFormData.Type=r),"Bug"!=this.jiraFormData.Type||p&&p.jira){e.next=37;break}return this.setState({modalTitle:"Convert JIRA status",modalQuestion:"Trying to add Bug type without enabling the Jira. Please enable it first in edit-view",modalOk:"Dismiss",modalCallback:function(e){s.setState({showModal:!1,modalQuestion:"",modalStatus:""})},showModal:!0}),e.abrupt("return");case 37:if("Epic"!=this.jiraFormData.Type&&"Story"!=this.jiraFormData.Type&&"Story Task"!=this.jiraFormData.Type||h&&h.jira){e.next=40;break}return this.setState({modalTitle:"Convert JIRA status",modalQuestion:"Trying to add ".concat(this.jiraFormData.Type," type without enabling the Jira_Agile. Please enable it first in edit-view"),modalOk:"Dismiss",modalCallback:function(e){s.setState({showModal:!1,modalQuestion:"",modalStatus:""})},showModal:!0}),e.abrupt("return");case 40:if(p&&p.jira||h&&h.jira){y=null;try{y=h.label,this.jiraFormData.JIRA_AGILE_LABEL=y}catch(t){}S=null,C=null,r&&(S=this.getJiraId(a.getRow().getData(),p,h),"Story"==this.jiraFormData.Type?this.jiraFormData[this.jiraFormData.Type].customfield_12790=S:"Story Task"==this.jiraFormData.Type&&(this.jiraFormData[this.jiraFormData.Type].parent=S),w=a.getRow().getData()._id,(C={})._id=w),this.setState({modalTitle:"Jira specifications:- ",modalOk:"Add",modalQuestion:f.a.createElement(N.a,{formData:this.jiraFormData,handleChange:this.handleJiraFormChange,jiraEnabled:o.dsViews[d].jiraConfig&&o.dsViews[d].jiraConfig.jira,jiraAgileEnabled:o.dsViews[d].jiraAgileConfig&&o.dsViews[d].jiraAgileConfig.jira,jiraAgileBoard:y,projectsMetaData:b}),modalCallback:function(e){s.submitAddJira(e,S,C)},showModal:!this.state.showModal,toggleModalOnClose:!1})}else this.setState({modalTitle:"Convert JIRA status",modalQuestion:"<b>Both JIRA/JIRA_AGILE config is disabled. Enable anyone or both to convert to JIRA row</b>",modalOk:"Dismiss",modalCallback:function(e){s.setState({showModal:!1,modalQuestion:"",modalStatus:""})},showModal:!0});case 41:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"checkIfValid",value:function(e,t,a,r){var n=null;if(a&&a.jira&&(n=a.jiraFieldMapping),r&&r.jira&&(n=J({},n,{},r.jiraFieldMapping)),!n)return!1;try{return"Story"==t&&"Epic"==e[n.type]||"Story Task"==t&&"Story"==e[n.type]}catch(s){return!1}}},{key:"getJiraId",value:function(e,t,a){var r=null;t&&t.jira&&(r=t.jiraFieldMapping),a&&a.jira&&(r=J({},r,{},a.jiraFieldMapping));try{var n=e[r.key],s=new RegExp("/browse/(.*)\\)"),i=n.match(s);return i&&i.length>=2&&(n=i[1]),n}catch(l){}return""}},{key:"submitAddJira",value:function(){var e=Object(s.a)(n.a.mark((function e(t,a,r){var s,i,l,o,c,d,u,m,p,h,g,E,b,v,y,S,C,w,_,O,D,A,k=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=20;break}return s=this.props,s.dispatch,i=s.match,l=s.user,o=s.dsHome,c=i.params.dsName,d=i.params.dsView,u=l.user,m=o.dsViews[d].jiraConfig,p=o.dsViews[d].jiraAgileConfig,h=this.formFinalJiraFormData(),this.updateLocalStorage(h),"Bug"==h.Type&&(h[h.Type].customfield_25578=h[h.Type].customfield_25578.split(",")),e.next=12,P.a.addJiraRow({dsName:c,dsView:d,username:u,jiraFormData:h,jiraConfig:m,jiraAgileConfig:p,parentKey:a,parentSelectorObj:r});case 12:g=e.sent,E=this.state.modalStatus,b=this.state.modalStatus,v=!1,g?"success"==g.status?(y=g.record,S=J({_id:g._id},y),this.ref.table.addRow(S,!0,null),g.parentRecord&&(C=g.parentRecord,w=J({_id:r._id},C),this.ref.table.updateData([w])),b+='<b style="color:green">Update done</b> <br/> Jira issue Key for converted row: '.concat(g.key,"<br/><br/>"),_=b?f.a.createElement("div",{dangerouslySetInnerHTML:{__html:b}}):f.a.createElement("div",{dangerouslySetInnerHTML:{__html:'<b style="color:green">Convert Success</b>'}}),this.setState({modalTitle:"Convert Status",modalQuestion:_,modalStatus:b,modalOk:"Dismiss",modalCallback:function(e){k.setState({showModal:!1,modalQuestion:"",modalStatus:""})},showModal:!0,toggleModalOnClose:!0,grayOutModalButtons:!1}),O={Project:"",JIRA_AGILE_LABEL:"None",Type:"Epic"},this.jiraFormData=O,this.jiraFormData=J({},this.jiraFormData,{},o.defaultTypeFieldsAndValues.value.projects[0].issuetypes)):(E+='Update <b style="color:red">failed</b><br/> <b style="color:red">Error: '.concat(g.error,")</b><br/><br/>"),v=!0):(E+='Update <b style="color:red">failed</b><br/><br/>',v=!0),v&&(D=this,A=E?f.a.createElement("div",{dangerouslySetInnerHTML:{__html:E}}):f.a.createElement("div",{dangerouslySetInnerHTML:{__html:'<b style="color:green">Convert Success</b>'}}),this.setState({secondaryModalTitle:"Convert Status",secondaryModalQuestion:A,secondaryModalStatus:E,secondaryModalOk:"Dismiss",secondaryModalCallback:function(e){D.setState({showSecondaryModal:!1,secondaryModalQuestion:"",secondaryModalStatus:"",grayOutModalButtons:!1})},showSecondaryModal:!0})),e.next=21;break;case 20:this.setState({showModal:!this.state.showModal,toggleModalOnClose:!0});case 21:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"updateLocalStorage",value:function(e){try{localStorage.setItem("JIRA_AGILE_LABEL",e.JIRA_AGILE_LABEL);for(var t=0,a=Object.keys(e);t<a.length;t++){var r=a[t];if("object"==typeof e[r]){var n,s=J({},e[r]);s.summary&&(s.summary=""),s.description&&(s.description=""),s.customfield_12791&&(s.customfield_12791=""),n=JSON.stringify(s),localStorage.setItem(r,n)}}}catch(i){}}},{key:"handleColorPickerClose",value:function(){this.setState({showColorPicker:!1})}},{key:"handleColorPickerOnChangeComplete",value:function(e){console.log("Got back color: ",e),this.setState({showColorPicker:!0,color:e.hex})}},{key:"pickFillColorHandler",value:function(e,t){var a=this.props,r=(a.dispatch,a.match);a.user,a.dsHome,r.params.dsName,r.params.dsView;console.log("pickFillColorHandler called: ",e);t.getRow().getData()._id;this.setState({showColorPicker:!0,colorPickerLeft:e.pageX,colorPickerTop:e.pageY})}},{key:"setColumnDefinitions",value:function(){for(var e=this,t=this.props,a=t.match,r=t.dsHome,n=a.params.dsName,s=a.params.dsView,i=this,l=[{label:"Toggle Filters",action:this.toggleSingleFilter},{label:"Freeze",action:this.freezeColumn},{label:"Unfreeze",action:this.unfreezeColumn}],o=[{label:"Toggle Filters",action:this.toggleSingleFilter},{label:"Freeze",action:this.freezeColumn},{label:"Unfreeze",action:this.unfreezeColumn},{label:"<i class='fas fa-eye-slash'></i> Hide Column",action:this.hideColumn},{label:"<i class='fas fa-eye'></i> Unhide all Columns",action:this.showAllCols}],c=[{label:"Copy cell to clipboard...",action:this.copyCellToClipboard},{label:"Generate slides...",action:this.startPreso},{separator:!0},{label:"Hide/Unhide column...",menu:[{label:"<i class='fas fa-eye-slash'></i> Hide Column",action:this.hideColumnFromCell},{label:"<i class='fas fa-eye'></i> Unhide all Columns",action:this.showAllCols}]},{label:"Add row.....",menu:[{label:"Duplicate row & add (above)",action:function(e,t){i.duplicateAndAddRowHandler(e,t,!0)}},{label:"Duplicate row & add (below)",action:function(e,t){i.duplicateAndAddRowHandler(e,t,!1)}},{label:"Add empty row...",action:function(e,t){i.addRow(e,t,null,!0)}}]},{label:"Delete row....",menu:[{label:"Delete all rows in view...",action:this.deleteAllRowsInViewQuestion},{label:"Delete all rows in query...",action:this.deleteAllRowsInQuery},{label:"Delete row...",action:this.deleteRowQuestion}]},{label:"JIRA Menu....",menu:[{label:"Convert to JIRA row...",action:this.convertToJiraRow},{label:"Add new JIRA...",action:function(e,t){i.addJiraRow(e,t,null)}},{label:"Add Story to Epic",action:function(e,t){i.addJiraRow(e,t,"Story")}},{label:"Add a Story Task to Story",action:function(e,t){i.addJiraRow(e,t,"Story Task")}}]}],d=[],u=function(t){var a=JSON.parse(JSON.stringify(r.dsViews[s].columnAttrs[t]));function i(e,t){if(t&&t.conditionalFormatting)for(var a=e.getRow().getData(),r=0;r<t.conditionalExprs.length;r++){var n=t.conditionalExprs[r].split("->")[0].trim(),s=x.a.parseExpr(n);if(x.a.evalExpr(s,a)){var i=t.conditionalExprs[r].split("->")[1].trim();(i=JSON.parse(i)).backgroundColor&&(e.getElement().style.backgroundColor=i.backgroundColor),i.color&&(e.getElement().style.color=i.color);break}}}if(e.isKey(a.field)?(a.headerMenu=l,a.titleFormatter=function(e,t){return"<u>".concat(e.getValue(),"</u>")}):a.headerMenu=o,a.contextMenu=c,a.editable=e.cellEditCheck,a.cellForceEditTrigger=e.cellForceEditTrigger,e.state.showAllFilters&&(a.headerFilter="input",a.headerFilterType&&(a.headerFilter=a.headerFilterType)),"input"===a.editor&&(a.formatter=function(e,t){var a=e.getValue();return i(e,t),void 0===a?"":a}),("textarea"===a.editor||"codemirror"===a.editor||!1===a.editor&&"textarea"===a.formatter||"autocomplete"===a.editor)&&(a.formatter=function(e,t){var a=e.getValue();return i(e,t),void 0===a?"":"string"!=typeof a?a:(a=B.render(a),'<div style="white-space:normal;word-wrap:break-word;margin-bottom:-12px;">'.concat(a,"</div>"))},a.formatterClipboard=function(e,t){var a=e.getRow().getCell(e.getField())._cell.element;return a=a.cloneNode(!0),e.getElement().style.backgroundColor=a.style.backgroundColor,e.getElement().style.color=a.style.color,a},a.variableHeight=!0,"textarea"===a.editor||"codemirror"===a.editor)){a.editorParams.dsName=n,"textarea"===a.editor?a.editor=_.a:a.editor=O.a;var u=e;a.cellEditCancelled=function(e){u.cellImEditing?console.log("Skipping normalize, Inside second editcancelled"):(console.log("Normalize, Inside second editcancelled.."),e.getRow().normalizeHeight())}}"autocomplete"===a.editor&&a.editorParams.multiselect?(a.editor=k.a,a.editorParams.verticalNavigation||(a.editorParams.verticalNavigation="table")):"autocomplete"!==a.editor||a.editorParams.multiselect||(a.editor=j.a,a.editorParams.verticalNavigation||(a.editorParams.verticalNavigation="table")),"date"===a.editor&&(a.editor=A.a,a.editorParams={format:"MM/DD/YYYY"}),d.push(a)},m=0;m<r.dsViews[s].columnAttrs.length;m++)u(m);if(this.state.frozenCol){var p=!0;for(m=0;m<d.length;m++){var h=d[m];p?h.frozen=!0:delete h.frozen,h.field===this.state.frozenCol&&(p=!1)}}else for(var f=0;f<d.length;f++){delete d[f].frozen}return d}},{key:"ajaxResponse",value:function(e,t,a){return a.reqCount==this.reqCount||0==a.reqCount?this.setState({totalRecs:a.total}):console.log("In ajaxResponse, avoided stale setting of response.total!"),a}},{key:"generateParamsList",value:function(e,t){var a=this,r=[];if(t=t||"",Array.isArray(e))e.forEach((function(e,n){r=r.concat(a.generateParamsList(e,t?t+"["+n+"]":n))}));else if("object"===typeof e)for(var n in e)r=r.concat(a.generateParamsList(e[n],t?t+"["+n+"]":n));else r.push({key:t,value:e});return r}},{key:"serializeParams",value:function(e){var t=this.generateParamsList(e),a=[];return t.forEach((function(e){a.push(encodeURIComponent(e.key)+"="+encodeURIComponent(e.value))})),a.join("&")}},{key:"ajaxURLGenerator",value:function(e,t,a){return e&&a&&Object.keys(a).length&&(a.chronology=this.state.chronologyDescending?"desc":"asc",a.reqCount=++this.reqCount,t.method&&"get"!=t.method.toLowerCase()||(t.method="get",e+=(e.includes("?")?"&":"?")+this.serializeParams(a))),e}},{key:"step2",value:function(){var e=this.props,t=e.match,a=e.user,r=e.dsHome,n=(t.params.dsName,t.params.dsView),s="",i=!1,l=void 0;try{i=r.dsViews[n].otherTableAttrs.fixedHeight}catch(d){}if(i&&((l=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0))?(l-=50,l+="px"):l=void 0),r&&r.dsViews&&r.dsViews[n]&&r.dsViews[n].columns){var o=this.setColumnDefinitions(),c=this;s=f.a.createElement(E.a,null,f.a.createElement("div",{id:"tabulator"},f.a.createElement(w.a,{columns:o,data:[],options:{ajaxURL:"".concat(K.apiUrl,"/ds/view/").concat(this.props.match.params.dsName,"/").concat(n,"/").concat(a.user),ajaxConfig:{headers:J({},Object(M.a)(),{"Content-Type":"application/json"}),credentials:"include"},ajaxURLGenerator:this.ajaxURLGenerator,chronology:this.state.chronologyDescending,forceRefresh:this.state.refresh,pagination:"remote",paginationDataSent:{page:"page",size:"per_page"},paginationDataReceived:{last_page:"total_pages"},current_page:1,paginationSize:this.state.pageSize,paginationSizeSelector:[5,10,25,30,50,100,500,1e3,2e3,5e3,!0],ajaxResponse:this.ajaxResponse,ajaxError:function(e){console.log("ajaxError",e)},cellEdited:this.cellEdited,cellEditing:this.cellEditing,cellEditCancelled:this.cellEditCancelled,cellClick:this.cellClickEvents,cellDblClick:this.cellClickEvents,index:"_id",ajaxSorting:!0,ajaxFiltering:!0,initialHeaderFilter:this.state.initialHeaderFilter,initialSort:JSON.parse(JSON.stringify(this.state.initialSort)),height:l,clipboard:"fullTableCopyOnly",clipboardCopyFormatter:function(e,t){return"html"===e&&(t=(t=(t=(t=c.fixImgSizeForClipboard(t)).replaceAll("<th>",'<th style="border: 1px solid #ddd; padding: 8px; padding-top: 12px; padding-bottom: 12px; text-align: left; background-color: darkgreen;color: white;">')).replaceAll("<td>",'<td style="border: 1px solid #ddd; padding: 8px;">')).replace(/<pre class="code-badge-pre"[\s\S]*?(<code [\s\S]*?<\/code>)<\/pre>/gi,"<pre>$1</pre>")),t},rowFormatter:function(e){e.getData()._id?e.getElement().style.backgroundColor="white":e.getElement().style.backgroundColor="lightGray"},cellMouseEnter:function(e,t){"#fcfcfc"!==t.getElement().style.backgroundColor&&(t.__dg__prevBgColor=t.getElement().style.backgroundColor)},cellMouseLeave:function(e,t){delete t.__dg__prevBgColor},renderComplete:this.renderComplete},innerref:this.recordRef})))}return s}},{key:"processFilterChange",value:function(e){var t=this.props,a=t.match,r=t.history,n=t.dsHome,s=a.params.dsView,i=a.url,l=a.url.split("/");i="/"+l[1]+"/"+l[2]+"/"+l[3],e&&(i+="/"+e);var o=[],c=[],d={};if(e)try{o=JSON.parse(JSON.stringify(n.dsViews[s].filters[e].hdrFilters)),c=JSON.parse(JSON.stringify(n.dsViews[s].filters[e].hdrSorters)),n.dsViews[s].filters[e].filterColumnAttrs&&(d=JSON.parse(JSON.stringify(n.dsViews[s].filters[e].filterColumnAttrs))),JSON.stringify(this.state.initialHeaderFilter)===JSON.stringify(o)&&JSON.stringify(this.state.initialSort)===JSON.stringify(c)&&JSON.stringify(this.state.filterColumnAttrs)===JSON.stringify(d)||(this.setState({showAllFilters:!0,filter:e,initialHeaderFilter:o,initialSort:c,filterColumnAttrs:d,refresh:this.state.refresh+1}),console.log("moving to :",i),r.push(i))}catch(u){console.log("I am getting an exception...: ",u),this.state.filter!==e&&(this.setState({filter:e}),r.push(i))}else o=[],c=[],d={},0===this.state.initialHeaderFilter.length&&0===this.state.initialSort.length&&0===Object.keys(this.state.filterColumnAttrs).length?console.log("should not be coming here"):this.setState({filter:e,initialHeaderFilter:o,initialSort:c,filterColumnAttrs:d,refresh:this.state.refresh+1}),i!==this.props.location.pathname&&r.push(i);this.applyFilterColumnAttrs()}},{key:"applyFilterColumnAttrs",value:function(){try{console.log("Applying for: ",this.state.filter);var e=this.ref.table.getColumns();if(Object.keys(this.state.filterColumnAttrs))for(var t in this.state.filterColumnAttrs)for(var a=this.state.filterColumnAttrs[t],r=0;r<e.length;r++)e[r].getField()===t&&(a.hidden&&e[r].isVisible()&&e[r].hide(),e[r].getWidth()!==a.width&&e[r].setWidth(a.width));else this.showAllCols()}catch(n){console.log("Exception while applying for: ",this.state.filter,n)}}},{key:"retainColumnAttrs",value:function(){try{var e=this.ref.table.getColumns();for(var t in this.state.currentColumnAttrs)for(var a=this.state.currentColumnAttrs[t],r=0;r<e.length;r++)e[r].getField()===t&&(a.hidden&&e[r].isVisible()&&e[r].hide(),e[r].getWidth()!==a.width&&e[r].setWidth(a.width))}catch(n){}}},{key:"fixOneTimeLocalStorage",value:function(){var e=this.props.match,t=e.params.dsName,a=e.params.dsView,r="tabulator-".concat(t,"_").concat(a,"-columns"),n=localStorage.getItem(r);n=JSON.parse(n),this.state.firstTime&&n&&n.length&&(this.setState({firstTime:!1}),n.forEach((function(e){delete e.editor,delete e.headerFilter,delete e.editorParams,delete e.headerMenu,delete e.contextMenu})),localStorage.setItem(r,JSON.stringify(n)))}},{key:"pageSizeChange",value:function(e){e&&e.value?(console.log("Setting pageSize to: ",e.value),this.setState({pageSize:e.value})):(console.log("Setting pageSize to: ",20),this.setState({pageSize:20}))}},{key:"displayConnectedStatus",value:function(){return this.state.connectedState?this.state.dbconnectivitystate?f.a.createElement("span",null,f.a.createElement("i",{class:"fas fa-server"})," ",f.a.createElement("b",null,"Connection Status:")," ",f.a.createElement("b",{style:{color:"darkgreen"}},"Connected")):f.a.createElement("span",null,f.a.createElement("i",{class:"fas fa-server"})," ",f.a.createElement("b",null,"Connection Status:")," ",f.a.createElement("b",{style:{color:"red"}},"Disconnected")," ",f.a.createElement("i",null,"(Database connectivity is down)")):f.a.createElement("span",null,f.a.createElement("i",{class:"fas fa-server"})," ",f.a.createElement("b",null,"Connection Status:")," ",f.a.createElement("b",{style:{color:"red"}},"Disconnected"),f.a.createElement("i",null,"(Server connectivity is down)"))}},{key:"render",value:function(){var e=this.props,t=e.match,a=e.dsHome,r=t.params.dsName,n=t.params.dsView,s=this;this.fixOneTimeLocalStorage();var i="";console.log("In DsView render.."),document.title!=r&&(document.title=r);try{(a.dsViews[n].jiraConfig&&a.dsViews[n].jiraConfig.jira||a.dsViews[n].jiraAgileConfig&&a.dsViews[n].jiraAgileConfig.jira)&&(i=f.a.createElement(f.a.Fragment,null," | ",f.a.createElement("button",{className:"btn btn-link",onClick:this.jiraRefreshHandler}," ",f.a.createElement("i",{class:"fas fa-redo"})," Refresh Jira ")," "),a&&a.dsJiraRefresh&&"refreshing"===a.dsJiraRefresh.status&&(i=f.a.createElement(f.a.Fragment,null," | ",f.a.createElement("button",{className:"btn btn-link",onClick:this.jiraRefreshHandler,disabled:!0}," ",f.a.createElement("i",{class:"fas fa-redo"})," Refresh Jira ")," ")))}catch(c){}var l="";try{var o=B.render(a.dsViews[n].dsDescription.dsDescription);l=f.a.createElement("div",{dangerouslySetInnerHTML:{__html:o}})}catch(c){}return this.processFilterChange(this.state.filter),f.a.createElement("div",null,f.a.createElement(E.a,null,f.a.createElement(b.a,{md:12,sm:12,xs:12},f.a.createElement("h3",{style:{float:"center"}}," ",t.params.dsName))),f.a.createElement(E.a,null,f.a.createElement(b.a,{md:10,sm:10,xs:10},l)),this.step1(),f.a.createElement("br",null),f.a.createElement(E.a,null,f.a.createElement("button",{className:"btn btn-link",onClick:this.downloadXlsx}," ",f.a.createElement("i",{class:"fas fa-file-export"})," Get xlsx ")," |",f.a.createElement("button",{className:"btn btn-link",onClick:this.copyToClipboard}," ",f.a.createElement("i",{class:"fas fa-clipboard"})," Copy-to-clipboard ")," |",f.a.createElement("button",{className:"btn btn-link",onClick:this.addRow}," ",f.a.createElement("i",{class:"fas fa-plus"})," Add Row "),i,this.cellEditStatus(),this.addRowStatus(),this.rowDeleteStatus(),this.deleteAllRowsStatus(),this.jiraRefreshStatus()),f.a.createElement(E.a,null,f.a.createElement(b.a,{md:12,sm:12,xs:12},f.a.createElement("input",{type:"checkbox",checked:this.state.chronologyDescending,onChange:function(e){var t=e.target.checked,a=s.ref.table.getHeaderFilters();s.setState({chronologyDescending:t,initialHeaderFilter:a}),localStorage.setItem("chronologyDescending",JSON.stringify(t))}}),"\xa0 Desc order ",f.a.createElement("i",{class:"fas fa-level-down-alt"}),"\xa0\xa0| \xa0",f.a.createElement("input",{type:"checkbox",label:"\xa01-click editing",checked:this.state.singleClickEdit,onChange:function(e){var t=e.target.checked;s.setState({singleClickEdit:t}),localStorage.setItem("singleClickEdit",JSON.stringify(t))}}),"\xa0 1-click editing ",f.a.createElement("i",{class:"fas fa-bolt"}),"\xa0\xa0| \xa0",f.a.createElement("input",{type:"checkbox",label:"\xa0Show filters",checked:this.state.showAllFilters,onChange:function(e){var t=e.target.checked;s.setState({showAllFilters:t}),localStorage.setItem("showAllFilters",JSON.stringify(t)),s.toggleFilters()}}),"\xa0 Show filters ",f.a.createElement("i",{class:"fas fa-filter"}),"\xa0\xa0| \xa0",f.a.createElement("input",{type:"checkbox",label:"\xa0Disable Editing",checked:this.state.disableEditing,onChange:function(e){var t=e.target.checked;s.setState({disableEditing:t}),localStorage.setItem("disableEditing",JSON.stringify(t)),s.toggleEditing()}}),"\xa0 Disable Editing ",f.a.createElement("i",{class:"fas fa-ban"}),"\xa0\xa0")),f.a.createElement(g.b,{exact:!0,path:"".concat(t.path,"/:filter"),render:function(e){var t=e.match.params.filter;t!==s.state.filter&&s.processFilterChange(t)}}),f.a.createElement(F.a,{show:s.state.showAllFilters,dsName:r,dsView:n,tableRef:s.ref,onFilterChange:s.processFilterChange,defaultValue:s.state.filter}),f.a.createElement("br",null),f.a.createElement(E.a,null,f.a.createElement(b.a,{md:12,sm:12,xs:12},f.a.createElement("b",null,f.a.createElement("i",{class:"fas fa-clone"})," Total records: ",this.state.totalRecs," | "),f.a.createElement(C.a,{to:"/dsEditLog/".concat(t.params.dsName),target:"_blank"},f.a.createElement("i",{class:"fas fa-file-alt"})," ",f.a.createElement("b",null,"Edit-log"))," |\xa0",f.a.createElement(C.a,{to:"/dsViewEdit/".concat(t.params.dsName,"/").concat(t.params.dsView),target:"_blank"},f.a.createElement("i",{class:"fas fa-edit"})," ",f.a.createElement("b",null,"Edit-view"))," |\xa0",f.a.createElement(C.a,{to:"/dsBulkEdit/".concat(t.params.dsName),target:"_blank"},f.a.createElement("i",{class:"fas fa-edit"})," ",f.a.createElement("b",null,"Bulk-edit"))," |\xa0",f.a.createElement(C.a,{to:"/dsAttachments/".concat(t.params.dsName),target:"_blank"},f.a.createElement("i",{class:"fas fa-file-alt"})," ",f.a.createElement("b",null,"Attachments"))," |\xa0",this.displayConnectedStatus())),this.step2(),f.a.createElement(R.a,{show:this.state.showModal,onClose:this.toggleModal,title:this.state.modalTitle,cancel:this.state.modalCancel,ok:this.state.modalOk,toggleModalOnClose:this.state.toggleModalOnClose,grayOutModalButtons:this.state.grayOutModalButtons},this.state.modalQuestion),f.a.createElement(R.a,{show:this.state.showSecondaryModal,onClose:this.secondaryToggleModal,title:this.state.secondaryModalTitle,cancel:this.state.secondaryModalCancel,ok:this.state.secondaryModalOk},this.state.secondaryModalQuestion),f.a.createElement(L.a,{show:this.state.showModalEditor,title:this.state.modalEditorTitle,text:this.state.modalEditorText,onClose:this.toggleModalEditor,cancel:this.state.modalEditorCancel,ok:this.state.modalEditorOk}),this.state.showColorPicker?f.a.createElement(T.a,{left:this.state.colorPickerLeft,top:this.state.colorPickerTop,color:this.state.color,onChangeComplete:this.handleColorPickerOnChangeComplete,handleClose:this.handleColorPickerClose}):"")}}]),a}(h.Component);var X=Object(v.b)((function(e){return{user:e.authentication.user,home:e.home,dsHome:e.dsHome}}))(W);t.a=X}).call(this,a(340).setImmediate)},307:function(e,t,a){"use strict";var r=a(6),n=a(7),s=a(9),i=a(8),l=a(10),o=a(0),c=a.n(o),d=a(308),u=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this.props,t=e.left,a=e.top,r=e.color,n=e.handleClose,s=e.onChangeComplete;console.log("left, top: ",t,a);var i={position:"absolute",zIndex:2,left:t,top:a};return c.a.createElement("div",null,c.a.createElement("div",{style:i},c.a.createElement("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},onClick:n}),c.a.createElement(d.SketchPicker,{color:r,onChangeComplete:s})))}}]),t}(c.a.Component);t.a=u},309:function(e,t,a){"use strict";var r=a(6),n=a(7),s=a(9),i=a(8),l=a(3),o=a(10),c=a(0),d=a.n(c),u=a(23),m=a(38),p=a(27),h=a(78),f=a(25),g=a(20),E=a(31),b=a(1),v=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={save:!1,saveName:null,saveErrorMsg:"",saveDescription:null,saveAsNew:!1,saveAsNewName:"",saveAsNewDescription:"",saveAsNewErrorMsg:"",deleteFilter:!1,deleteFilterErrorMsg:""},a.deleteFilterControls=a.deleteFilterControls.bind(Object(l.a)(a)),a.saveControls=a.saveControls.bind(Object(l.a)(a)),a.saveAsNewControls=a.saveAsNewControls.bind(Object(l.a)(a)),a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"deleteFilterControls",value:function(){var e=this,t="",a=this,r=this.props,n=r.dispatch,s=r.dsName,i=r.dsView,l=r.user,o=r.dsHome,c=this.props.defaultValue;if(this.state.deleteFilter){try{"success"===o.dsFilterDeletes[i].status&&"success"===o.dsFilterDeletes[i].serverStatus.status&&this.state.deleteFilter&&(n({type:b.c.CLEAR_DELETE_FILTER_TRACKER}),this.setState({deleteFilter:!1}))}catch(u){}t=d.a.createElement(d.a.Fragment,null,d.a.createElement(m.a,null,d.a.createElement(p.a,{md:4,sm:4,xs:4},d.a.createElement("b",null,"Delete:")," ",c," ? \xa0\xa0",d.a.createElement(h.a,{size:"sm",onClick:function(){a.props.tableRef&&e.props.defaultValue&&(a.setState({deleteFilterErrorMsg:""}),console.log("State: ",a.state),n(g.a.deleteFilter(s,i,l.user,{name:c})),setTimeout((function(){n(g.a.loadColumnsForUserView(s,i,l.user))}),500),a.setState({saveName:null,saveDescription:null}),a.props.onFilterChange(null))}},"Confirm delete"),this.state.deleteFilterErrorMsg&&d.a.createElement("b",{style:{color:"red"}}," ",this.state.deleteFilterErrorMsg," "))))}return t}},{key:"saveControls",value:function(){var e=this,t="",a=this,r=this.props,n=r.dispatch,s=r.dsName,i=r.dsView,l=r.user,o=r.dsHome,c=this.props.defaultValue;if(this.state.save){try{this.state.saveName!==c&&this.setState({saveName:c,saveDescription:o.dsViews[i].filters[c].description})}catch(u){return""}try{if("fail"===o.dsFilterEdits[i].status||"fail"===o.dsFilterEdits[i].serverStatus.status){"save failed"!==this.state.saveErrorMsg&&this.setState({saveErrorMsg:"save failed"})}}catch(u){}try{"success"===o.dsFilterEdits[i].status&&"success"===o.dsFilterEdits[i].serverStatus.status&&this.state.save&&(n({type:b.c.CLEAR_EDIT_FILTER_TRACKER}),this.setState({save:!1}))}catch(u){}t=d.a.createElement(d.a.Fragment,null,d.a.createElement(m.a,null,d.a.createElement(p.a,{md:2,sm:2,xs:2},d.a.createElement("b",null,"Saving to:")),d.a.createElement(p.a,{md:4,sm:4,xs:4},c))," ",d.a.createElement("br",null),d.a.createElement(m.a,null,d.a.createElement(p.a,{md:2,sm:2,xs:2},d.a.createElement("b",null,"Description: ")),d.a.createElement(p.a,{md:4,sm:4,xs:4},d.a.createElement(f.a.Control,{as:"textarea",size:"sm",rows:"3",value:this.state.saveDescription,onChange:function(e){var t=e.target.value;a.setState({saveDescription:t})}})),d.a.createElement(p.a,{md:4,sm:4,xs:4},d.a.createElement(h.a,{size:"sm",onClick:function(){if(a.props.tableRef&&e.props.defaultValue){a.setState({saveErrorMsg:""});for(var t=a.props.tableRef.table.getHeaderFilters(),r=a.props.tableRef.table.getSorters(),o=[],d=0;d<r.length;d++){var u={};u.column=r[d].field,u.dir=r[d].dir,o.push(u)}for(var m={},p=a.props.tableRef.table.getColumns(),h=0;h<p.length;h++){var f=p[h].getField(),E={};p[h].isVisible()||(E.hidden=!0),E.width=p[h].getWidth(),m[f]=E}console.log("State: ",a.state);var b={};b.name=c,b.description=a.state.saveDescription,b.hdrFilters=t,b.hdrSorters=o,b.filterColumnAttrs=m,console.log("Save Filter object: ",b),n(g.a.editFilter(s,i,l.user,b)),setTimeout((function(){n(g.a.loadColumnsForUserView(s,i,l.user))}),500)}}},"Save"),this.state.saveErrorMsg&&d.a.createElement("b",{style:{color:"red"}}," ",this.state.saveErrorMsg," "))))}return t}},{key:"saveAsNewControls",value:function(){var e=this,t="",a=this,r=this.props,n=r.dispatch,s=r.dsName,i=r.dsView,l=r.user,o=r.dsHome;if(this.state.saveAsNew){try{if("fail"===o.dsFilterAdds[i].status||"fail"===o.dsFilterAdds[i].serverStatus.status){var c='save as new failed, try with new name maybe. Or try "save" instead';this.state.saveAsNewErrorMsg!==c&&this.setState({saveAsNewErrorMsg:c})}}catch(u){}try{"success"===o.dsFilterAdds[i].status&&"success"===o.dsFilterAdds[i].serverStatus.status&&this.state.saveAsNew&&(n({type:b.c.CLEAR_ADD_FILTER_TRACKER}),this.setState({saveAsNew:!1,saveAsNewName:"",saveAsNewDescription:""}))}catch(u){}t=d.a.createElement(d.a.Fragment,null,d.a.createElement(m.a,null,d.a.createElement(p.a,{md:2,sm:2,xs:2},d.a.createElement("b",null,"Filter name:")),d.a.createElement(p.a,{md:4,sm:4,xs:4},d.a.createElement(f.a.Control,{type:"text",size:"sm",value:this.state.saveAsNewName,onChange:function(e){var t=e.target.value;(!t||t.match(/^[a-zA-Z][a-zA-Z0-9_-]*$/g)&&t.length<=64)&&a.setState({saveAsNewName:e.target.value})}})),d.a.createElement(p.a,{md:4,sm:4,xs:4},d.a.createElement(h.a,{size:"sm",onClick:function(){if(a.props.tableRef)if(e.state.saveAsNewName){a.setState({saveAsNewErrorMsg:""});for(var t=a.props.tableRef.table.getHeaderFilters(),r=a.props.tableRef.table.getSorters(),o=[],c=0;c<r.length;c++){var d={};d.column=r[c].field,d.dir=r[c].dir,o.push(d)}for(var u={},m=a.props.tableRef.table.getColumns(),p=0;p<m.length;p++){var h=m[p].getField(),f={};m[p].isVisible()||(f.hidden=!0),f.width=m[p].getWidth(),u[h]=f}var E={};E.name=e.state.saveAsNewName,E.description=e.state.saveAsNewDescription,E.hdrFilters=t,E.hdrSorters=o,E.filterColumnAttrs=u,console.log("New Filter object: ",E),n(g.a.addFilter(s,i,l.user,E)),setTimeout((function(){n(g.a.loadColumnsForUserView(s,i,l.user))}),500),a.setState({saveName:null,saveDescription:null}),console.log("Calling onFilterChange with:",e.state.saveAsNewName),a.props.onFilterChange(e.state.saveAsNewName)}else a.setState({saveAsNewErrorMsg:"Name is mandatory"})}},"Create"),this.state.saveAsNewErrorMsg&&d.a.createElement("b",{style:{color:"red"}}," ",this.state.saveAsNewErrorMsg," "))),d.a.createElement(m.a,null,d.a.createElement(p.a,{md:2,sm:2,xs:2},d.a.createElement("b",null,"Description: ")),d.a.createElement(p.a,{md:4,sm:4,xs:4},d.a.createElement(f.a.Control,{as:"textarea",size:"sm",rows:"3",value:this.state.saveAsNewDescription,onChange:function(e){var t=e.target.value;a.setState({saveAsNewDescription:t})}}))))}return t}},{key:"render",value:function(){var e=this,t=this.props,a=(t.dispatch,t.dsName,t.dsView),r=(t.user,t.dsHome),n=this;if(!this.props.show)return n.props.onFilterChange(null),null;var s=[],i=-1,l="";try{for(var o=Object.keys(r.dsViews[a].filters),c=0;c<o.length;c++)if("_id"!==o[c]){var u={};u.value=o[c],u.label=o[c],this.props.defaultValue===o[c]&&(i=c-1,console.log("Setting defaultValueIdx to:",i),l=r.dsViews[a].filters[o[c]].description),s.push(u)}}catch(h){}return d.a.createElement(d.a.Fragment,null,d.a.createElement("br",null),d.a.createElement(m.a,null,d.a.createElement(p.a,{md:1,sm:1,xs:1},d.a.createElement("b",null,"Filters:")),d.a.createElement(p.a,{md:8,sm:8,xs:8},d.a.createElement(E.a,{key:"my_unique_select_key__".concat(JSON.stringify(s[i])),className:"basic-single",classNamePrefix:"select",isClearable:!0,name:"sheetOptions",defaultValue:s[i],value:s[i],options:s,onChange:function(e){n.setState({saveName:null,saveDescription:null}),e?n.props.onFilterChange(e.value):(n.setState({saveAsNew:!1,save:!1}),n.props.onFilterChange(null))}}))),l&&d.a.createElement("br",null),d.a.createElement(m.a,null,l&&d.a.createElement(p.a,{md:1,sm:1,xs:1},d.a.createElement("b",null,"Filter Desc:")),l&&d.a.createElement(p.a,{md:8,sm:8,xs:8},l)),l&&d.a.createElement("br",null),d.a.createElement(m.a,null,d.a.createElement("button",{className:"btn btn-link",onClick:function(){n.setState({saveAsNew:!e.state.saveAsNew,save:!1,deleteFilter:!1})}}," ",d.a.createElement("i",{class:"fas fa-filter"})," Save-as-new-filter ")," |",d.a.createElement("button",{className:"btn btn-link",onClick:function(){n.setState({save:!e.state.save,saveAsNew:!1,deleteFilter:!1})}}," ",d.a.createElement("i",{class:"fas fa-save"})," Save ")," |",d.a.createElement("button",{className:"btn btn-link",onClick:function(){n.setState({deleteFilter:!e.state.deleteFilter,save:!1,saveAsNew:!1})}}," ",d.a.createElement("i",{class:"fas fa-trash-alt"})," Delete-filter ")),this.saveAsNewControls(),this.saveControls(),this.deleteFilterControls())}}]),t}(d.a.Component);var y=Object(u.b)((function(e){return{user:e.authentication.user,home:e.home,dsHome:e.dsHome}}))(v);t.a=y},314:function(e,t,a){e.exports=a(901)},337:function(e,t,a){},34:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"b",(function(){return p}));var r=a(2),n=a.n(r),s=a(5),i=a(16),l=a(17);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={CLEAR_DS:"CLEAR_DS",UPLOAD_XLS_REQUEST:"UPLOAD_XLS_REQUEST",UPLOAD_XLS_SUCCESS:"UPLOAD_XLS_SUCCESS",UPLOAD_XLS_FAILURE:"UPLOAD_XLS_FAILURE",UPLOAD_CSV_REQUEST:"UPLOAD_CSV_REQUEST",UPLOAD_CSV_SUCCESS:"UPLOAD_CSV_SUCCESS",UPLOAD_CSV_FAILURE:"UPLOAD_CSV_FAILURE",SET_SELECTED_SHEET:"SET_SELECTED_SHEET",SET_SELECTED_KEYS:"SET_SELECTED_KEYS",FIND_HDRS_INXLS_REQUEST:"FIND_HDRS_INXLS_REQUEST",FIND_HDRS_INXLS_SUCCESS:"FIND_HDRS_INXLS_SUCCESS",FIND_HDRS_INXLS_FAILURE:"FIND_HDRS_INXLS_FAILURE",LOAD_FROM_RANGE_REQUEST:"LOAD_FROM_RANGE_REQUEST",LOAD_FROM_RANGE_SUCCESS:"LOAD_FROM_RANGE_SUCCESS",LOAD_FROM_RANGE_FAILURE:"LOAD_FROM_RANGE_FAILURE",CREATE_DS_REQUEST:"CREATE_DS_REQUEST",CREATE_DS_SUCCESS:"CREATE_DS_SUCCESS",CREATE_DS_FAILURE:"CREATE_DS_FAILURE"},u={};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.CLEAR_DS:return{};case d.UPLOAD_XLS_REQUEST:case d.UPLOAD_CSV_REQUEST:return{uploadStatus:"uploading",fileName:t.fileName};case d.UPLOAD_XLS_SUCCESS:return{uploadStatus:"success",fileName:t.fileName,sheetInfo:t.sheetInfo};case d.UPLOAD_CSV_SUCCESS:return{uploadStatus:"success",fileName:t.fileName,hdrs:t.hdrs};case d.UPLOAD_XLS_FAILURE:case d.UPLOAD_CSV_FAILURE:return{uploadStatus:"fail",uploadError:t.message};case d.SET_SELECTED_SHEET:return c({},e,{selectedSheet:t.sheetName});case d.LOAD_FROM_RANGE_REQUEST:return c({},e,{selectedRange:t.selectedRange});case d.LOAD_FROM_RANGE_SUCCESS:case d.LOAD_FROM_RANGE_FAILURE:return c({},e,{loadStatus:t.loadStatus});case d.SET_SELECTED_KEYS:return c({},e,{selectedKeys:t.selectedKeys});case d.CREATE_DS_REQUEST:return c({},e,{dsName:t.dsName});case d.CREATE_DS_SUCCESS:return c({},e,{createStatus:t.createStatus});case d.CREATE_DS_FAILURE:return c({},e,{createStatus:{status:"fail",error:t.message}});default:return e}}var p={clearReduxStore:function(){return function(){var e=Object(s.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:d.CLEAR_DS});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},uploadXlsFile:function(e,t){return function(){var o=Object(s.a)(n.a.mark((function s(o){var c;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o(a(e)),n.prev=1,n.next=4,l.b.fileUpload(t);case 4:c=n.sent,o(c?r(e,c):i("Upload failure")),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),o(i("Uploading xls file failed"));case 11:case"end":return n.stop()}}),s,null,[[1,8]])})));return function(e){return o.apply(this,arguments)}}();function a(e){return{type:d.UPLOAD_XLS_REQUEST,fileName:e}}function r(e,t){return{type:d.UPLOAD_XLS_SUCCESS,fileName:e,sheetInfo:t}}function i(e){return{type:d.UPLOAD_XLS_FAILURE,message:e}}},setSelectedSheet:function(e){return function(){var a=Object(s.a)(n.a.mark((function a(r){return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r(t(e));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();function t(e){return{type:d.SET_SELECTED_SHEET,sheetName:e}}},findHeadersInSheet:function(e,t){return function(){var i=Object(s.a)(n.a.mark((function s(i){var o;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i({type:d.FIND_HDRS_INXLS_REQUEST}),n.next=4,l.b.findHeadersInSheet({fileName:e,sheetName:t});case 4:o=n.sent,i(o?a(e,t,o):r("Upload failure")),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),i(r("Finding Hdrs failed failed"));case 11:case"end":return n.stop()}}),s,null,[[0,8]])})));return function(e){return i.apply(this,arguments)}}();function a(e,t,a){return{type:d.FIND_HDRS_INXLS_SUCCESS,fileName:e,sheetName:t,hdrsInSheet:a}}function r(e){return{type:d.FIND_HDRS_INXLS_FAILURE,message:e}}},loadHdrsFromRange:function(e,t,a){return function(){var c=Object(s.a)(n.a.mark((function s(c){var d;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c(r(a)),n.next=4,l.b.loadHdrsFromRange({fileName:e,sheetName:t,selectedRange:a});case 4:d=n.sent,c(d?i(e,t,d):o("Load Data from Range failure")),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),c(o("Load Data from Range failure"));case 11:case"end":return n.stop()}}),s,null,[[0,8]])})));return function(e){return c.apply(this,arguments)}}();function r(e){return{type:d.LOAD_FROM_RANGE_REQUEST,selectedRange:e}}function i(e,t,a){return{type:d.LOAD_FROM_RANGE_SUCCESS,fileName:e,sheetName:t,loadStatus:a}}function o(e){return{type:d.LOAD_FROM_RANGE_FAILURE,message:e}}},setSelectedKeys:function(e){return function(){var a=Object(s.a)(n.a.mark((function a(r){return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r(t(e));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();function t(e){return{type:d.SET_SELECTED_KEYS,selectedKeys:e}}},createDs:function(e,t,a,r,i,o){return function(){var m=Object(s.a)(n.a.mark((function s(m){var p;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,m(c(i)),n.next=4,l.b.createDs({fileName:e,sheetName:t,selectedRange:a,selectedKeys:r,dsName:i,dsUser:o});case 4:p=n.sent,m(p?(s=p,{type:d.CREATE_DS_SUCCESS,fileName:e,sheetName:t,selectedRange:a,selectedKeys:r,dsName:i,createStatus:s}):u("Create Ds failure")),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),m(u("Create Ds exception"));case 11:case"end":return n.stop()}var s}),s,null,[[0,8]])})));return function(e){return m.apply(this,arguments)}}();function c(e){return{type:d.CREATE_DS_REQUEST,dsName:e}}function u(e){return{type:d.CREATE_DS_FAILURE,message:e}}},uploadCsvFile:function(e,t){return function(){var o=Object(s.a)(n.a.mark((function s(o){var c;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o(a(e)),n.prev=1,n.next=4,l.b.csvFileUpload(t);case 4:c=n.sent,o(c?r(e,c):i("Upload failure")),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),o(i("Uploading csv file failed"));case 11:case"end":return n.stop()}}),s,null,[[1,8]])})));return function(e){return o.apply(this,arguments)}}();function a(e){return{type:d.UPLOAD_CSV_REQUEST,fileName:e}}function r(e,t){return{type:d.UPLOAD_CSV_SUCCESS,fileName:e,hdrs:t}}function i(e){return{type:d.UPLOAD_CSV_FAILURE,message:e}}},createDsViaCsv:function(e,t,a,r){return function(){var c=Object(s.a)(n.a.mark((function s(c){var u;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c(i(a)),n.next=4,l.b.createDsViaCsv({fileName:e,selectedKeys:t,dsName:a,dsUser:r});case 4:u=n.sent,c(u?(s=u,{type:d.CREATE_DS_SUCCESS,fileName:e,selectedKeys:t,dsName:a,createStatus:s}):o("Create Ds failure")),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),c(o("Create Ds exception"));case 11:case"end":return n.stop()}var s}),s,null,[[0,8]])})));return function(e){return c.apply(this,arguments)}}();function i(e){return{type:d.CREATE_DS_REQUEST,dsName:e}}function o(e){return{type:d.CREATE_DS_FAILURE,message:e}}},createDsFromDs:function(e,t,a,r){return function(){var o=Object(s.a)(n.a.mark((function s(o){var c;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o((u=t,{type:d.CREATE_DS_REQUEST,dsName:u})),n.next=4,l.b.createDsFromDs({fromDsName:e,toDsName:t,dsUser:a,retainData:r});case 4:c=n.sent,o(c?(s=c,{type:d.CREATE_DS_SUCCESS,fromDsName:e,toDsName:t,createStatus:s}):i("Create DsFromDs failure")),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),o(i("Create DsFromDs exception"));case 11:case"end":return n.stop()}var s,u}),s,null,[[0,8]])})));return function(e){return o.apply(this,arguments)}}();function i(e){return{type:d.CREATE_DS_FAILURE,message:e}}}}},342:function(e,t,a){"use strict";a(67),a(0),a(26)},507:function(e,t){},58:function(e,t,a){"use strict";t.a={parseExpr:function(e){var t={},a=(e=(e=e.replace(/^\s*'/,"")).replace(/\s*'$/,"")).match(/^\s*"(.*?)"\s*=\s*"(.*?)"\s*$/);if(a&&a.length>=2){t["="]={};var r=a[1],n=a[2];t["="].key=r,t["="].value=n}if((a=e.match(/^\s*"(.*?)"\s*=~\s*"(.*?)"\s*$/))&&a.length>=2){t["=~"]={};var s=a[1],i=a[2];t["=~"].key=s,t["=~"].regex=i}return t},evalExpr:function(e,t){for(var a in e){if("="===a){var r=e[a];return t[r.key]===r.value}if("=~"===a){var n=e[a],s=t[n.key];return!!new RegExp(n.regex,"i").test(s)}}}}},645:function(e,t,a){var r={"./locale":289,"./locale.js":289};function n(e){var t=s(e);return a(t)}function s(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=s,e.exports=n,n.id=645},66:function(e,t,a){"use strict";var r=a(6),n=a(7),s=a(9),i=a(8),l=a(3),o=a(10),c=a(0),d=a.n(c),u=a(89),m=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).recordTabRef=a.recordTabRef.bind(Object(l.a)(a)),a.ref=null,a}return Object(o.a)(t,e),Object(n.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.props.options.paginationSize!==e.options.paginationSize||this.props.options.chronology!==e.options.chronology||this.props.options.forceRefresh!==e.options.forceRefresh||this.props.options.height!==e.options.height}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){this.ref=null}},{key:"recordTabRef",value:function(e){var t=this.props.innerref;return this.ref=e,t(e),!0}},{key:"render",value:function(){return d.a.createElement(u.ReactTabulator,Object.assign({},this.props,{ref:this.recordTabRef}))}}]),t}(c.Component);t.a=m},67:function(e,t,a){"use strict";var r=a(6),n=a(7),s=a(9),i=a(8),l=a(10),o=a(0),c=a.n(o),d=a(70),u=a(78),m=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={value:"",textareaRef:null},a.inactivityTimeout=3e5,a.inactivityTimer=null,a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this.codeMirror&&this.codeMirror.focus()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;if(!this.props.show){if(this.codeMirror){var t=this.codeMirror.getValue();this.codeMirror.toTextArea(),this.codeMirror=null,this.setState({textareaRef:null,value:t})}return null}if(console.log("Ref value: ",this.state.textareaRef),this.state.textareaRef&&!this.codeMirror){this.codeMirror=window.CodeMirror.fromTextArea(this.state.textareaRef,{lineNumbers:!0,lineWrapping:!0,mode:"spell-checker",backdrop:"markdown",highlightFormatting:!0,scrollbarStyle:"null"}),window.inlineAttachment.editors.codemirror4.attach(this.codeMirror,{uploadUrl:"/uploadAttachments",urlText:'<img src="{filename}" alt="{filename}" width="100%" height="100%"/>',fileUrlText:"[{filename}]({filename})",allowedTypes:"*",extraParams:{dsName:this.props.editorParams.dsName}});var a=18*(this.codeMirror.getDoc().lineCount()+10);this.codeMirror.setSize("100%","".concat(a,"px")),this.codeMirror.scrollIntoView({line:this.codeMirror.getDoc().lineCount()-1,ch:0},50),this.codeMirror.getDoc().setCursor({line:this.codeMirror.getDoc().lineCount()-1,ch:0}),this.codeMirror.refresh(),this.codeMirror.focus(),this.props.cmRef&&(this.props.cmRef.ref=this.codeMirror),e.inactivityTimer=setTimeout((function(){e.inactivityTimer&&(e.props.onClose(!0,e.codeMirror.getValue()),e.inactivityTimer=null)}),e.inactivityTimeout),this.codeMirror.on("keyup",(function(t,r){a=18*(e.codeMirror.getDoc().lineCount()+10),e.codeMirror.setSize("100%","".concat(a,"px")),e.codeMirror.scrollIntoView(e.codeMirror.getDoc().getCursor(),10)})),this.codeMirror.on("keydown",(function(t,a){switch(clearTimeout(e.inactivityTimer),a.keyCode){case 13:a.ctrlKey?(e.props.onClose(!0,e.codeMirror.getValue()),e.inactivityTimer=null):e.inactivityTimer=setTimeout((function(){e.inactivityTimer&&(e.props.onClose(!0,e.codeMirror.getValue()),e.inactivityTimer=null)}),e.inactivityTimeout);break;case 27:e.props.onClose(!1,e.codeMirror.getValue()),e.inactivityTimer=null;break;default:a.stopImmediatePropagation(),a.stopPropagation(),e.inactivityTimer=setTimeout((function(){e.inactivityTimer&&(e.props.onClose(!0,e.codeMirror.getValue()),e.inactivityTimer=null)}),e.inactivityTimeout)}})),this.codeMirror.on("scroll",(function(t,a){clearTimeout(e.inactivityTimer),e.inactivityTimer=setTimeout((function(){e.inactivityTimer&&(e.props.onClose(!0,e.codeMirror.getValue()),e.inactivityTimer=null)}),e.inactivityTimeout)}))}var r={backgroundColor:"#fff",borderRadius:5,maxWidth:"55%",height:"100%",margin:"0 auto",padding:5},n=this.props.width.replace("px","");return(n=Number(n))>450&&(console.log("Width is: ",n),r.maxWidth="".concat(n,"px")),c.a.createElement("div",{style:{position:"fixed",top:0,bottom:0,left:0,right:0,backgroundColor:"rgba(0,0,0,0.3)",padding:10}},c.a.createElement("div",{style:r},c.a.createElement(d.a.Header,null,c.a.createElement(d.a.Title,null,this.props.title)),c.a.createElement("div",{style:{height:"80%",overflowY:"auto"}},c.a.createElement(d.a.Body,null,c.a.createElement("textarea",{ref:function(t){e.state.textareaRef||e.setState({textareaRef:t})},style:{},value:this.props.text,onChange:function(t){e.setState({value:t.target.value})}}))),c.a.createElement(d.a.Footer,null,c.a.createElement("span",null,c.a.createElement("b",{style:{color:"green"}},"ESC")," to cancel. ",c.a.createElement("b",{style:{color:"green"}},"Ctrl+Enter")," to save and close. "),c.a.createElement(u.a,{variant:"secondary",onClick:function(){clearTimeout(e.inactivityTimer),e.props.onClose(!1,e.codeMirror.getValue()),e.inactivityTimer=null}},this.props.cancel?this.props.cancel:"Cancel"),c.a.createElement(u.a,{variant:"primary",onClick:function(){clearTimeout(e.inactivityTimer),e.props.onClose(!0,e.codeMirror.getValue()),e.inactivityTimer=null}},this.props.ok?this.props.ok:"Do It!"))))}}]),t}(c.a.Component);t.a=m},899:function(e,t,a){},900:function(e,t,a){},901:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(26),i=a.n(s),l=a(21),o=a(23),c=a(6),d=a(7),u=a(9),m=a(8),p=a(3),h=a(10),f=a(16);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var E=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({setState:function(t){return e.setState(t)},getState:function(){return e.state}},t)},b=function(e,t){return n.a.Children.map(e,(function(e){return n.a.cloneElement(e,t)}))},v=a(13),y=a.n(v),S=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.shared,r=t.className,s=t.children,i=a.getState().opened,l=i===this.element;return n.a.createElement("li",{role:"presentation",ref:function(t){return e.element=t},className:y()(r,{open:l})},b(s,{opened:i,toggleMenu:function(t){return a.toggle(e.element,t)}}))}}]),t}(r.Component);S.Content=function(e){var t=e.children,a=e.className,r=e.open,s=e.toggleMenu;return n.a.createElement("a",{href:"#!",className:y()("dropdown-toggle",a),"aria-expanded":r,onClick:s},t)},S.SubMenu=function(e){var t=e.children,a=e.className;return n.a.createElement("ul",{className:y()("dropdown-menu",a),role:"menu"},t)};var C=S,w=window.document.body;var _=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={opened:null},a.shared=E(Object(p.a)(a),{toggle:function(e,t){t&&t.preventDefault();var r=e===a.state.opened?null:e;console.log("opened",r),a.setState({opened:r}),a.closeOnClick.target(r)}}),a.closeOnClick=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a={on:s,off:i,target:function(e){return n=e,e?s():i()}},r=!1,n=null;return t?s():a;function s(){return r||(window.document.body.addEventListener("click",l),r=!0),a}function i(){return r&&(w.removeEventListener("click",l),r=!1),a}function l(t){console.log(t.path.indexOf(n)),-1===t.path.indexOf(n)&&e(t,i)}}((function(e){return a.shared.toggle(null)}),!1),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.shared;return n.a.createElement("ul",{className:"nav navbar-nav navbar-right"},b(this.props.children,{shared:e}))}}]),t}(r.Component);_.Item=C;var O=_,D=a(2),A=a.n(D),k=a(5),j=a(1),T=a(17),R=a(14),L={login:function(e,t){return function(){var r=Object(k.a)(A.a.mark((function r(n){var s;return A.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n((l={username:e},{type:j.d.LOGIN_REQUEST,user:l})),n(x.clear()),r.prev=2,r.next=5,T.c.login(e,t);case 5:s=r.sent,console.log("user",s.user),n(a(s.user)),s.redirectUrl&&(console.log("redirectUrl",s.redirectUrl),window.location.href=s.redirectUrl),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(2),n((i="Login incorrect: username or password is wrong",{type:j.d.LOGIN_FAILURE,error:i})),n(x.error("Login incorrect: username or password is wrong"));case 15:case"end":return r.stop()}var i,l}),r,null,[[2,11]])})));return function(e){return r.apply(this,arguments)}}();function a(e){return{type:j.d.LOGIN_SUCCESS,user:e}}},logout:F,register:function(e){return function(t){t(function(e){return{type:j.d.REGISTER_REQUEST,user:e}}(e)),T.c.register(e).then((function(e){t(function(e){return{type:j.d.REGISTER_SUCCESS,user:e}}()),R.b.push("/login"),t(x.success("Registration successful"))}),(function(e){t(function(e){return{type:j.d.REGISTER_FAILURE,error:e}}(e.toString())),t(x.error(e.toString()))}))}},getAll:function(){return function(e){e({type:j.d.GETALL_REQUEST}),T.c.getAll().then((function(t){return e(function(e){return{type:j.d.GETALL_SUCCESS,users:e}}(t))}),(function(t){return e(function(e){return{type:j.d.GETALL_FAILURE,error:e}}(t.toString()))}))}},delete:function(e){return function(t){t(function(e){return{type:j.d.DELETE_REQUEST,id:e}}(e)),T.c.delete(e).then((function(a){return t(function(e){return{type:j.d.DELETE_SUCCESS,id:e}}(e))}),(function(a){return t(function(e,t){return{type:j.d.DELETE_FAILURE,id:e,error:t}}(e,a.toString()))}))}},sessionCheck:function(e){return function(){var t=Object(k.a)(A.a.mark((function t(a){var r;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:j.d.SESSION_CHECK_REUEST}),t.prev=1,t.next=4,T.c.sessionCheck(e);case 4:r=t.sent,a(r?{type:j.d.SESSION_CHECK_SUCCESS}:F()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:j.d.SESSION_CHECK_FAILURE});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}};function F(){return function(){var e=Object(k.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.c.logout();case 3:e.sent&&t({type:j.d.LOGOUT}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("logging out error:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}var x={success:function(e){return{type:j.a.SUCCESS,message:e}},error:function(e){return{type:j.a.ERROR,message:e}},clear:function(){return{type:j.a.CLEAR}}};var N,I=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).logout=a.logout.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"logout",value:function(){(0,this.props.dispatch)(L.logout())}},{key:"render",value:function(){var e=this.props.user;return n.a.createElement(C,this.props,n.a.createElement(C.Content,{className:"user-profile"},e.user,n.a.createElement("span",{className:" fa fa-angle-down"})),n.a.createElement(C.SubMenu,{className:"dropdown-usermenu pull-right"},n.a.createElement("li",null,n.a.createElement("a",{href:"#!"}," Profile")),n.a.createElement("li",null,n.a.createElement("a",{href:"#!"},n.a.createElement("span",{className:"badge bg-red pull-right"},"50%"),n.a.createElement("span",null,"Settings"))),n.a.createElement("li",null,n.a.createElement("a",{href:"#!"},"Help")),n.a.createElement("li",null,n.a.createElement("a",{href:"/",onClick:this.logout},n.a.createElement("i",{className:"fa fa-sign-out pull-right"})," Log Out"))))}}]),t}(r.Component),U=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.toggleCb,r=e.needMargin;return n.a.createElement("div",{className:r?"top_nav":""},n.a.createElement("div",{className:"nav_menu"},n.a.createElement("nav",null,n.a.createElement("div",{className:"nav toggle"},n.a.createElement("a",{href:"##",id:"menu_toggle",onClick:a},n.a.createElement("i",{className:"fas fa-bars"}))),n.a.createElement(O,null,n.a.createElement(I,Object.assign({user:t},this.props))))))}}]),t}(r.Component),V=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user;return e.visible?n.a.createElement("div",{className:"col-md-3 left_col"},n.a.createElement("div",{className:"left_col scroll-view"},n.a.createElement("div",{className:"navbar nav_title",style:{border:0}},n.a.createElement("a",{href:"/",className:"site_title"},n.a.createElement("span",null,"Datagroom"))),n.a.createElement("div",{className:"clearfix"}),n.a.createElement("div",{className:"profile clearfix"},n.a.createElement("div",{className:"profile_info"},n.a.createElement("span",null,"Welcome,"),n.a.createElement("h5",{style:{color:"white"}},t.user))),n.a.createElement("br",null),this.props.children,n.a.createElement("div",{className:"sidebar-footer hidden-small"},n.a.createElement("a",{href:"##","data-toggle":"tooltip","data-placement":"top",title:"Settings"},n.a.createElement("span",{className:"glyphicon glyphicon-cog","aria-hidden":"true"})),n.a.createElement("a",{href:"##","data-toggle":"tooltip","data-placement":"top",title:"FullScreen"},n.a.createElement("span",{className:"glyphicon glyphicon-fullscreen","aria-hidden":"true"})),n.a.createElement("a",{href:"##","data-toggle":"tooltip","data-placement":"top",title:"Lock"},n.a.createElement("span",{className:"glyphicon glyphicon-eye-close","aria-hidden":"true"})),n.a.createElement("a",{"data-toggle":"tooltip","data-placement":"top",title:"Logout",href:"login.html"},n.a.createElement("span",{className:"glyphicon glyphicon-off","aria-hidden":"true"}))))):n.a.createElement("div",null)}}]),t}(r.Component),P=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.needMargin;return n.a.createElement("footer",{style:e?null:{"margin-left":"0px"}},n.a.createElement("div",{className:"text-center"}),n.a.createElement("div",{className:"clearfix"}))}}]),t}(r.Component),M=a(38),H=a(27),J=(a(142),a(143),a(89)),B=a(90),Q=a.n(B),K=a(183),G=a.n(K),z=a(184),W=a.n(z),X=a(101);a(337);var Y=[{id:1,name:"Oli Bob",age:"12",color:"red",dob:"01/01/1980",rating:5,passed:!0,pets:["cat","dog"]},{id:2,name:"Mary May",age:"1",color:"green",dob:"12/05/1989",rating:4,passed:!0,pets:["cat"]},{id:3,name:"Christine Lobowski",age:"42",color:"green",dob:"10/05/1985",rating:4,passed:!1},{id:4,name:"Brendon Philips",age:"125",color:"red",dob:"01/08/1980",rating:4.5,passed:!0},{id:5,name:"Margret Marmajuke",age:"16",color:"yellow",dob:"07/01/1999",rating:4,passed:!1},{id:6,name:"Van Ng",age:"37",color:"green",dob:"06/10/1982",rating:4,passed:!0,pets:["dog","fish"]},{id:7,name:"Duc Ng",age:"37",color:"yellow",dob:"10/10/1982",rating:4,passed:!0,pets:["dog"]}],q=(N={},Object(f.a)(N,"","&nbsp;"),Object(f.a)(N,"red","red"),Object(f.a)(N,"green","green"),Object(f.a)(N,"yellow","yellow"),N),$=[{label:"Toggle Filters",action:function(e,t){console.log("Toggle filters!");var a=t.getDefinition(),r=a.headerFilter;a.width;t.updateDefinition({headerFilter:!r&&"input"})}}],Z=[{title:"Name",field:"name",editor:"input"},{title:"Age",field:"age",hozAlign:"left",formatter:"progress",editor:"progress"},{title:"Favourite Color",field:"color",editor:X.a,editorParams:{allowEmpty:!0,showListOnEmpty:!0,values:q,verticalNavigation:"table"},formatter:"textarea",headerMenu:$},{title:"Date Of Birth",field:"dob",editor:Q.a,editorParams:{format:"MM/DD/YYYY"}},{title:"Pets",field:"pets",sorter:function(e,t){return e.toString().localeCompare(t.toString())},editor:G.a,editorParams:{values:[{id:"cat",name:"cat"},{id:"dog",name:"dog"},{id:"fish",name:"fish"}]},formatter:W.a,formatterParams:{style:"PILL"}},{title:"Passed?",field:"passed",hozAlign:"center",formatter:"tickCross",editor:!0}],ee=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={activeTab:"",file:null},a.onFileSelect=a.onFileSelect.bind(Object(p.a)(a)),a.onFileUpload=a.onFileUpload.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"onFileSelect",value:function(e){this.setState({file:e.target.files[0]})}},{key:"onFileUpload",value:function(){var e=new FormData;e.append("file",this.state.file,this.state.file.name),console.log(this.state.file),T.b.fileUpload(e)}},{key:"render",value:function(){return n.a.createElement(M.a,null,n.a.createElement(H.a,{md:12},n.a.createElement("h3",null,"Editable Table"),n.a.createElement(J.ReactTabulator,{columns:Z,data:Y,cellEdited:function(e){return console.log("cellEdited:",e)},dataEdited:function(e){return console.log("dataEdited",e)},footerElement:n.a.createElement("span",null,"Footer"),options:{movableColumns:!0,movableRows:!1,layout:"fitDataFill",keybindings:{navRight:39,navLeft:37}}}),n.a.createElement("input",{type:"file",name:"file",onChange:this.onFileSelect}),n.a.createElement("button",{onClick:this.onFileUpload},"Upload!")))}}]),t}(r.Component),te=a(25),ae=a(78),re=a(30),ne=a(34),se=a(31),ie=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={file:null,formData:null,range:"",dsName:""},a.onFileSelect=a.onFileSelect.bind(Object(p.a)(a)),a.sheetSelectorOnChange=a.sheetSelectorOnChange.bind(Object(p.a)(a)),a.sheetSelectionDone=a.sheetSelectionDone.bind(Object(p.a)(a)),a.rangeOnChange=a.rangeOnChange.bind(Object(p.a)(a)),a.rangeSelectionDone=a.rangeSelectionDone.bind(Object(p.a)(a)),a.keySelectorOnChange=a.keySelectorOnChange.bind(Object(p.a)(a)),a.dsNameOnChange=a.dsNameOnChange.bind(Object(p.a)(a)),a.createDs=a.createDs.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"onFileSelect",value:function(e){var t=this.props,a=t.dispatch,r=t.user;this.setState({file:e.target.files[0]});var n=e.target.files[0];if(n){var s=r.user+"_"+n.name,i=new FormData;i.append("file",n,s),this.setState({file:n,formData:i}),a(ne.b.uploadXlsFile(s,i))}}},{key:"componentDidMount",value:function(){(0,this.props.dispatch)(ne.b.clearReduxStore())}},{key:"componentWillUnmount",value:function(){}},{key:"step1Status",value:function(){var e=this.props.newDs,t="";return e&&"fail"===e.uploadStatus&&(t=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:6,sm:6,xs:6},n.a.createElement("b",{style:{color:"red"}},e.uploadError)))),e&&"success"===e.uploadStatus&&!e.sheetInfo.length&&(t=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:6,sm:6,xs:6},n.a.createElement("b",{style:{color:"red"}},"Failed to recognize the sheets!")))),t}},{key:"sheetSelectorOnChange",value:function(e){var t=this.props.dispatch;console.log(e),t(ne.b.setSelectedSheet(e?e.value:null))}},{key:"sheetSelectionDone",value:function(){var e=this.props,t=e.newDs;(0,e.dispatch)(ne.b.findHeadersInSheet(t.fileName,t.selectedSheet))}},{key:"step2",value:function(){var e=this.props.newDs,t="";if(e&&"success"===e.uploadStatus&&e.sheetInfo.length){var a=[];e.sheetInfo.map((function(e){var t={};t.value=e,t.label=e,a.push(t)})),t=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:2,sm:2,xs:2},n.a.createElement("b",null,"Step 2.")," Select sheet:"),n.a.createElement(H.a,{md:4,sm:4,xs:4},n.a.createElement(se.a,{className:"basic-single",classNamePrefix:"select",isClearable:!0,name:"sheetOptions",options:a,onChange:this.sheetSelectorOnChange})))}return t}},{key:"rangeOnChange",value:function(e){this.setState({range:e.target.value})}},{key:"rangeSelectionDone",value:function(){var e=this.props,t=e.newDs;(0,e.dispatch)(ne.b.loadHdrsFromRange(t.fileName,t.selectedSheet,this.state.range))}},{key:"step3",value:function(){var e=this.props.newDs,t="";return e&&e.selectedSheet&&e.selectedSheet.length&&(t=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:2,sm:2,xs:2},n.a.createElement("b",null,"Step 3.")," Specify range (must include hdrs):"),n.a.createElement(H.a,{md:4,sm:4,xs:4},n.a.createElement(te.a.Control,{type:"text",value:this.state.range,onChange:this.rangeOnChange})),n.a.createElement(H.a,{md:4,sm:4,xs:4},n.a.createElement(ae.a,{onClick:this.rangeSelectionDone}," Validate ")))),t}},{key:"step3Status",value:function(){var e,t=this.props.newDs,a="";try{t.loadStatus.loadStatus||(e=n.a.createElement("b",{style:{color:"red"}}," ",t.loadStatus.error," "))}catch(r){}try{t.loadStatus.loadStatus||(e=Object.keys(t.loadStatus.hdrErrors).length?Object.entries(t.loadStatus.hdrErrors).map((function(e){return n.a.createElement("div",null,"[ ",e[0]," ] : [ ",n.a.createElement("b",{style:{color:"red"}}," ",e[1]," ")," ] ")})):n.a.createElement("b",{style:{color:"red"}}," ",t.loadStatus.error," "))}catch(r){}return e&&(a=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:12,sm:12,xs:12},n.a.createElement("b",null,"Error: "),e))),a}},{key:"keySelectorOnChange",value:function(e){var t=this.props.dispatch;console.log(e);var a=[];e&&e.map((function(e){a.push(e.value)})),console.log(a),t(ne.b.setSelectedKeys(a))}},{key:"step4",value:function(){var e=this.props.newDs,t="";if(e&&e.loadStatus&&e.loadStatus.loadStatus&&e.loadStatus.hdrs&&Object.keys(e.loadStatus.hdrs).length){var a=[];Object.entries(e.loadStatus.hdrs).map((function(e){var t={};t.value=e[1],t.label=e[1],a.push(t)})),t=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:2,sm:2,xs:2},n.a.createElement("b",null,"Step 4.")," Select key(s):"),n.a.createElement(H.a,{md:4,sm:4,xs:4},n.a.createElement(se.a,{className:"basic-multi-select",classNamePrefix:"select",isClearable:!0,name:"sheetOptions",options:a,onChange:this.keySelectorOnChange,isMulti:!0})))}return t}},{key:"dsNameOnChange",value:function(e){var t=e.target.value;(!t||t.match(/^[a-zA-Z][a-zA-Z0-9_]*$/g)&&t.length<=64)&&this.setState({dsName:e.target.value})}},{key:"createDs",value:function(){var e=this.props,t=e.newDs,a=e.dispatch,r=e.user;a(ne.b.createDs(t.fileName,t.selectedSheet,t.selectedRange,t.selectedKeys,this.state.dsName,r.user))}},{key:"step5",value:function(){var e=this.props.newDs,t="";return e&&e.loadStatus&&e.loadStatus.loadStatus&&e.loadStatus.hdrs&&Object.keys(e.loadStatus.hdrs).length&&(t=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:2,sm:2,xs:2},n.a.createElement("b",null,"Step 5.")," Specify dataset name:"),n.a.createElement(H.a,{md:4,sm:4,xs:4},n.a.createElement(te.a.Control,{type:"text",value:this.state.dsName,onChange:this.dsNameOnChange})),n.a.createElement(H.a,{md:4,sm:4,xs:4},n.a.createElement(ae.a,{onClick:this.createDs}," Create ")))),t}},{key:"step5Status",value:function(){var e=this.props.newDs,t="";try{if(e.createStatus.error)t=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:6,sm:6,xs:6},n.a.createElement("b",{style:{color:"red"}},e.createStatus.error)));else if(e.createStatus.loadStatus&&""!==this.state.dsName){var a="/ds/".concat(this.state.dsName,"/default");t=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:6,sm:6,xs:6},n.a.createElement("b",{style:{color:"green"}},"Successfully created: "),n.a.createElement(re.a,{to:a},"Click here for your dataset")))}}catch(r){}return t}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(M.a,null,n.a.createElement(H.a,{md:12,sm:12,xs:12},n.a.createElement("h3",{style:{float:"center"}},n.a.createElement("label",{className:"underline"},"New Dataset from xls file")))),n.a.createElement(M.a,null,n.a.createElement(H.a,{md:2,sm:2,xs:2},n.a.createElement("b",null,"Step 1.")," Select xls file:"),n.a.createElement(H.a,{md:4,sm:4,xs:4},n.a.createElement(te.a.Control,{type:"file",name:"file",onChange:this.onFileSelect}))),this.step1Status(),n.a.createElement("br",null),this.step2(),n.a.createElement("br",null),this.step3(),this.step3Status(),n.a.createElement("br",null),this.step4(),n.a.createElement("br",null),this.step5(),n.a.createElement("br",null),this.step5Status())}}]),t}(r.Component);var le=Object(o.b)((function(e){return{user:e.authentication.user,home:e.home,newDs:e.newDs}}))(ie),oe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={file:null,formData:null,range:"",dsName:""},a.onFileSelect=a.onFileSelect.bind(Object(p.a)(a)),a.keySelectorOnChange=a.keySelectorOnChange.bind(Object(p.a)(a)),a.dsNameOnChange=a.dsNameOnChange.bind(Object(p.a)(a)),a.createDs=a.createDs.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"onFileSelect",value:function(e){var t=this.props,a=t.dispatch,r=t.user;this.setState({file:e.target.files[0]});var n=e.target.files[0];if(n){var s=r.user+"_"+n.name,i=new FormData;i.append("file",n,s),this.setState({file:n,formData:i}),a(ne.b.uploadCsvFile(s,i))}}},{key:"componentDidMount",value:function(){(0,this.props.dispatch)(ne.b.clearReduxStore())}},{key:"componentWillUnmount",value:function(){}},{key:"step1Status",value:function(){var e=this.props.newDs,t="";return e&&"fail"===e.uploadStatus&&(t=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:6,sm:6,xs:6},n.a.createElement("b",{style:{color:"red"}},e.uploadError)))),e&&"success"===e.uploadStatus&&e.hdrs&&!e.hdrs.length&&(t=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:6,sm:6,xs:6},n.a.createElement("b",{style:{color:"red"}},"Failed to read the hdrs!")))),t}},{key:"step2",value:function(){var e=this.props.newDs,t="";if(e&&"success"===e.uploadStatus&&e.hdrs.length){var a=[];e.hdrs.map((function(e){var t={};t.value=e,t.label=e,a.push(t)})),t=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:2,sm:2,xs:2},n.a.createElement("b",null,"Step 2.")," Select keys:"),n.a.createElement(H.a,{md:4,sm:4,xs:4},n.a.createElement(se.a,{className:"basic-multi-select",classNamePrefix:"select",isClearable:!0,name:"keys",options:a,onChange:this.keySelectorOnChange,isMulti:!0})))}return t}},{key:"keySelectorOnChange",value:function(e){var t=this.props.dispatch;console.log(e);var a=[];e&&e.map((function(e){a.push(e.value)})),console.log(a),t(ne.b.setSelectedKeys(a))}},{key:"dsNameOnChange",value:function(e){var t=e.target.value;(!t||t.match(/^[a-zA-Z][a-zA-Z0-9_]*$/g)&&t.length<=64)&&this.setState({dsName:e.target.value})}},{key:"createDs",value:function(){var e=this.props,t=e.newDs,a=e.dispatch,r=e.user;a(ne.b.createDsViaCsv(t.fileName,t.selectedKeys,this.state.dsName,r.user))}},{key:"step5",value:function(){var e=this.props.newDs,t="";return e&&"success"===e.uploadStatus&&e.hdrs.length&&(t=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:2,sm:2,xs:2},n.a.createElement("b",null,"Step 5.")," Specify dataset name:"),n.a.createElement(H.a,{md:4,sm:4,xs:4},n.a.createElement(te.a.Control,{type:"text",value:this.state.dsName,onChange:this.dsNameOnChange})),n.a.createElement(H.a,{md:4,sm:4,xs:4},n.a.createElement(ae.a,{onClick:this.createDs}," Create ")))),t}},{key:"step5Status",value:function(){var e=this.props.newDs,t="";try{if(e.createStatus.error)t=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:6,sm:6,xs:6},n.a.createElement("b",{style:{color:"red"}},e.createStatus.error)));else if(e.createStatus.loadStatus&&""!==this.state.dsName){var a="/ds/".concat(this.state.dsName,"/default");t=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:6,sm:6,xs:6},n.a.createElement("b",{style:{color:"green"}},"Successfully created: "),n.a.createElement(re.a,{to:a},"Click here for your dataset")))}}catch(r){}return t}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(M.a,null,n.a.createElement(H.a,{md:12,sm:12,xs:12},n.a.createElement("h3",{style:{float:"center"}},n.a.createElement("label",{className:"underline"},"New Dataset from csv file")))),n.a.createElement(M.a,null,n.a.createElement(H.a,{md:2,sm:2,xs:2},n.a.createElement("b",null,"Step 1.")," Select csv file:"),n.a.createElement(H.a,{md:4,sm:4,xs:4},n.a.createElement(te.a.Control,{type:"file",name:"file",onChange:this.onFileSelect}))),this.step1Status(),n.a.createElement("br",null),this.step2(),n.a.createElement("br",null),this.step5(),n.a.createElement("br",null),this.step5Status())}}]),t}(r.Component);var ce=Object(o.b)((function(e){return{user:e.authentication.user,home:e.home,newDs:e.newDs}}))(oe),de=a(20),ue=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={fromDsName:"",toDsName:"",retainData:!0,incompleteInputErr:""},a.dsSelectorOnChange=a.dsSelectorOnChange.bind(Object(p.a)(a)),a.dsNameOnChange=a.dsNameOnChange.bind(Object(p.a)(a)),a.createDs=a.createDs.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.user;t(ne.b.clearReduxStore()),t(de.a.getDsList(a.user))}},{key:"componentWillUnmount",value:function(){}},{key:"dsSelectorOnChange",value:function(e){this.props.dispatch;e?this.setState({fromDsName:e.value}):this.setState({fromDsName:""})}},{key:"step1",value:function(){var e=this.props.allDs,t="";try{var a=[];return e.dsList.dbList.map((function(e){var t={};t.value=e.name,t.label=e.name,a.push(t)})),t=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:2,sm:2,xs:2},n.a.createElement("b",null,"Step 1.")," Select From DS:"),n.a.createElement(H.a,{md:4,sm:4,xs:4},n.a.createElement(se.a,{className:"basic-single",classNamePrefix:"select",isClearable:!0,name:"sheetOptions",options:a,onChange:this.dsSelectorOnChange})))}catch(r){}return t}},{key:"dsNameOnChange",value:function(e){var t=e.target.value;(!t||t.match(/^[a-zA-Z][a-zA-Z0-9_]*$/g)&&t.length<=64)&&this.setState({toDsName:e.target.value})}},{key:"createDs",value:function(){var e=this.props,t=(e.newDs,e.dispatch),a=e.user;console.log("createDs: ".concat(this.state.fromDsName,", ").concat(this.state.toDsName,", ").concat(this.state.retainData)),this.state.toDsName?this.state.fromDsName?this.setState({incompleteInputErr:""}):this.setState({incompleteInputErr:"Select FROM DS name!"}):this.setState({incompleteInputErr:"Specify new DS name!"}),t(ne.b.createDsFromDs(this.state.fromDsName,this.state.toDsName,a.user,this.state.retainData))}},{key:"step2",value:function(){this.props.newDs;var e="",t=this;if(!this.state.fromDsName)return e;try{e=n.a.createElement("div",null,n.a.createElement(M.a,null,n.a.createElement(H.a,{md:2,sm:2,xs:2}),n.a.createElement(H.a,{md:4,sm:4,xs:4},n.a.createElement(te.a.Check,{type:"checkbox",label:"\xa0 Retain data",checked:this.state.retainData,onChange:function(e){t.setState({retainData:e.target.checked})}}))),n.a.createElement(M.a,null,n.a.createElement(H.a,{md:2,sm:2,xs:2},n.a.createElement("b",null,"Step 2.")," Specify new dataset name:"),n.a.createElement(H.a,{md:4,sm:4,xs:4},n.a.createElement(te.a.Control,{type:"text",value:this.state.toDsName,onChange:this.dsNameOnChange})),n.a.createElement(H.a,{md:4,sm:4,xs:4},n.a.createElement(ae.a,{onClick:this.createDs}," Create "))))}catch(a){}return e}},{key:"step2Status",value:function(){var e=this.props.newDs,t="";try{if(this.state.incompleteInputErr)t=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:6,sm:6,xs:6},n.a.createElement("b",{style:{color:"red"}},this.state.incompleteInputErr)));else if(e.createStatus.error)t=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:6,sm:6,xs:6},n.a.createElement("b",{style:{color:"red"}},e.createStatus.error)));else if(e.createStatus.createStatus&&""!==this.state.toDsName){var a="/ds/".concat(this.state.toDsName,"/default");t=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:6,sm:6,xs:6},n.a.createElement("b",{style:{color:"green"}},"Successfully created: "),n.a.createElement(re.a,{to:a},"Click here for your dataset")))}}catch(r){}return t}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(M.a,null,n.a.createElement(H.a,{md:12,sm:12,xs:12},n.a.createElement("h3",{style:{float:"center"}},n.a.createElement("label",{className:"underline"},"Copy Dataset from an existing Dataset")))),this.step1(),n.a.createElement("br",null),this.step2(),n.a.createElement("br",null),this.step2Status())}}]),t}(r.Component);var me=Object(o.b)((function(e){return{user:e.authentication.user,home:e.home,newDs:e.newDs,allDs:e.allDs}}))(ue);function pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function he(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pe(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var fe={apiUrl:""},ge=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={file:null,range:"",dsName:""},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"step1",value:function(){var e=this.props,t=e.newDs,a=e.dsHome;Object.keys(a).length;var r="";if(t&&t.loadStatus&&t.loadStatus.loadStatus&&t.loadStatus.hdrs&&Object.keys(t.loadStatus.hdrs).length){var s=[];Object.entries(t.loadStatus.hdrs).map((function(e){var t={};t.value=e[1],t.label=e[1],s.push(t)})),r=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:2,sm:2,xs:2},n.a.createElement("b",null,"Step 4.")," Select key(s):"),n.a.createElement(H.a,{md:4,sm:4,xs:4},n.a.createElement(se.a,{className:"basic-multi-select",classNamePrefix:"select",isClearable:!0,name:"sheetOptions",options:s,onChange:this.keySelectorOnChange,isMulti:!0})))}return r}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(M.a,null,n.a.createElement(H.a,{md:12,sm:12,xs:12},n.a.createElement("h3",{style:{float:"center"}},n.a.createElement("label",{className:"underline"},"Browse Datasets")))),n.a.createElement(M.a,null,n.a.createElement("div",null,"Hi, will load: ",this.props.match.params.dsName,n.a.createElement(J.ReactTabulator,{columns:[{title:"Issue Id",field:"IssueID",width:150},{title:"Cur Owner",field:"CurrentOwner",width:150},{title:"Title",field:"Title",width:800,formatter:"textarea",variableHeight:!0}],data:[],options:{ajaxURL:"".concat(fe.apiUrl,"/ds/view/").concat(this.props.match.params.dsName),ajaxConfig:{headers:he({},Object(R.a)(),{"Content-Type":"application/json"}),credentials:"include"},pagination:"remote",paginationDataSent:{page:"page",size:"per_page"},paginationDataReceived:{last_page:"total_pages"},current_page:1,paginationSize:30,ajaxResponse:function(e,t,a){return console.log("ajaxResponse",e),a},ajaxError:function(e){console.log("ajaxError",e)}}}))))}}]),t}(r.Component);var Ee=Object(o.b)((function(e){return{user:e.authentication.user,home:e.home,dsHome:e.dsHome}}))(ge),be=a(302),ve=a(66),ye=(a(127),a(182),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={accessCtrl:!1,acl:null,debounceTimers:{}},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=(t.dispatch,t.dsName,t.dsView),r=t.user,s=t.dsHome,i=this;try{if(null===this.state.acl&&s.dsViews[a].aclConfig){var l="";if("string"===typeof s.dsViews[a].aclConfig.acl)l=s.dsViews[a].aclConfig.acl;else if(Array.isArray(s.dsViews[a].aclConfig.acl))for(var o=0;o<s.dsViews[a].aclConfig.acl.length;o++)l+=s.dsViews[a].aclConfig.acl[o],o<s.dsViews[a].aclConfig.acl.length-1&&(l+=", ");this.setState({accessCtrl:s.dsViews[a].aclConfig.accessCtrl,acl:l})}}catch(c){}return n.a.createElement(n.a.Fragment,null,n.a.createElement(M.a,null,n.a.createElement(H.a,{md:2,sm:2,xs:2},n.a.createElement(te.a.Check,{inline:!0,type:"checkbox",label:"\xa0Add access-control",checked:this.state.accessCtrl,onChange:function(t){var a=t.target.checked;i.setState({accessCtrl:a});for(var n=[],s=e.state.acl.split(","),l=0;l<s.length;l++){var o=s[l].trim();o&&n.push(o)}a?n.includes(r.user)||n.push(r.user):(n=[]).push(r.user),i.props.onChange({accessCtrl:a,acl:n})}})),this.state.accessCtrl&&n.a.createElement(H.a,{md:6,sm:6,xs:6},n.a.createElement(te.a.Control,{type:"text",defaultValue:this.state.acl,onChange:function(t){var a=t.target.value;i.state.debounceTimers.__accessCtrl&&clearTimeout(i.state.debounceTimers.__accessCtrl),i.state.debounceTimers.__accessCtrl=setTimeout((function(){if(delete i.state.debounceTimers.__accessCtrl,a){i.setState({acl:a});for(var t=[],r=a.split(","),n=0;n<r.length;n++){var s=r[n].trim();s&&t.push(s)}i.props.onChange({accessCtrl:e.state.accessCtrl,acl:t})}}),1e3)}}))))}}]),t}(n.a.Component));var Se=Object(o.b)((function(e){return{user:e.authentication.user,home:e.home,dsHome:e.dsHome}}))(ye);function Ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function we(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ce(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ce(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _e=new a(131)({linkify:!0,html:!0}).use(a(132)).use(a(133)).use(a(64),"code"),Oe={apiUrl:""},De=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={file:null,range:"",dsName:"",firstTime:!0,filterButtonText:"Enable Filters",editingButtonText:"Disable Editing",refreshAfterRender:!1,jiraProjectNameEnabled:null,jiraProjectName:"",jira:null,jiraAgile:null,jql:"",jiraFieldMapping:'# Jira keys: "key", "summary", "type", "assignee", "severity", "priority", "reporter", "foundInRls", "created", "rrtTargetRls", "targetRls", "status", "feature", "rzFeature", "versions", "parentKey", "parentSummary", "parent", "subtasks", "subtasksDetails", "dependsLinks", "implementLinks", "packageLinks", "relatesLinks", "testLinks", "coversLinks", "defectLinks", "automatesLinks", "updated", "votes", "systemFeature", "labels", "phaseBugFound", "phaseBugIntroduced", "epic", "description", "Story Points", "Sprint Name", "jiraSummary", "fixVersions", "Agile Commit", "duedate", "targetRlsGx"\n\n',jiraAgileLabel:"",jiraAgileBoardId:0,jiraAgileFieldMapping:'# Jira keys: "key", "summary", "type", "assignee", "severity", "priority", "reporter", "foundInRls", "created", "rrtTargetRls", "targetRls", "status", "feature", "rzFeature", "versions", "parentKey", "parentSummary", "parent", "subtasks", "subtasksDetails", "dependsLinks", "implementLinks", "packageLinks", "relatesLinks", "testLinks", "coversLinks", "defectLinks", "automatesLinks", "updated", "votes", "systemFeature", "labels", "phaseBugFound", "phaseBugIntroduced", "epic", "description", "Story Points", "Sprint Name", "jiraSummary", "fixVersions", "Agile Commit", "duedate", "targetRlsGx", "Acceptance Criteria"\n\n',dsDescription:null,widths:{},fixedHeight:null,setViewStatus:"",aclConfig:null,somethingChanged:0,debounceTimers:{}},a.editors={},a.ref=null,a.recordRef=a.recordRef.bind(Object(p.a)(a)),a.pushColumnDefs=a.pushColumnDefs.bind(Object(p.a)(a)),a.addCol=a.addCol.bind(Object(p.a)(a)),a.showAllCols=a.showAllCols.bind(Object(p.a)(a)),a.toggleSingleFilter=a.toggleSingleFilter.bind(Object(p.a)(a)),a.setEditor=a.setEditor.bind(Object(p.a)(a)),a.setEditorToFalse=a.setEditorToFalse.bind(Object(p.a)(a)),a.setEditorToInput=a.setEditorToInput.bind(Object(p.a)(a)),a.setEditorToTextArea=a.setEditorToTextArea.bind(Object(p.a)(a)),a.setEditorToCodeMirror=a.setEditorToCodeMirror.bind(Object(p.a)(a)),a.setEditorToDate=a.setEditorToDate.bind(Object(p.a)(a)),a.setFormatter=a.setFormatter.bind(Object(p.a)(a)),a.setFormatterToPlainText=a.setFormatterToPlainText.bind(Object(p.a)(a)),a.setFormatterToTextArea=a.setFormatterToTextArea.bind(Object(p.a)(a)),a.hideColumn=a.hideColumn.bind(Object(p.a)(a)),a.setHdrFilterType=a.setHdrFilterType.bind(Object(p.a)(a)),a.setHdrFilterTypeToNumber=a.setHdrFilterTypeToNumber.bind(Object(p.a)(a)),a.setHdrFilterTypeToText=a.setHdrFilterTypeToText.bind(Object(p.a)(a)),a.plusFiftyToWidth=a.plusFiftyToWidth.bind(Object(p.a)(a)),a.editorParamsControl=a.editorParamsControl.bind(Object(p.a)(a)),a.renderComplete=a.renderComplete.bind(Object(p.a)(a)),a.setViewStatus=a.setViewStatus.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.match,r=e.user,n=e.dsHome,s=a.params.dsName,i=a.params.dsView;Object.keys(n).length&&n.dsViews&&n.dsViews[i]||t(de.a.loadColumnsForUserView(s,i,r.user))}},{key:"componentWillUnmount",value:function(){(0,this.props.dispatch)({type:j.c.CLEAR_COLUMNS}),this.timer&&clearTimeout(this.timer)}},{key:"recordRef",value:function(e){return this.ref=e,!0}},{key:"showAllCols",value:function(){for(var e=this.ref.table.getColumns(),t=0;t<e.length;t++)e[t].isVisible()||e[t].show()}},{key:"renderComplete",value:function(){for(var e={},t=this.ref.table.getColumns(),a=0;a<t.length;a++)e[t[a].getField()]=t[a].getWidth();this.setState({widths:e})}},{key:"addCol",value:function(){var e=Object(k.a)(A.a.mark((function e(t,a){var r,n,s,i,l;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.props,r.dispatch,n=r.match,s=r.dsHome,i=n.params.dsView,console.log("Add col called..: ",a),a||(a={}),e.prev=4,!Object.keys(s.dsColAdds[i]).length){e.next=8;break}return console.log("A col add is in progress.."),e.abrupt("return");case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:return e.next=14,this.ref.table.addColumn({title:"",field:"",editableTitle:!0});case 14:l=e.sent,console.log("Col is: ",l);case 16:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"pushColumnDefs",value:function(){var e=this.props,t=e.dispatch,a=e.match,r=e.user,n=a.params.dsName,s=a.params.dsView;this.setState({setViewStatus:""});var i=JSON.parse(JSON.stringify(this.ref.table.getColumnDefinitions()));console.log("currentDefs from tabulator: ",i);for(var l=this.ref.table.getColumns(),o=0;o<l.length;o++)for(var c=0;c<i.length;c++)if(i[c].field===l[o].getField()){i[c].width=l[o].getWidth(),console.log("Set width: ",i[c].width);break}for(var d=this.ref.table.getHeaderFilters(),u=0;u<d.length;u++)for(var m=0;m<i.length;m++)if(i[m].field===d[u].field){i[m].hdrFilter=d[u];break}for(var p=[],h=0;h<i.length;h++){delete i[h].headerMenu;for(var f=0;f<l.length;f++)i[h].field===l[f].getField()&&(l[f].isVisible()?delete i[h].visible:i[h].visible=!1);if(i[h].editor=this.editors[i[h].field],"autocomplete"!==i[h].editor)try{delete i[h].editorParams.values,delete i[h].editorParams.showListOnEmpty,delete i[h].editorParams.allowEmpty,delete i[h].editorParams.multiselect}catch(X){}p.push(i[h])}for(var g={"Work-id":!1,Description:!1},E=!0,b={key:1,summary:1,type:1,assignee:1,severity:1,priority:1,foundInRls:1,reporter:1,created:1,rrtTargetRls:1,targetRls:1,status:1,feature:1,rzFeature:1,versions:1,parentKey:1,parentSummary:1,parent:1,subtasks:1,subtasksDetails:1,dependsLinks:1,implementLinks:1,packageLinks:1,relatesLinks:1,testLinks:1,coversLinks:1,defectLinks:1,automatesLinks:1,updated:1,votes:1,systemFeature:1,labels:1,phaseBugFound:1,phaseBugIntroduced:1,epic:1,description:1,"Story Points":1,"Sprint Name":1,jiraSummary:1,fixVersions:1,"Agile Commit":1,duedate:1,targetRlsGx:1,"Acceptance Criteria":1},v={},y=0;y<i.length;y++){for(var S in g)i[y].field===S&&(g[S]=!0);v[i[y].field]=1}for(var C in g)if(!g[C]){console.log("Unknown jira column: ",C),E=!1;break}function w(e){var t={status:!0,error:""};for(var a in e){if(!b[a]){t.error="Unknown Jira key: ".concat(a),t.status=!1;break}v[e[a]]||(t.error="Unknown column in data-set: ".concat(e[a]),t.status=!1)}return t}var _={};if(this.state.jiraFieldMapping){for(var O=this.state.jiraFieldMapping.split("\n"),D=0;D<O.length;D++){var A=O[D];if(!/^\s*#/.test(A)){var k=A.match(/^\s*"(.*?)"\s*->\s*"(.*?)"\s*$/);if(k&&k.length>=2){var j=k[1],T=k[2];_[j]=T}else if((k=A.match(/^\s*'(.*?)'\s*->\s*'(.*?)'\s*$/))&&k.length>=2){var R=k[1],L=k[2];_[R]=L}else;}}var F=w(_);if(console.log("validate ret: ",F),E=F.status,!F.status)return this.setState({setViewStatus:"Jira validation failed!"}),void console.log("Validation failed")}var x=null;E&&this.state.jira&&this.state.jql&&(x={jira:!0,jql:this.state.jql,jiraFieldMapping:_});var N={};if(this.state.jiraAgileFieldMapping){for(var I=this.state.jiraAgileFieldMapping.split("\n"),U=0;U<I.length;U++){var V=I[U];if(!/^\s*#/.test(V)){var P=V.match(/^\s*"(.*?)"\s*->\s*"(.*?)"\s*$/);if(P&&P.length>=2){var M=P[1],H=P[2];N[M]=H}else if((P=V.match(/^\s*'(.*?)'\s*->\s*'(.*?)'\s*$/))&&P.length>=2){var J=P[1],B=P[2];N[J]=B}else;}}var Q=w(N);if(console.log("validate ret: ",Q),E=Q.status,!Q.status)return this.setState({setViewStatus:"Jira validation failed!"}),void console.log("Validation failed")}var K=null;E&&this.state.jiraAgile&&this.state.jiraAgileLabel&&this.state.jiraAgileBoardId&&(K={jira:!0,label:this.state.jiraAgileLabel,boardId:parseInt(this.state.jiraAgileBoardId),jiraFieldMapping:N});var G={dsDescription:this.state.dsDescription},z={fixedHeight:this.state.fixedHeight};i=p,console.log("Will push these definitions: ",i);var W=null;this.state.jiraProjectNameEnabled&&this.state.jiraProjectName&&(W=this.state.jiraProjectName),t(de.a.setViewDefinitions(n,s,r.user,i,x,G,z,this.state.aclConfig,K,W)),this.timer=setTimeout((function(){t(de.a.clearViewDefs())}),2e3)}},{key:"setViewStatus",value:function(){var e=this.props,t=(e.match,e.dsHome),a="";try{"fail"===t.dsSetView.status&&(a=t.dsSetView.message)}catch(r){}if(this.state.setViewStatus&&(a=this.state.setViewStatus),a)return n.a.createElement("b",{style:{color:"red"}}," ",a," ");try{"success"===t.dsSetView.status&&"success"===t.dsSetView.serverStatus.status&&(a="success at ".concat(new Date))}catch(r){}return n.a.createElement("b",{style:{color:"green"}}," ",a," ")}},{key:"isKey",value:function(e){var t=this.props,a=t.match,r=t.dsHome,n=(a.params.dsName,a.params.dsView);if(r.dsViews[n].keys&&r.dsViews[n].keys.length)for(var s=0;s<r.dsViews[n].keys.length;s++){if(e===r.dsViews[n].keys[s])return!0}return!1}},{key:"hideColumn",value:function(e,t){var a=this.props,r=a.match;a.dsHome,r.params.dsName,r.params.dsView;this.isKey(t.getField())||t.hide()}},{key:"setEditor",value:function(e,t,a){for(var r=this.props,n=r.match,s=(r.dsHome,n.params.dsName,n.params.dsView,this.ref.table.getColumnDefinitions()),i=0;i<s.length;i++)if(s[i].field===t.getField()){var l=t.getWidth();this.editors[t.getField()]=a,"codemirror"!==a&&"date"!==a||(a="textarea"),this.ref.table.updateColumnDefinition(s[i].field,{editor:a,width:l});break}}},{key:"setEditorToInput",value:function(e,t){this.setEditor(e,t,"input")}},{key:"setEditorToTextArea",value:function(e,t){this.setEditor(e,t,"textarea")}},{key:"setEditorToCodeMirror",value:function(e,t){this.setEditor(e,t,"codemirror")}},{key:"setEditorToAutocomplete",value:function(e,t){this.setEditor(e,t,"autocomplete")}},{key:"setEditorToDate",value:function(e,t){this.setEditor(e,t,"date")}},{key:"setEditorToFalse",value:function(e,t){this.setEditor(e,t,!1)}},{key:"plusFiftyToWidth",value:function(e,t){console.log("Column: ",t.getWidth());var a=t.getWidth();t.setWidth(a+50)}},{key:"markdownFormatter",value:function(e,t){var a=e.getValue();return"string"!=typeof a?a:(console.log("Value is: ",a),a=_e.render(a),'<div style="white-space:normal;word-wrap:break-word;">'.concat(a,"</div>"))}},{key:"setFormatter",value:function(e,t,a){for(var r=this.ref.table.getColumnDefinitions(),n=0;n<r.length;n++)if(r[n].field===t.getField()){this.ref.table.updateColumnDefinition(r[n].field,{formatter:a});break}}},{key:"setFormatterToPlainText",value:function(e,t){this.setFormatter(e,t,"plaintext")}},{key:"setFormatterToTextArea",value:function(e,t){this.setFormatter(e,t,"textarea")}},{key:"setHdrFilterType",value:function(e,t,a){for(var r=this.ref.table.getColumnDefinitions(),n=0;n<r.length;n++)if(r[n].field===t.getField()){this.ref.table.updateColumnDefinition(r[n].field,{headerFilterType:a});break}}},{key:"setHdrFilterTypeToNumber",value:function(e,t){this.setHdrFilterType(e,t,"number")}},{key:"setHdrFilterTypeToText",value:function(e,t){this.setHdrFilterType(e,t,"input")}},{key:"setHozAlign",value:function(e,t,a){for(var r=this.ref.table.getColumnDefinitions(),n=0;n<r.length;n++)if(r[n].field===t.getField()){this.ref.table.updateColumnDefinition(r[n].field,{hozAlign:a});break}}},{key:"setVertAlign",value:function(e,t,a){for(var r=this.ref.table.getColumnDefinitions(),n=0;n<r.length;n++)if(r[n].field===t.getField()){this.ref.table.updateColumnDefinition(r[n].field,{vertAlign:a});break}}},{key:"toggleSingleFilter",value:function(e,t){var a=this.props,r=a.match,n=(a.dsHome,r.params.dsName,r.params.dsView,this.ref.table.getColumnDefinitions());console.log("Column: ",t.getWidth());this.ref.table.getColumns();for(var s,i=0;i<n.length;i++)if(n[i].field===t.getField()){s="input"!==n[i].headerFilter&&"input",n[i].headerFilter=s,this.ref.table.updateColumnDefinition(n[i].field,{headerFilter:s});break}}},{key:"dsDescription",value:function(){var e=this.props,t=e.match,a=e.dsHome,r=t.params.dsView,s=this;try{null===this.state.dsDescription&&a.dsViews[r].dsDescription.dsDescription&&this.setState({dsDescription:a.dsViews[r].dsDescription.dsDescription})}catch(i){}return n.a.createElement(M.a,null,n.a.createElement(H.a,{md:2,sm:2,xs:2},n.a.createElement("b",null,"Dataset Description: ")),n.a.createElement(H.a,{md:10,sm:10,xs:10},n.a.createElement(te.a.Control,{as:"textarea",rows:"3",defaultValue:this.state.dsDescription,onChange:function(e){var t=e.target.value,a="__dg__dsDescription";s.state.debounceTimers[a]&&clearTimeout(s.state.debounceTimers[a]),s.state.debounceTimers[a]=setTimeout((function(){delete s.state.debounceTimers[a],s.setState({dsDescription:t})}),1e3)}})))}},{key:"editorParamsControl",value:function(e){var t=this.props,a=t.match,r=(t.dsHome,a.params.dsName,a.params.dsView,"");try{var s=this,i=this.ref.table.getColumn(e.field).getDefinition();if("autocomplete"===i.editor){var l="",o=!0,c=!1,d="";try{l=i.editorParams.values.join(", ")}catch(u){}try{o=i.editorParams.multiselect}catch(u){}try{c=i.editorParams.conditionalValues}catch(u){}try{d=i.editorParams.conditionalExprs.join("\n")}catch(u){}r=n.a.createElement("div",null,"Values:",n.a.createElement(te.a.Control,{type:"text",defaultValue:l,onChange:function(t){var a=t.target.value;s.state.debounceTimers[e.field]&&clearTimeout(s.state.debounceTimers[e.field]),s.state.debounceTimers[e.field]=setTimeout((function(){if(delete s.state.debounceTimers[e.field],a){var t=a.split(",").map((function(e){return e.trim()})),r=we({},i.editorParams,{values:t,showListOnEmpty:!0,allowEmpty:!0});console.log("EditorParams: ",r),s.ref.table.updateColumnDefinition(e.field,{editorParams:r})}}),1e3)}}),n.a.createElement(te.a.Check,{type:"checkbox",label:"\xa0 autocomplete multi",checked:o,onChange:function(t){var a=t.target.checked,r=we({},i.editorParams||{},{multiselect:a});s.setState({somethingChanged:s.state.somethingChanged++}),s.ref.table.updateColumnDefinition(e.field,{editorParams:r})}}),n.a.createElement(te.a.Check,{type:"checkbox",label:"\xa0 autocomplete cond-values",checked:c,onChange:function(t){var a=t.target.checked,r=we({},i.editorParams||{},{conditionalValues:a});s.setState({somethingChanged:s.state.somethingChanged++}),s.ref.table.updateColumnDefinition(e.field,{editorParams:r})}}),c&&n.a.createElement(te.a.Control,{as:"textarea",rows:"3",defaultValue:d,onChange:function(t){var a=t.target.value;s.state.debounceTimers[e.field]&&clearTimeout(s.state.debounceTimers[e.field]),s.state.debounceTimers[e.field]=setTimeout((function(){if(delete s.state.debounceTimers[e.field],a){var t=a.split("\n").map((function(e){return e.trim()}));t=t.filter((function(e){return""!==e}));var r=we({},i.editorParams,{conditionalExprs:t,showListOnEmpty:!0,allowEmpty:!0});s.ref.table.updateColumnDefinition(e.field,{editorParams:r})}}),1e3)}}))}}catch(u){}return r}},{key:"step1",value:function(){var e=this,t=this.props,a=t.match,r=t.dsHome,s=(a.params.dsName,a.params.dsView),i=[],l=[];["line","paragraph","codemirror","autocomplete","date"].map((function(e){var t={};t.value=e,t.label=e,l.push(t)}));var o=[];["number","text"].map((function(e){var t={};t.value=e,t.label=e,o.push(t)}));var c=[];["left","center","right"].map((function(e){var t={};t.value=e,t.label=e,c.push(t)}));var d=[];["top","middle","bottom"].map((function(e){var t={};t.value=e,t.label=e,d.push(t)}));try{!function(){var t=e,a=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:2,sm:2,xs:2},n.a.createElement("b",null,"Column Attributes: ")));i.push(a),i.push(n.a.createElement("br",null));for(var u=function(a){var u=r.dsViews[s].columnAttrs[a],m={};"textarea"===u.editor?m=l[1]:"input"===u.editor?m=l[0]:"autocomplete"===u.editor?m=l[3]:"codemirror"===u.editor?m=l[2]:"date"===u.editor&&(m=l[4]);var p={};"input"===u.headerFilterType?p=o[1]:"number"===u.headerFilterType&&(p=o[0]);var h={};"left"===u.hozAlign?h=c[0]:"center"===u.hozAlign?h=c[1]:"right"===u.hozAlign&&(h=c[2]);var f={};"top"===u.vertAlign?f=d[0]:"middle"===u.vertAlign?f=d[1]:"bottom"===u.vertAlign&&(f=d[2]);var g=!1,E="",b=e.ref.table.getColumn(u.field).getDefinition();try{g=b.formatterParams.conditionalFormatting}catch(v){}try{E=b.formatterParams.conditionalExprs.join("\n")}catch(v){}i.push(n.a.createElement(M.a,{style:{border:"1px solid black","border-radius":"5px",padding:"10px"}},n.a.createElement(H.a,{md:2,sm:2,xs:2},n.a.createElement("b",null,u.field)),n.a.createElement(H.a,{md:2,sm:2,xs:2},"Hoz-Align:",n.a.createElement(se.a,{className:"basic-single",classNamePrefix:"select",isClearable:!0,name:"hozAlignOptions",options:c,defaultValue:h,onChange:function(e){console.log("Setting for: ",u.field,e);var a=t.ref.table.getColumn(u.field);t.setHozAlign("",a,e.value)}}),"Vert-Align:",n.a.createElement(se.a,{className:"basic-single",classNamePrefix:"select",isClearable:!0,name:"vertAlignOptions",options:d,defaultValue:f,onChange:function(e){console.log("Setting for: ",u.field,e);var a=t.ref.table.getColumn(u.field);t.setVertAlign("",a,e.value)}})),n.a.createElement(H.a,{md:4,sm:4,xs:4},"Editor:",n.a.createElement(se.a,{className:"basic-single",classNamePrefix:"select",isClearable:!0,name:"editorOptions",options:l,defaultValue:m,onChange:function(e){console.log("Setting for: ",u.field);var a=t.ref.table.getColumn(u.field);"paragraph"===e.value?t.setEditorToTextArea("",a):"codemirror"===e.value?t.setEditorToCodeMirror("",a):"line"===e.value?t.setEditorToInput("",a):"autocomplete"===e.value?t.setEditorToAutocomplete("",a):"date"===e.value&&t.setEditorToDate("",a),t.setState({somethingChanged:t.state.somethingChanged++})}}),e.editorParamsControl(u),"Hdr-filter-type:",n.a.createElement(se.a,{className:"basic-single",classNamePrefix:"select",isClearable:!0,name:"filterOptions",options:o,defaultValue:p,onChange:function(e){console.log("Setting for: ",u.field,e);var a=t.ref.table.getColumn(u.field);"number"===e.value?t.setHdrFilterTypeToNumber("",a):"text"===e.value&&t.setHdrFilterTypeToText("",a)}}),n.a.createElement(te.a.Check,{type:"checkbox",label:"\xa0 conditional formatting",checked:g,onChange:function(e){var a=e.target.checked,r=we({},b.formatterParams||{},{conditionalFormatting:a});t.setState({somethingChanged:t.state.somethingChanged++}),t.ref.table.updateColumnDefinition(u.field,{formatterParams:r})}}),g&&n.a.createElement(te.a.Control,{as:"textarea",rows:"3",defaultValue:E,onChange:function(e){var a=e.target.value;t.state.debounceTimers[u.field]&&clearTimeout(t.state.debounceTimers[u.field]),t.state.debounceTimers[u.field]=setTimeout((function(){if(delete t.state.debounceTimers[u.field],a){var e=b.formatterParams||{},r=a.split("\n").map((function(e){return e.trim()})),n=we({},e,{conditionalExprs:r=r.filter((function(e){return""!==e}))});t.setState({somethingChanged:t.state.somethingChanged++}),t.ref.table.updateColumnDefinition(u.field,{formatterParams:n})}}),1e3)}})))),i.push(n.a.createElement("br",null))},m=0;m<r.dsViews[s].columnAttrs.length;m++)u(m)}()}catch(u){}return n.a.createElement("div",null,i)}},{key:"step2",value:function(){var e=this.props,t=e.match,a=e.user,r=e.dsHome,s=(t.params.dsName,t.params.dsView),i=[{label:"Toggle Filters",action:this.toggleSingleFilter},{label:"Set Editor to 'line'",action:this.setEditorToInput},{label:"Set Editor to 'paragraph'",action:this.setEditorToTextArea},{label:"Disable editing",action:this.setEditorToFalse},{label:"Set Formatter to 'line'",action:this.setFormatterToPlainText},{label:"Set Formatter to 'paragraph'",action:this.setFormatterToTextArea},{label:"Set header filter type to number",action:this.setHdrFilterTypeToNumber},{label:"Set header filter type to text",action:this.setHdrFilterTypeToText},{label:"Plus 50 to column width",action:this.plusFiftyToWidth}],l=[{label:"Toggle Filters",action:this.toggleSingleFilter},{label:"Set Editor to 'line'",action:this.setEditorToInput},{label:"Set Editor to 'paragraph'",action:this.setEditorToTextArea},{label:"Disable editing",action:this.setEditorToFalse},{label:"Set Formatter to 'line'",action:this.setFormatterToPlainText},{label:"Set Formatter to 'paragraph'",action:this.setFormatterToTextArea},{label:"<i class='fas fa-eye-slash'></i> Hide Column",action:this.hideColumn},{label:"Set header filter type to number",action:this.setHdrFilterTypeToNumber},{label:"Set header filter type to text",action:this.setHdrFilterTypeToText},{label:"Plus 50 to column width",action:this.plusFiftyToWidth}],o="";if(r&&r.dsViews&&r.dsViews[s]&&r.dsViews[s].columns){for(var c=[],d=0;d<r.dsViews[s].columnAttrs.length;d++){var u=JSON.parse(JSON.stringify(r.dsViews[s].columnAttrs[d]));this.isKey(u.field)?u.headerMenu=i:u.headerMenu=l,this.editors[u.field]||(this.editors[u.field]=u.editor),"codemirror"!==u.editor&&"date"!==u.editor||(u.editor="textarea"),u.editable=function(){return!1},c.push(u)}o=n.a.createElement(M.a,null,n.a.createElement("div",null,n.a.createElement(ve.a,{columns:c,data:[],options:{ajaxURL:"".concat(Oe.apiUrl,"/ds/view/").concat(this.props.match.params.dsName,"/").concat(s,"/").concat(a.user),ajaxConfig:{headers:we({},Object(R.a)(),{"Content-Type":"application/json"}),credentials:"include"},pagination:"remote",paginationDataSent:{page:"page",size:"per_page"},paginationDataReceived:{last_page:"total_pages"},current_page:1,paginationSize:20,ajaxResponse:function(e,t,a){return console.log("ajaxResponse",e),a},ajaxError:function(e){console.log("ajaxError",e)},movableColumns:!0,cellEdited:this.cellEdited,index:"_id",ajaxSorting:!0,ajaxFiltering:!0,rowFormatter:function(e){e.getData()._id?e.getElement().style.backgroundColor="white":e.getElement().style.backgroundColor="lightGray"},renderComplete:this.renderComplete},innerref:this.recordRef})))}return o}},{key:"render",value:function(){var e=this.props,t=e.match,a=e.dsHome,r=t.params.dsView,s=t.params.dsName;document.title="Edit-view: ".concat(s);try{null===this.state.jiraProjectNameEnabled&&a.dsViews[r].jiraProjectName&&this.setState({jiraProjectNameEnabled:!0,jiraProjectName:a.dsViews[r].jiraProjectName})}catch(f){}try{if(null===this.state.jira&&a.dsViews[r].jiraConfig){var i=this.state.jiraFieldMapping;for(var l in a.dsViews[r].jiraConfig.jiraFieldMapping)i+='"'.concat(l,'" -> "').concat(a.dsViews[r].jiraConfig.jiraFieldMapping[l],'"')+"\n";this.setState({jira:a.dsViews[r].jiraConfig.jira,jql:a.dsViews[r].jiraConfig.jql,jiraFieldMapping:i})}}catch(f){}try{if(null===this.state.jiraAgile&&a.dsViews[r].jiraAgileConfig){var o=this.state.jiraAgileFieldMapping;for(var c in a.dsViews[r].jiraAgileConfig.jiraFieldMapping)o+='"'.concat(c,'" -> "').concat(a.dsViews[r].jiraAgileConfig.jiraFieldMapping[c],'"')+"\n";this.setState({jiraAgile:a.dsViews[r].jiraAgileConfig.jira,jiraAgileLabel:a.dsViews[r].jiraAgileConfig.label,jiraAgileBoardId:a.dsViews[r].jiraAgileConfig.boardId,jiraAgileFieldMapping:o})}}catch(f){}try{null===this.state.fixedHeight&&a.dsViews[r].otherTableAttrs&&this.setState({fixedHeight:a.dsViews[r].otherTableAttrs.fixedHeight})}catch(f){}try{if(null===this.state.aclConfig&&a.dsViews[r].aclConfig){var d="";if("string"===typeof a.dsViews[r].aclConfig.acl)d=a.dsViews[r].aclConfig.acl;else if(Array.isArray(a.dsViews[r].aclConfig.acl))for(var u=0;u<a.dsViews[r].aclConfig.acl.length;u++)d+=a.dsViews[r].aclConfig.acl[u],u<a.dsViews[r].aclConfig.acl.length-1&&(d+=", ");var m={accessCtrl:a.dsViews[r].aclConfig.accessCtrl,acl:d};this.setState({aclConfig:m})}}catch(f){}var p="";try{"setting"===a.dsSetView.status&&(p=n.a.createElement(ae.a,{disabled:!0,onClick:this.pushColumnDefs}," Set View "))}catch(f){}p||(p=n.a.createElement(ae.a,{onClick:this.pushColumnDefs}," Set View "));var h=this;return n.a.createElement("div",null,n.a.createElement(M.a,null,n.a.createElement(H.a,{md:12,sm:12,xs:12},n.a.createElement("h3",{style:{float:"center"}},"Dataset view: ",t.params.dsName," | ",t.params.dsView))),n.a.createElement("br",null),this.dsDescription(),n.a.createElement("br",null),this.step1(),n.a.createElement(M.a,null,n.a.createElement(H.a,{md:2,sm:2,xs:2},n.a.createElement(te.a.Check,{inline:!0,type:"checkbox",label:"\xa0Add Jira project name",checked:this.state.jiraProjectNameEnabled,onChange:function(e){var t=e.target.checked;h.setState({jiraProjectNameEnabled:t})}})),this.state.jiraProjectNameEnabled&&n.a.createElement(H.a,{md:6,sm:6,xs:6},n.a.createElement(te.a.Control,{type:"text",defaultValue:this.state.jiraProjectName,onChange:function(e){var t=e.target.value;h.state.debounceTimers.__dsViewEdit__main&&clearTimeout(h.state.debounceTimers.__dsViewEdit__main),h.state.debounceTimers.__dsViewEdit__main=setTimeout((function(){delete h.state.debounceTimers.__dsViewEdit__main,t&&h.setState({jiraProjectName:t})}),1e3)}}))),n.a.createElement(M.a,null,n.a.createElement(H.a,{md:2,sm:2,xs:2},n.a.createElement(te.a.Check,{inline:!0,type:"checkbox",label:"\xa0Add Jira query",checked:this.state.jira,onChange:function(e){var t=e.target.checked;h.setState({jira:t})}})),this.state.jira&&n.a.createElement(H.a,{md:6,sm:6,xs:6},n.a.createElement(te.a.Control,{type:"text",defaultValue:this.state.jql,onChange:function(e){var t=e.target.value;h.state.debounceTimers.__dsViewEdit__main&&clearTimeout(h.state.debounceTimers.__dsViewEdit__main),h.state.debounceTimers.__dsViewEdit__main=setTimeout((function(){delete h.state.debounceTimers.__dsViewEdit__main,t&&h.setState({jql:t})}),1e3)}}))),n.a.createElement(M.a,null,this.state.jira&&n.a.createElement(H.a,{md:2,sm:2,xs:2},n.a.createElement("b",null,"Jira field mapping: ")),this.state.jira&&n.a.createElement(H.a,{md:6,sm:6,xs:6},n.a.createElement(te.a.Control,{as:"textarea",rows:"3",defaultValue:this.state.jiraFieldMapping,onChange:function(e){var t=e.target.value;h.state.debounceTimers.__dsViewEdit__main&&clearTimeout(h.state.debounceTimers.__dsViewEdit__main),h.state.debounceTimers.__dsViewEdit__main=setTimeout((function(){delete h.state.debounceTimers.__dsViewEdit__main,t&&h.setState({jiraFieldMapping:t})}),1e3)}}))),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(M.a,null,n.a.createElement(H.a,{md:2,sm:2,xs:2},n.a.createElement(te.a.Check,{inline:!0,type:"checkbox",label:"\xa0Add Jira Agile Label",checked:this.state.jiraAgile,onChange:function(e){var t=e.target.checked;h.setState({jiraAgile:t})}})),this.state.jiraAgile&&n.a.createElement(H.a,{md:6,sm:6,xs:6},n.a.createElement(te.a.Control,{type:"text",required:!0,defaultValue:this.state.jiraAgileLabel,onChange:function(e){var t=e.target.value;h.state.debounceTimers.__dsViewEdit__main&&clearTimeout(h.state.debounceTimers.__dsViewEdit__main),h.state.debounceTimers.__dsViewEdit__main=setTimeout((function(){delete h.state.debounceTimers.__dsViewEdit__main,t&&h.setState({jiraAgileLabel:t})}),1e3)}}))),n.a.createElement(M.a,null,this.state.jiraAgile&&n.a.createElement(H.a,{md:2,sm:2,xs:2},n.a.createElement("b",null,"Jira Agile BoardId: ")),this.state.jiraAgile&&n.a.createElement(H.a,{md:6,sm:6,xs:6},n.a.createElement(te.a.Control,{type:"number",required:!0,defaultValue:this.state.jiraAgileBoardId,onChange:function(e){var t=e.target.value;h.state.debounceTimers.__dsViewEdit__main&&clearTimeout(h.state.debounceTimers.__dsViewEdit__main),h.state.debounceTimers.__dsViewEdit__main=setTimeout((function(){delete h.state.debounceTimers.__dsViewEdit__main,t&&h.setState({jiraAgileBoardId:t})}),1e3)}}))),n.a.createElement(M.a,null,this.state.jiraAgile&&n.a.createElement(H.a,{md:2,sm:2,xs:2},n.a.createElement("b",null,"Jira Agile field mapping: ")),this.state.jiraAgile&&n.a.createElement(H.a,{md:6,sm:6,xs:6},n.a.createElement(te.a.Control,{as:"textarea",rows:"3",defaultValue:this.state.jiraAgileFieldMapping,onChange:function(e){var t=e.target.value;h.state.debounceTimers.__dsViewEdit__main&&clearTimeout(h.state.debounceTimers.__dsViewEdit__main),h.state.debounceTimers.__dsViewEdit__main=setTimeout((function(){delete h.state.debounceTimers.__dsViewEdit__main,t&&h.setState({jiraAgileFieldMapping:t})}),1e3)}}))),n.a.createElement(M.a,null,n.a.createElement(H.a,{md:2,sm:2,xs:2},n.a.createElement(te.a.Check,{inline:!0,type:"checkbox",label:"\xa0Fixed height",checked:this.state.fixedHeight,onChange:function(e){var t=e.target.checked;h.setState({fixedHeight:t})}}))),n.a.createElement(Se,{dsName:s,dsView:r,onChange:function(e){console.log("Received access control as:",e),h.setState({aclConfig:e})}}),n.a.createElement("br",null),n.a.createElement(M.a,null,n.a.createElement(ae.a,{onClick:this.pushColumnDefs}," Set View "),n.a.createElement(ae.a,{onClick:this.showAllCols}," Show all columns "),this.setViewStatus()),this.step2())}}]),t}(r.Component);var Ae=Object(o.b)((function(e){return{user:e.authentication.user,home:e.home,dsHome:e.dsHome}}))(De),ke=a(92);a(185);function je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?je(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):je(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Re=new a(131)({linkify:!0,html:!0}).use(a(132)).use(a(133)).use(a(64),"code").use(a(181)),Le={apiUrl:""},Fe=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={firstTime:!0,filterButtonText:"Enable Filters",editingButtonText:"Disable Editing",pageSize:30,totalRecs:0,singleClickEdit:!1,showAllFilters:!1,disableEditing:!1},a.ref=null,a.lockedByOthersCells={},a.firstRenderCompleted=!1,a.cellImEditing=null,a.renderComplete=a.renderComplete.bind(Object(p.a)(a)),a.cellEditCheck=a.cellEditCheck.bind(Object(p.a)(a)),a.recordRef=a.recordRef.bind(Object(p.a)(a)),a.downloadXlsx=a.downloadXlsx.bind(Object(p.a)(a)),a.toggleFilters=a.toggleFilters.bind(Object(p.a)(a)),a.toggleSingleFilter=a.toggleSingleFilter.bind(Object(p.a)(a)),a.ajaxResponse=a.ajaxResponse.bind(Object(p.a)(a)),a.copyToClipboard=a.copyToClipboard.bind(Object(p.a)(a));var r=localStorage.getItem("singleClickEdit");return r=JSON.parse(r),a.state.singleClickEdit=r,a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=(e.dispatch,e.match);e.user,e.dsHome,t.params.dsName,t.params.dsView}},{key:"componentWillUnmount",value:function(){this.props.dispatch}},{key:"renderComplete",value:function(){this.props.match.params.dsName}},{key:"cellEditCheck",value:function(e){return!1}},{key:"toggleFilters",value:function(){for(var e,t=this.props,a=t.dsHome,r=t.match.params.dsView,n=this.ref.table.getColumnDefinitions(),s=0;s<n.length;s++){e=!n[s].headerFilter&&"input",n[s].headerFilter=e;try{e&&a.dsViews[r].columnAttrs[s].headerFilterType&&(e=a.dsViews[r].columnAttrs[s].headerFilterType)}catch(i){}}this.ref.table.setColumns(n),this.setState({filterButtonText:e?"Disable Filtering":"Enable Filtering"})}},{key:"copyToClipboard",value:function(){this.ref.table.copyToClipboard()}},{key:"recordRef",value:function(e){return this.ref=e,!0}},{key:"downloadXlsx",value:function(){var e=this.props,t=e.dispatch,a=e.match,r=e.user,n=a.params.dsName,s=a.params.dsView;t(de.a.downloadXlsx(n,s,r.user))}},{key:"toggleSingleFilter",value:function(e,t){for(var a,r=this.props,n=r.match,s=r.dsHome,i=(n.params.dsName,n.params.dsView),l=this.ref.table.getColumnDefinitions(),o=0;o<l.length;o++)if(l[o].field===t.getField()){a=!l[o].headerFilter&&"input",l[o].headerFilter=a;try{a&&s.dsViews[i].columnAttrs[o].headerFilterType&&(a=s.dsViews[i].columnAttrs[o].headerFilterType)}catch(e){}this.ref.table.updateColumnDefinition(l[o].field,{headerFilter:a})}}},{key:"setColumnDefinitions",value:function(){for(var e=this.props,t=e.match,a=(e.dsHome,t.params.dsName,t.params.dsView,[{label:"Toggle Filters",action:this.toggleSingleFilter}]),r=[],n=[{field:"opr",title:"opr",width:100,formatter:"textarea",headerTooltip:!0,hozAlign:"center",vertAlign:"middle"},{field:"status",title:"status",width:100,formatter:"textarea",headerTooltip:!0,hozAlign:"center",vertAlign:"middle"},{field:"user",title:"user",width:150,formatter:"textarea",headerTooltip:!0,hozAlign:"center",vertAlign:"middle"},{field:"date",title:"date",width:150,formatter:"textarea",headerTooltip:!0,hozAlign:"center",vertAlign:"middle"},{field:"column",title:"column",width:150,formatter:"textarea",headerTooltip:!0,hozAlign:"center",vertAlign:"middle"},{field:"selector",title:"selector",width:200,formatter:"textarea",headerTooltip:!0},{field:"oldVal",title:"oldVal",width:200,formatter:"textarea",headerTooltip:!0},{field:"newVal",title:"newVal",width:200,formatter:"textarea",headerTooltip:!0},{field:"doc",title:"doc",width:300,formatter:"textarea",headerTooltip:!0}],s=0;s<n.length;s++){var i=JSON.parse(JSON.stringify(n[s]));i.headerMenu=a,i.editable=this.cellEditCheck,"selector"!==i.field&&"doc"!==i.field||(i.formatter=function(e,t){var a=e.getValue(),r=String.fromCharCode(13,10);return a?(a=(a=(a=a.replace(/\\\\n/g,"__dg__newline")).replace(/\\n/g,r)).replace(/__dg__newline/g,"\\n"),'<div style="white-space:pre-wrap;word-wrap:break-word;">'.concat(a,"</div>")):""}),("textarea"===i.editor||!1===i.editor&&"textarea"===i.formatter||"autocomplete"===i.editor)&&(i.formatter=function(e,t){var a=e.getValue();return"string"!=typeof a?a:(a=Re.render(a),'<div style="white-space:normal;word-wrap:break-word;margin-bottom:-12px">'.concat(a,"</div>"))},i.variableHeight=!0,"textarea"===i.editor&&(i.editor=ke.a,i.cellEditCancelled=function(e){e.getRow().normalizeHeight()})),r.push(i)}return r}},{key:"ajaxResponse",value:function(e,t,a){return console.log("ajaxResponse: ",a),this.setState({totalRecs:a.total}),a}},{key:"step2",value:function(){var e=this.props,t=e.match,a=e.user,r=(e.dsHome,t.params.dsName,t.params.dsView),s=this.setColumnDefinitions();return console.log("Columns: ",s),n.a.createElement(M.a,null,n.a.createElement("div",null,n.a.createElement(ve.a,{columns:s,data:[],options:{ajaxURL:"".concat(Le.apiUrl,"/ds/view/editLog/").concat(this.props.match.params.dsName,"/").concat(r,"/").concat(a.user),ajaxConfig:{headers:Te({},Object(R.a)(),{"Content-Type":"application/json"}),credentials:"include"},pagination:"remote",paginationDataSent:{page:"page",size:"per_page"},paginationDataReceived:{last_page:"total_pages"},current_page:1,paginationSize:this.state.pageSize,paginationSizeSelector:[10,25,50,100,500,!0],ajaxResponse:this.ajaxResponse,ajaxError:function(e){console.log("ajaxError",e)},index:"_id",ajaxSorting:!0,ajaxFiltering:!0,clipboard:!0,rowFormatter:function(e){e.getData()._id?e.getElement().style.backgroundColor="white":e.getElement().style.backgroundColor="lightGray"},cellMouseEnter:function(e,t){"lightblue"!==t.getElement().style.backgroundColor&&(t.__dg__prevBgColor=t.getElement().style.backgroundColor),t.getElement().style.backgroundColor="lightblue"},cellMouseLeave:function(e,t){t.getElement().style.backgroundColor=t.__dg__prevBgColor,delete t.__dg__prevBgColor},renderComplete:this.renderComplete},innerref:this.recordRef})))}},{key:"render",value:function(){var e=this.props.match,t=this;return document.title="Edit-log: ".concat(e.params.dsName),n.a.createElement("div",null,n.a.createElement(M.a,null,n.a.createElement(H.a,{md:12,sm:12,xs:12},n.a.createElement("h3",{style:{float:"center"}},n.a.createElement("label",{className:"underline"},"Editlog view: ",e.params.dsName)))),n.a.createElement("br",null),n.a.createElement(M.a,null,n.a.createElement(H.a,{md:12,sm:12,xs:12},n.a.createElement(te.a,{inline:!0},n.a.createElement(te.a.Check,{inline:!0,type:"checkbox",label:"\xa0Show all filters",checked:this.state.showAllFilters,onChange:function(e){var a=e.target.checked;t.setState({showAllFilters:a}),localStorage.setItem("showAllFilters",JSON.stringify(a)),t.toggleFilters()}})))),n.a.createElement(M.a,null,n.a.createElement(H.a,{md:4,sm:4,xs:4},n.a.createElement("b",null,"Total records: ",this.state.totalRecs))),this.step2())}}]),t}(r.Component);var xe=Object(o.b)((function(e){return{user:e.authentication.user,home:e.home,dsHome:e.dsHome}}))(Fe),Ne=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={file:null,formData:null,range:"",dsName:"",setColsFrmSheet:!1,setRowsFrmSheet:!1,validate:!1,doIt:!1},a.downloadXlsx=a.downloadXlsx.bind(Object(p.a)(a)),a.onFileSelect=a.onFileSelect.bind(Object(p.a)(a)),a.sheetSelectorOnChange=a.sheetSelectorOnChange.bind(Object(p.a)(a)),a.rangeOnChange=a.rangeOnChange.bind(Object(p.a)(a)),a.rangeSelectionDone=a.rangeSelectionDone.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"downloadXlsx",value:function(){var e=this.props,t=e.dispatch,a=e.match,r=e.user,n=a.params.dsName;t(de.a.downloadXlsx(n,"default",r.user))}},{key:"onFileSelect",value:function(e){var t=this.props,a=t.dispatch,r=t.user;this.setState({file:e.target.files[0]});var n=e.target.files[0];if(n){var s=r.user+"_"+n.name,i=new FormData;i.append("file",n,s),this.setState({file:n,formData:i}),a(de.a.uploadBulkEditXlsFile(s,i))}}},{key:"componentDidMount",value:function(){(0,this.props.dispatch)(de.a.clearBulkEditStore())}},{key:"componentWillUnmount",value:function(){}},{key:"step1Status",value:function(){var e=this.props.dsHome,t="";return e&&e.dsBulkEdits&&"fail"===e.dsBulkEdits.uploadStatus&&(t=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:6,sm:6,xs:6},n.a.createElement("b",{style:{color:"red"}},e.uploadError)))),e&&e.dsBulkEdits&&"success"===e.dsBulkEdits.uploadStatus&&!e.dsBulkEdits.sheetInfo.length&&(t=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:6,sm:6,xs:6},n.a.createElement("b",{style:{color:"red"}},"Failed to recognize the sheets!")))),t}},{key:"sheetSelectorOnChange",value:function(e){var t=this.props.dispatch;console.log(e),t(de.a.setSelectedSheet(e?e.value:null))}},{key:"step2",value:function(){var e=this.props.dsHome,t="";if(e&&e.dsBulkEdits&&"success"===e.dsBulkEdits.uploadStatus&&e.dsBulkEdits.sheetInfo.length){var a=[];e.dsBulkEdits.sheetInfo.map((function(e){var t={};t.value=e,t.label=e,a.push(t)})),t=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:2,sm:2,xs:2},n.a.createElement("b",null,"Step 2.")," Select sheet:"),n.a.createElement(H.a,{md:4,sm:4,xs:4},n.a.createElement(se.a,{className:"basic-single",classNamePrefix:"select",isClearable:!0,name:"sheetOptions",options:a,onChange:this.sheetSelectorOnChange})))}return t}},{key:"rangeOnChange",value:function(e){this.setState({range:e.target.value})}},{key:"rangeSelectionDone",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=this.props,r=a.dsHome,n=a.dispatch,s=a.match,i=a.user,l=s.params.dsName,o=i.user;t?this.setState({doIt:!0}):(this.setState({validate:!0,doIt:!1}),n({type:j.c.CLEAR_LOADSTATUS})),n(de.a.doBulkEditRequest(l,r.dsBulkEdits.fileName,r.dsBulkEdits.selectedSheet,this.state.range,this.state.setRowsFrmSheet,this.state.setColsFrmSheet,t,o))}},{key:"step3",value:function(){var e=this.props.dsHome,t="",a=this;return e&&e.dsBulkEdits&&e.dsBulkEdits.selectedSheet&&e.dsBulkEdits.selectedSheet.length&&(t=n.a.createElement("div",null,n.a.createElement(M.a,null,n.a.createElement(H.a,{md:2,sm:2,xs:2},n.a.createElement("b",null,"Step 3.")," Specify range (must include hdrs):"),n.a.createElement(H.a,{md:4,sm:4,xs:4},n.a.createElement(te.a.Control,{type:"text",value:this.state.range,onChange:this.rangeOnChange})),n.a.createElement(H.a,{md:4,sm:4,xs:4},n.a.createElement(ae.a,{onClick:this.rangeSelectionDone}," Validate! "))),n.a.createElement(M.a,null,n.a.createElement(H.a,{md:2,sm:2,xs:2}),n.a.createElement(H.a,{md:6,sm:6,xs:6},n.a.createElement(te.a.Check,{type:"checkbox",label:"\xa0",checked:this.state.setRowsFrmSheet,onChange:function(e){var t=e.target.checked;a.setState({setRowsFrmSheet:t})}}),n.a.createElement("b",null,"Set data rows")," as in specified range of the sheet (deletes all other rows). Uncheck this if you don't want to delete other rows in the db that is not specified in your sheet range.")),n.a.createElement(M.a,null,n.a.createElement(H.a,{md:2,sm:2,xs:2}),n.a.createElement(H.a,{md:6,sm:6,xs:6},n.a.createElement(te.a.Check,{type:"checkbox",label:"\xa0",checked:this.state.setColsFrmSheet,onChange:function(e){var t=e.target.checked;a.setState({setColsFrmSheet:t})}}),n.a.createElement("b",null,"Set data columns")," as in specified range of the sheet (deletes all other columns). Uncheck this if you want to only bulk-edit the columns specified in your sheet range. All other column attributes will be untouched.")))),t}},{key:"step3Status",value:function(){var e,t=this.props,a=t.dsHome,r=t.match.params.dsName,s="",i=!1;try{a.dsBulkEdits.loadStatus.loadStatus&&(i=!0)}catch(l){}try{a.dsBulkEdits.loadStatus.loadStatus||(e=Object.keys(a.dsBulkEdits.loadStatus.hdrErrors).length?Object.entries(a.dsBulkEdits.loadStatus.hdrErrors).map((function(e){return n.a.createElement("div",null,"[ ",e[0]," ] : [ ",n.a.createElement("b",{style:{color:"red"}}," ",e[1]," ")," ] ")})):n.a.createElement("b",{style:{color:"red"}}," ",a.dsBulkEdits.loadStatus.error," "))}catch(l){}if(e)s=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:12,sm:12,xs:12},n.a.createElement("b",null,"Error: "),e));else if(i)"/ds/".concat(r,"/default");return s}},{key:"renderOprLog",value:function(){var e=this.props.dsHome,t="";try{var a=e.dsBulkEdits.loadStatus.oprLog;t=n.a.createElement("div",null,n.a.createElement("ol",null,a.map((function(e){return n.a.createElement("li",null,e)}))))}catch(r){}return t}},{key:"step4",value:function(){var e=this,t=this.props.dsHome,a="";return this.state.validate&&t&&t.dsBulkEdits&&t.dsBulkEdits.loadStatus&&t.dsBulkEdits.loadStatus.loadStatus&&(a=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:2,sm:2,xs:2}),n.a.createElement(H.a,{md:4,sm:4,xs:4},n.a.createElement("b",null,"Will perform the following operations:"),n.a.createElement("br",null),this.renderOprLog()),n.a.createElement(H.a,{md:4,sm:4,xs:4},n.a.createElement(ae.a,{onClick:function(){e.rangeSelectionDone(null,!0)}}," Do It! ")))),a}},{key:"step4Status",value:function(){var e,t=this.props,a=t.dsHome,r=t.match.params.dsName,s="",i=!1;try{this.state.doIt&&a.dsBulkEdits.loadStatus.loadStatus&&(i=!0)}catch(o){}try{this.state.doIt&&!a.dsBulkEdits.loadStatus.loadStatus&&(e=Object.keys(a.dsBulkEdits.loadStatus.hdrErrors).length?Object.entries(a.dsBulkEdits.loadStatus.hdrErrors).map((function(e){return n.a.createElement("div",null,"[ ",e[0]," ] : [ ",n.a.createElement("b",{style:{color:"red"}}," ",e[1]," ")," ] ")})):n.a.createElement("b",{style:{color:"red"}}," ",a.dsBulkEdits.loadStatus.error," "))}catch(o){}if(e)s=n.a.createElement(M.a,null,n.a.createElement(H.a,{md:12,sm:12,xs:12},n.a.createElement("b",null,"Error: "),e));else if(i){var l="/ds/".concat(r,"/default");s=n.a.createElement(M.a,null,n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(H.a,{md:6,sm:6,xs:6},n.a.createElement("b",{style:{color:"green"}},"Successfully updated: "),n.a.createElement(re.a,{to:l},"Click here for your dataset")))}return s}},{key:"render",value:function(){var e=this.props,t=e.match,a=(e.dsHome,t.params.dsName);return document.title="Bulk-edit: ".concat(a),n.a.createElement("div",null,n.a.createElement(M.a,null,n.a.createElement(H.a,{md:12,sm:12,xs:12},n.a.createElement("h3",{style:{float:"center"}},n.a.createElement("label",{className:"underline"},"Bulk Edit for: ",a)),"It is ",n.a.createElement("b",null,"highly recommended")," that you take an ",n.a.createElement("button",{size:"sm",className:"btn btn-link",onClick:this.downloadXlsx},n.a.createElement("b",null,"xlsx backup")," ")," before you attempt this. Also, good to warn your users not to make any edits while you are doing this!")),n.a.createElement("br",null),n.a.createElement(M.a,null,n.a.createElement(H.a,{md:2,sm:2,xs:2},n.a.createElement("b",null,"Step 1.")," Select xls file:"),n.a.createElement(H.a,{md:4,sm:4,xs:4},n.a.createElement(te.a.Control,{type:"file",name:"file",onChange:this.onFileSelect}))),this.step1Status(),n.a.createElement("br",null),this.step2(),n.a.createElement("br",null),this.step3(),this.step3Status(),n.a.createElement("br",null),this.step4(),this.step4Status())}}]),t}(r.Component);var Ie=Object(o.b)((function(e){return{user:e.authentication.user,home:e.home,newDs:e.newDs,dsHome:e.dsHome}}))(Ne),Ue=function(e){var t=e.location;return function(e){return Object(l.f)(t.pathname,{path:e,exact:!1,strict:!1})}},Ve=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.children,r=e.shared,s=t;return n.a.createElement("div",{className:y()("menu_section",{active:!0})},n.a.createElement("h3",null,t),n.a.createElement(l.b,{render:function(e){return n.a.createElement("ul",{className:"nav side-menu"},b(a,{shared:r,isActive:Ue(e),ancestors:s}))}}))}}]),t}(r.Component),Pe=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.icon,a=e.title,r=e.shared,s=e.children,i=(e.to,e.isActive),l=e.ancestors,o=r.getState().visiblePath,c=l+" : "+a,d=o.startsWith(c);return n.a.createElement("li",{className:y()({active:d})},n.a.createElement("a",{href:"##",onClick:function(){o.startsWith(c)?r.setVisiblePath(l):r.setVisiblePath(c)}},t?n.a.createElement("i",{className:"fas fa-".concat(t)}):"","  "+a,n.a.createElement("span",{className:"fas fa-chevron-down pull-right"})),n.a.createElement("ul",{className:"nav child_menu",style:{display:d?"block":"none"}},b(s,{isActive:i,shared:r,ancestors:c})))}}]),t}(r.Component),Me=a(88),He=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.icon,a=e.title,r=e.isActive,s=e.shared,i=e.ancestors,l=Object(Me.a)(e,["icon","title","isActive","shared","ancestors"]),o=r(l.to),c=s.getState().visiblePath;o&&!c&&s.setVisiblePath(i);return n.a.createElement("li",{className:y()({"current-page":o})},n.a.createElement(re.a,Object.assign({},l,{onClick:function(){window.scroll(0,0),i.trim()||s.setVisiblePath(i)}}),t?n.a.createElement("i",{className:"fas fa-".concat(t)}):""," "+a))}}]),t}(r.Component),Je=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).shared=E(Object(p.a)(a),{setVisiblePath:function(e){console.log("setVisiblePath: ".concat(e)),a.setState({visiblePath:e})}}),a.state={visiblePath:""},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.children;return n.a.createElement("div",{id:"sidebar-menu",className:"main_menu_side hidden-print main_menu"},function(e,t){return n.a.Children.map(e,(function(e){return n.a.cloneElement(e,t)}))}(e,{shared:this.shared}))}}]),t}(r.Component);Je.MenuSection=Ve,Je.GroupMenuItem=Pe,Je.MenuItem=He;var Be=Je,Qe=n.a.createElement(He,{title:"Home",to:"/",icon:"home"});function Ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var Ge=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).onFilterClickHandler=function(e){e.preventDefault();var t=a.props,r=t.dispatch,n=t.user;"ALL DS"===e.target.innerText?r(de.a.getDsList(n.user)):r(de.a.getFilteredDsList(n.user,e.target.innerText)),a.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ke(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ke(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a.state,{activeTab:e.target.innerText}))},a.deleteRequest=a.deleteRequest.bind(Object(p.a)(a)),a.deleteControls=a.deleteControls.bind(Object(p.a)(a)),a.pageTabs=["A-I","J-S","T-Z","ALL DS"],a.state={activeTab:"A-I"},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.user;"ALL DS"===this.state.activeTab?t(de.a.getDsList(a.user)):t(de.a.getFilteredDsList(a.user,this.state.activeTab))}},{key:"deleteRequest",value:function(e){var t=this.props.dispatch;console.log("Received delete request: ",e),t({type:j.b.SEEKING_DELETE_CONFIRM,dsName:e})}},{key:"confirmedDelete",value:function(e){var t=this.props,a=t.dispatch,r=t.user;console.log("Received delete confirmation! ",e),a(de.a.deleteDs(e,r.user))}},{key:"deleteControls",value:function(e){for(var t=this,a=this.props,r=a.user,s=a.allDs,i="",l=0;l<s.dsList.dbList.length;l++)if(s.dsList.dbList[l].name===e){try{i=s.dsList.dbList[l].perms.owner}catch(o){console.log("Owner is not found for: ".concat(e)),i=r.user}break}return i===r.user&&s.deleteConfirm&&s.deleteConfirm[e]?n.a.createElement("span",null," | ",n.a.createElement("a",{href:"##",onClick:function(){t.confirmedDelete(e)}},"Confirm Deletion please")):i===r.user?n.a.createElement("span",null," | ",n.a.createElement("a",{href:"##",onClick:function(){t.deleteRequest(e)}},"Delete")):""}},{key:"dsList",value:function(){var e=this,t=this.props.allDs;try{if("loading"===t.dsListStatus)return n.a.createElement("h5",null,"Loading....");if("success"===t.dsListStatus){if(0==t.dsList.dbList.length)return n.a.createElement("h3",null," OOPS..!! No Dataset found....!!");var a=t.dsList.dbList.map((function(t){var a="/ds/".concat(t.name,"/default");return n.a.createElement("li",null,n.a.createElement(re.a,{to:a},t.name),e.deleteControls(t.name))}));return n.a.createElement(M.a,null,n.a.createElement(H.a,{md:12,sm:12,xs:12},n.a.createElement("ul",null,a)))}}catch(r){console.log("dsList, exception: ",r)}return""}},{key:"render",value:function(){var e=this;return document.title="Datagroom - browse data-sets",n.a.createElement("div",null,n.a.createElement(M.a,null,n.a.createElement(H.a,{md:12,sm:12,xs:12},n.a.createElement("h3",{style:{float:"center"}},n.a.createElement("label",{className:"underline"},"Your Datasets")))),n.a.createElement("div",{className:"pageButton"},this.pageTabs.map((function(t){return e.state.activeTab==t?n.a.createElement(ae.a,{size:"sm",onClick:e.onFilterClickHandler,active:!0}," ",t):n.a.createElement(ae.a,{size:"sm",onClick:e.onFilterClickHandler}," ",t)}))),this.dsList(),n.a.createElement(M.a,null,n.a.createElement(ae.a,{size:"sm",onClick:function(){R.b.push("/newDsXlsx")}}," New Ds (xlsx)"),n.a.createElement(ae.a,{size:"sm",onClick:function(){R.b.push("/newDsCsv")}}," New Ds (csv)"),n.a.createElement(ae.a,{size:"sm",onClick:function(){R.b.push("/newDsFrmDs")}}," Copy Ds")))}}]),t}(r.Component);var ze=Object(o.b)((function(e){return{user:e.authentication.user,home:e.home,allDs:e.allDs}}))(Ge),We=a(104);function Xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ye(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xe(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var qe=new a(131)({linkify:!0,html:!0}).use(a(132)).use(a(133)).use(a(64),"code").use(a(181)),$e=qe.renderer.rules.link_open||function(e,t,a,r,n){return n.renderToken(e,t,a)};qe.renderer.rules.link_open=function(e,t,a,r,n){var s=e[t].attrIndex("target");return s<0?e[t].attrPush(["target","_blank"]):e[t].attrs[s][1]="_blank",$e(e,t,a,r,n)};var Ze={apiUrl:""},et=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={filterButtonText:"Enable Filters",pageSize:30,totalRecs:0,refresh:0,initialHeaderFilter:[],initialSort:[{column:"time",dir:"desc"}],showModal:!1,modalTitle:"Title of modal",modalQuestion:"This is the modal question",modalCallback:null,showAllFilters:!1},a.ref=null,a.renderComplete=a.renderComplete.bind(Object(p.a)(a)),a.cellEditCheck=a.cellEditCheck.bind(Object(p.a)(a)),a.recordRef=a.recordRef.bind(Object(p.a)(a)),a.onFileSelect=a.onFileSelect.bind(Object(p.a)(a)),a.toggleFilters=a.toggleFilters.bind(Object(p.a)(a)),a.toggleSingleFilter=a.toggleSingleFilter.bind(Object(p.a)(a)),a.ajaxResponse=a.ajaxResponse.bind(Object(p.a)(a)),a.deleteRowHandler=a.deleteRowHandler.bind(Object(p.a)(a)),a.deleteRowQuestion=a.deleteRowQuestion.bind(Object(p.a)(a)),a.toggleModal=a.toggleModal.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=(e.dispatch,e.match);e.user,e.dsHome,t.params.dsName,t.params.dsView}},{key:"componentWillUnmount",value:function(){this.props.dispatch}},{key:"renderComplete",value:function(){this.props.match.params.dsName;setTimeout((function(){return window.highlightJsBadge()}),1e3)}},{key:"cellEditCheck",value:function(e){return!1}},{key:"toggleModal",value:function(e){this.state.modalCallback(e),this.setState({showModal:!this.state.showModal})}},{key:"onFileSelect",value:function(){var e=Object(k.a)(A.a.mark((function e(t){var a,r,n,s,i,l,o,c,d,u,m;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.props.match,r=a.params.dsName,console.log("Files: ",t.target.files),t.persist(),n=0;case 5:if(!(n<t.target.files.length)){e.next=17;break}if(!(s=t.target.files[n])){e.next=14;break}return i=s.name.replaceAll(" ","_"),(l=new FormData).append("file",s,i),l.append("dsName",r),e.next=14,T.b.uploadAttachment(l);case 14:n++,e.next=5;break;case 17:for(o=this.ref.table.getHeaderFilters(),console.log("initialHeaderFilter: ",o),this.setState({initialHeaderFilter:o}),c=this.ref.table.getSorters(),d=[],u=0;u<c.length;u++)(m={}).column=c[u].field,m.dir=c[u].dir,d.push(m);this.setState({initialSort:d}),this.setState({refresh:this.state.refresh+1});case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"toggleFilters",value:function(){for(var e,t=this.props,a=t.dsHome,r=t.match.params.dsView,n=this.ref.table.getColumnDefinitions(),s=0;s<n.length;s++){e=!n[s].headerFilter&&"input",n[s].headerFilter=e;try{e&&a.dsViews[r].columnAttrs[s].headerFilterType&&(e=a.dsViews[r].columnAttrs[s].headerFilterType)}catch(i){}}this.ref.table.setColumns(n),this.setState({filterButtonText:e?"Disable Filtering":"Enable Filtering"})}},{key:"recordRef",value:function(e){return this.ref=e,!0}},{key:"deleteRowHandler",value:function(){var e=Object(k.a)(A.a.mark((function e(t,a,r){var n,s,i,l,o,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,n.dispatch,s=n.match,i=n.user,n.dsHome,l=s.params.dsName,o=s.params.dsView,console.log("Delete row handler called...:",r),!r){e.next=13;break}if(c=a.getRow().getData()._id){e.next=9;break}return a.getRow().delete(),e.abrupt("return");case 9:return e.next=11,T.b.deleteOneAttachment({dsName:l,dsView:o,user:i.user,_id:c});case 11:a.getRow().delete(),this.setState({totalRecs:this.state.totalRecs-1});case 13:case"end":return e.stop()}}),e,this)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"deleteRowQuestion",value:function(e,t){var a=this;this.setState({modalTitle:"Delete current attachment?",modalQuestion:"This will delete the attachment shown in this row. Please confirm. This cannot be undone. Pls ensure links to this attachment are also fixed!",modalCallback:function(r){return a.deleteRowHandler(e,t,r)},showModal:!this.state.showModal})}},{key:"toggleSingleFilter",value:function(e,t){for(var a,r=this.props,n=r.match,s=r.dsHome,i=(n.params.dsName,n.params.dsView),l=this.ref.table.getColumnDefinitions(),o=0;o<l.length;o++)if(l[o].field===t.getField()){a=!l[o].headerFilter&&"input",l[o].headerFilter=a;try{a&&s.dsViews[i].columnAttrs[o].headerFilterType&&(a=s.dsViews[i].columnAttrs[o].headerFilterType)}catch(e){}this.ref.table.updateColumnDefinition(l[o].field,{headerFilter:a})}}},{key:"setColumnDefinitions",value:function(){for(var e=this.props,t=e.match,a=(e.dsHome,t.params.dsName,t.params.dsView,[{label:"Toggle Filters",action:this.toggleSingleFilter}]),r=[{label:"Delete row...",action:this.deleteRowQuestion}],n=[],s=[{field:"_id",title:"file",width:800,formatter:"textarea",headerTooltip:!0,hozAlign:"left",vertAlign:"top"},{field:"size",title:"size",width:100,formatter:"textarea",headerTooltip:!0,hozAlign:"center",vertAlign:"middle"},{field:"time",title:"time",width:160,formatter:"textarea",headerTooltip:!0,hozAlign:"center",vertAlign:"middle"}],i=0;i<s.length;i++){var l=JSON.parse(JSON.stringify(s[i]));l.headerMenu=a,l.contextMenu=r,l.editable=this.cellEditCheck,this.state.initialHeaderFilter.length&&(l.headerFilter="input"),"_id"===l.field&&(l.formatter=function(e,t){var a=e.getValue();if(void 0===a)return"";if("string"!=typeof a)return a;var r=a="/"+a;return a="Click to view: [".concat(a,"](").concat(a,")"),a+="\n\nTo use this image, copy the text below and paste into your cell!:\n",/(\.png$)|(\.jpg$)|(\.gif$)|(\.jpeg$)/i.test(r)?a+="\n\n``` md\n\n"+'<img src="'.concat(r,'" alt="').concat(r,'" width="100%" height="100%" />')+"\n```\n":a+="\n\n``` md\n\n"+"[Modify link text](".concat(r,")")+"\n```\n",a=qe.render(a),'<div style="white-space:normal;word-wrap:break-word;margin-bottom:-12px;">'.concat(a,"</div>")}),n.push(l)}return n}},{key:"ajaxResponse",value:function(e,t,a){return console.log("ajaxResponse: ",a),this.setState({totalRecs:a.total}),a}},{key:"step2",value:function(){var e=this.props,t=e.match,a=e.user,r=(e.dsHome,t.params.dsName,t.params.dsView),s=this.setColumnDefinitions();return console.log("Columns: ",s),n.a.createElement(M.a,null,n.a.createElement("div",null,n.a.createElement(ve.a,{columns:s,data:[],options:{ajaxURL:"".concat(Ze.apiUrl,"/ds/view/attachments/").concat(this.props.match.params.dsName,"/").concat(r,"/").concat(a.user),ajaxConfig:{headers:Ye({},Object(R.a)(),{"Content-Type":"application/json"}),credentials:"include"},pagination:"remote",paginationDataSent:{page:"page",size:"per_page"},paginationDataReceived:{last_page:"total_pages"},current_page:1,initialHeaderFilter:this.state.initialHeaderFilter,initialSort:JSON.parse(JSON.stringify(this.state.initialSort)),paginationSize:this.state.pageSize,paginationSizeSelector:[10,25,50,100,500,!0],ajaxResponse:this.ajaxResponse,ajaxError:function(e){console.log("ajaxError",e)},forceRefresh:this.state.refresh,index:"_id",ajaxSorting:!0,ajaxFiltering:!0,clipboard:!0,renderComplete:this.renderComplete},innerref:this.recordRef})))}},{key:"render",value:function(){var e=this,t=this.props.match,a=this;return document.title="Attachments: ".concat(t.params.dsName),n.a.createElement("div",null,n.a.createElement(M.a,null,n.a.createElement(H.a,{md:12,sm:12,xs:12},n.a.createElement("h3",{style:{float:"center"}},n.a.createElement("label",{className:"underline"},"Attachments in: ",t.params.dsName)))),n.a.createElement("br",null),n.a.createElement(M.a,null,n.a.createElement(H.a,{md:2,sm:2,xs:2},n.a.createElement("b",null,"Select files to upload: ")),n.a.createElement(H.a,{md:4,sm:4,xs:4},n.a.createElement(te.a,{ref:function(t){return e.fileInputForm=t},onClick:function(){return i.a.findDOMNode(e.fileInputForm).reset()}},n.a.createElement(te.a.Control,{type:"file",name:"file",id:"fileInput",multiple:"multiple",onChange:this.onFileSelect})))),n.a.createElement("br",null),n.a.createElement(M.a,null,n.a.createElement(H.a,{md:12,sm:12,xs:12},n.a.createElement(te.a,{inline:!0},n.a.createElement(te.a.Check,{inline:!0,type:"checkbox",label:"\xa0Show all filters",checked:this.state.showAllFilters,onChange:function(e){var t=e.target.checked;a.setState({showAllFilters:t}),localStorage.setItem("showAllFilters",JSON.stringify(t)),a.toggleFilters()}})))),n.a.createElement(M.a,null,n.a.createElement(H.a,{md:4,sm:4,xs:4},n.a.createElement("b",null,"Total records: ",this.state.totalRecs))),this.step2(),n.a.createElement(We.a,{show:this.state.showModal,onClose:this.toggleModal,title:this.state.modalTitle},this.state.modalQuestion))}}]),t}(r.Component);var tt=Object(o.b)((function(e){return{user:e.authentication.user,home:e.home,dsHome:e.dsHome}}))(et),at=[n.a.createElement(l.b,{path:"/newDsXlsx",exact:!0,component:le}),n.a.createElement(l.b,{path:"/newDsCsv",exact:!0,component:ce}),n.a.createElement(l.b,{path:"/newDsFrmDs",exact:!0,component:me}),n.a.createElement(l.b,{path:"/test",exact:!0,component:ee}),n.a.createElement(l.b,{path:"/",exact:!0,component:ze}),n.a.createElement(l.b,{path:"/ds/:dsName",exact:!0,component:Ee}),n.a.createElement(l.b,{path:"/ds/:dsName/:dsView",component:be.a}),n.a.createElement(l.b,{path:"/dsViewEdit/:dsName/:dsView",exact:!0,component:Ae}),n.a.createElement(l.b,{path:"/dsEditLog/:dsName",exact:!0,component:xe}),n.a.createElement(l.b,{path:"/dsBulkEdit/:dsName",exact:!0,component:Ie}),n.a.createElement(l.b,{path:"/dsAttachments/:dsName",exact:!0,component:tt})],rt=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.needMargin;return n.a.createElement("div",{className:e?"right_col":"right_col_noPanel",role:"main"},at)}}]),t}(r.Component),nt=n.a.createElement(Be,null,n.a.createElement(Be.MenuSection,{title:" "},Qe)),st=rt,it=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={leftVisible:!1},a.toggleLeft=a.toggleLeft.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"toggleLeft",value:function(){this.setState({leftVisible:!this.state.leftVisible})}},{key:"render",value:function(){var e=this.props.user,t=this.state.leftVisible;return n.a.createElement("div",{className:"container body"},n.a.createElement("div",{className:"main_container"},n.a.createElement(V,{user:e,visible:t},nt),n.a.createElement(U,Object.assign({user:e,toggleCb:this.toggleLeft,needMargin:t},this.props)),n.a.createElement(st,{needMargin:t}),n.a.createElement(P,{needMargin:t})))}}]),t}(r.Component);var lt=Object(o.b)((function(e){return{user:e.authentication.user}}))(it),ot=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={username:"",password:"",submitted:!1},a.handleChange=a.handleChange.bind(Object(p.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,r=t.value;this.setState(Object(f.a)({},a,r))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({submitted:!0});var t=this.state,a=t.username,r=t.password,n=this.props.dispatch;if(a&&r){var s=a.match(/(.*?)@(.*)/);s&&s.length>=2&&(a=s[1]),n(L.login(a,r))}}},{key:"render",value:function(){var e=this.props,t=e.loggingIn,r=e.loggedIn,s=e.message,i=this.state,o=i.username,c=i.password,d=i.submitted,u=(this.props.location.state||{from:{pathname:"/"}}).from;return r?n.a.createElement(l.a,{to:u}):(a(899),n.a.createElement("div",null,n.a.createElement("div",{className:"logincontainer"},n.a.createElement("section",{id:"content"},n.a.createElement("h10",null,"Welcome to Datagroom"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("form",{name:"form",onSubmit:this.handleSubmit},n.a.createElement("div",null,n.a.createElement("input",{type:"text",name:"username",id:"username",placeholder:"username",value:o,onChange:this.handleChange}),d&&!o&&n.a.createElement("div",{className:"help-block"},"Username is required"),n.a.createElement("br",null)),n.a.createElement("div",null,n.a.createElement("input",{type:"password",name:"password",id:"password",placeholder:"password",value:c,onChange:this.handleChange,autocomplete:"current-password"}),d&&!c&&n.a.createElement("div",{className:"help-block"},"Password is required"),n.a.createElement("br",null)),n.a.createElement("div",{className:"form-group"},n.a.createElement("button",null,"Log In"),t&&n.a.createElement("div",{style:{float:"left"}},n.a.createElement("img",{src:"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==",alt:"Waiting"})),d&&s&&n.a.createElement("div",{className:"help-block"},s),n.a.createElement("div",null,n.a.createElement("br",null),n.a.createElement("br",null))))),n.a.createElement("div",null,n.a.createElement("br",null),n.a.createElement("div",{className:"clearfix"})),n.a.createElement("p",{style:{clear:"both"}}),n.a.createElement("br",null))))}}]),t}(n.a.Component);var ct=Object(l.g)(Object(o.b)((function(e){var t=e.authentication,a=t.loggingIn,r=t.loggedIn,n=e.alert;return{loggingIn:a,loggedIn:r,type:n.type,message:n.message}}))(ot)),dt=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.user;!e.loggedIn&&a&&a.token&&t(L.sessionCheck(a))}},{key:"render",value:function(){var e=this.props.loggedIn,t=this.props,a=t.component,r=Object(Me.a)(t,["component"]);return n.a.createElement(l.b,Object.assign({},r,{render:function(t){return e?n.a.createElement(a,t):n.a.createElement(l.a,{to:{pathname:"/login",state:{from:t.location}}})}}))}}]),t}(n.a.Component);var ut=Object(o.b)((function(e){var t=e.authentication;return{loggedIn:t.loggedIn,user:t.user}}))(dt),mt=(a(242),a(243),a(186)),pt=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={},a.startPreso=a.startPreso.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.startPreso()}},{key:"startPreso",value:function(){var e='<div class="reveal"><div class="slides">';e='<div style="display: flex; flex-direction: row;">\n        <div class="reveal deck1" style="width: 100%; height: 100vh; margin: 10px;">\n        <div class="slides">',e+=localStorage.getItem("revealjsSections"),e+="</div></div></div>",document.querySelector("#rj").innerHTML=e,console.log("FinalHTML: ",e),new mt.a(document.querySelector(".deck1"),{embedded:!0,progress:!1,keyboardCondition:"focused"}).initialize()}},{key:"render",value:function(){return n.a.createElement("div",{id:"rj"},"Hi there, we'll show reveal js page here.")}}]),t}(n.a.Component),ht=function(e){var t=e.store;return n.a.createElement(o.a,{store:t},n.a.createElement(l.c,{history:R.b},n.a.createElement("div",null,n.a.createElement(l.d,null,n.a.createElement(l.b,{path:"/login",component:ct}),n.a.createElement(l.b,{path:"/revealjs",component:pt}),n.a.createElement(ut,{path:"/*",component:lt})))))};a(900);i.a.render(n.a.createElement(ht,{store:R.c}),document.getElementById("root"))},92:function(e,t,a){"use strict";var r=a(67),n=a(0),s=a(26);t.a=function(e,t,a,i,l,o){var c=e.getValue(),d=l.verticalNavigation||"hybrid",u=String(null!==c&&"undefined"!==typeof c?c:""),m=((u.match(/(?:\r\n|\r|\n)/g)||[]).length,document.createElement("textarea")),p=0;if(m.style.display="block",m.style.padding="2px",m.style.height="100%",m.style.width="100%",m.style.boxSizing="border-box",m.style.whiteSpace="pre-wrap",m.style.resize="none",l.elementAttributes&&"object"==typeof l.elementAttributes)for(var h in l.elementAttributes)"+"==h.charAt(0)?(h=h.slice(1),m.setAttribute(h,m.getAttribute(h)+l.elementAttributes["+"+h])):m.setAttribute(h,l.elementAttributes[h]);if(m.value=u,o){var f=e._cell.element.style.width,g=document.createElement("div");document.body.appendChild(g);var E={},b=function(e,t){s.unmountComponentAtNode(g),g.remove(),e&&m.value!=t?(a(t),c=t):i()};s.render(n.createElement((function(){return n.createElement(r.a,{show:!0,title:"Edit",text:u,onClose:b,editorParams:l,cancel:"Cancel",ok:"Done",cmRef:E,width:f})}),null),g)}function v(e){(null===c||"undefined"===typeof c)&&""!==m.value||m.value!==c?a(m.value)&&(c=m.value):i()}return t((function(){o||m.focus({preventScroll:!0}),m.style.height="100%"})),m.addEventListener("change",v),m.addEventListener("blur",v),m.addEventListener("keyup",(function(){var t=m.scrollHeight;p||(p=t),t!=p&&(console.log("ScrollHeight, heightNow",p,t),m.style.height=t+"px",p=t,e.getRow().normalizeHeight())})),m.addEventListener("keydown",(function(e){switch(e.keyCode){case 13:e.ctrlKey&&v();break;case 27:i();break;case 33:case 34:e.preventDefault();var t="PageUp"===e.key?0:e.target.textLength;e.target.setSelectionRange(t,t);case 35:case 36:e.stopImmediatePropagation(),e.stopPropagation();break;case 38:("editor"==d||"hybrid"==d&&m.selectionStart)&&(e.stopImmediatePropagation(),e.stopPropagation());break;case 40:("editor"==d||"hybrid"==d&&m.selectionStart!==m.value.length)&&(e.stopImmediatePropagation(),e.stopPropagation())}})),l.mask&&this.table.modules.edit.maskInput(m,l),m}}},[[314,1,2]]]);
//# sourceMappingURL=main.2a7d543d.chunk.js.map