{"version":3,"sources":["common/constants/alert.constants.js","common/constants/user.constants.js","common/constants/newDs.constants.js","common/constants/index.js","common/routes/home/MyAutoCompleter.js","common/routes/home/Modal.js","common/helpers/history.js","common/reducers/authentication.reducer.js","common/reducers/allDs.reducer.js","common/reducers/index.js","common/reducers/registration.reducer.js","common/reducers/users.reducer.js","common/reducers/alert.reducer.js","common/helpers/store.js","common/helpers/auth-header.js","common/helpers/index.js","common/services/user.service.js","common/services/uploads.service.js","common/services/index.js","common/reducers/dsHome.reducer.js","common/routes/home/MySingleAutoCompleter.js","common/routes/home/MyCodeMirror.js","common/routes/home/jiraForm.js","common/services/ds.service.js","common/actions/ds.actions.js","common/routes/home/DsView.js","common/routes/home/ColorPicker.js","common/routes/home/FilterControls.js","common/routes/home/NewDsStoreMgmt.js","common/routes/home/MyModalCodeMirror.js","common/routes/home/QueryParsers.js","../node_modules/moment-mini/locale sync /^/.//.*$","common/routes/home/MyTabulator.js","common/routes/home/ModalEditor.js","common/components/SharedState.js","common/components/childrenWithProps.js","common/components/TopNavBar/Item.js","common/components/domUtils.js","common/components/TopNavBar/TopNavBar.js","common/components/TopNavBar/index.js","common/actions/user.actions.js","common/actions/alert.actions.js","common/navigation/UserMenuItem.js","common/navigation/Top.js","common/navigation/Left.js","common/navigation/Footer.js","common/routes/home/upload.js","common/routes/home/NewDsFromXls.js","common/routes/home/NewDsFromCsv.js","common/routes/home/NewDsFromDs.js","common/routes/home/DsHome.js","common/routes/home/DsViewEditAccessCtrl.js","common/routes/home/DsViewEdit.js","common/routes/home/DsEditLog.js","common/routes/home/DsBulkEdit.js","common/components/SideBar/MenuSection.js","common/components/SideBar/GroupMenuItem.js","common/components/SideBar/MenuItem.js","common/components/SideBar/SideBar.js","common/components/SideBar/index.js","common/routes/home/Menu.js","common/routes/home/AllDs.js","common/routes/home/DsAttachments.js","common/routes/home/index.js","common/routes/PageContent.js","common/routes/index.js","common/components/App.js","common/components/InfnLoginPage.jsx","common/components/PrivateRoute.jsx","common/components/revealjsPage.jsx","common/components/Root.js","index.js","common/routes/home/MyTextArea.js"],"names":["alertConstants","SUCCESS","ERROR","CLEAR","userConstants","REGISTER_REQUEST","REGISTER_SUCCESS","REGISTER_FAILURE","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT","GETALL_REQUEST","GETALL_SUCCESS","GETALL_FAILURE","DELETE_REQUEST","DELETE_SUCCESS","DELETE_FAILURE","SESSION_CHECK_REUEST","SESSION_CHECK_SUCCESS","SESSION_CHECK_FAILURE","dsConstants","LOAD_COLUMNS_REQUEST","LOAD_COLUMNS_SUCCESS","LOAD_COLUMNS_FAILURE","CLEAR_COLUMNS","EDIT_SINGLE_REQUEST","EDIT_SINGLE_SUCCESS","EDIT_SINGLE_FAILURE","EDIT_SINGLE_DELETE_TRACKER","DELETE_SINGLE_REQUEST","DELETE_SINGLE_SUCCESS","DELETE_SINGLE_FAILURE","DELETE_SINGLE_DELETE_TRACKER","DELETE_MANY_REQUEST","DELETE_MANY_SUCCESS","DELETE_MANY_FAILURE","DELETE_MANY_DELETE_TRACKER","DOWNLOAD_XLSX_REQUEST","DOWNLOAD_XLSX_SUCCESS","DOWNLOAD_XLSX_FAILURE","SET_ROW_ADD_TRACKER","ROW_ADD_SUCCESS","ROW_ADD_FAILURE","CLEAR_ROW_ADD_TRACKER","SET_VIEW_DEFS_REQUEST","SET_VIEW_DEFS_SUCCESS","SET_VIEW_DEFS_FAILURE","CLEAR_VIEW_DEFS_TRACER","JIRA_REFRESH_REQUEST","JIRA_REFRESH_SUCCESS","JIRA_REFRESH_FAILURE","JIRA_REFRESH_DELETE_TRACKER","ADD_FILTER_REQUEST","ADD_FILTER_SUCCESS","ADD_FILTER__FAILURE","CLEAR_ADD_FILTER_TRACKER","EDIT_FILTER_REQUEST","EDIT_FILTER_SUCCESS","EDIT_FILTER__FAILURE","CLEAR_EDIT_FILTER_TRACKER","DELETE_FILTER_REQUEST","DELETE_FILTER_SUCCESS","DELETE_FILTER__FAILURE","CLEAR_DELETE_FILTER_TRACKER","CLEAR_DS","UPLOAD_BULK_XLS_REQUEST","UPLOAD_BULK_XLS_SUCCESS","UPLOAD_BULK_XLS_FAILURE","SET_BULK_SELECTED_SHEET","LOAD_BULK_FROM_RANGE_REQUEST","LOAD_BULK_FROM_RANGE_SUCCESS","LOAD_BULK_FROM_RANGE_FAILURE","CLEAR_LOADSTATUS","BULK_EDIT_REQUEST","BULK_EDIT_SUCCESS","BULK_EDIT_FAILURE","GET_DEFAULT_TYPE_FIELDS_VALUES_REQUEST","GET_DEFAULT_TYPE_FIELDS_VALUES_SUCCESS","GET_DEFAULT_TYPE_FIELDS_VALUES_FAILURE","allDsConstants","LOAD_DSLIST_REQUEST","LOAD_DSLIST_SUCCESS","LOAD_DSLIST_FAILURE","SEEKING_DELETE_CONFIRM","DELETE_DS_REQUEST","DELETE_DS_SUCCESS","DELETE_DS_FAILURE","MyAutoCompleter","cell","onRendered","success","cancel","editorParams","self","this","cellEl","getElement","initialValue","getValue","vertNav","verticalNavigation","initialDisplayValue","defaultValue","input","document","createElement","listEl","displayItems","currentItem","blurable","uniqueColumnValues","curVal","console","log","conditionalValues","values","rowData","getRow","getData","i","conditionalExprs","length","exprStr","split","trim","expr","QueryParsers","parseExpr","evalExpr","JSON","parse","setAttribute","style","padding","width","boxSizing","elementAttributes","key","charAt","slice","getAttribute","genUniqueColumnValues","getUniqueColumnValues","field","column","output","data","table","columnManager","getColumnByField","getColumn","_getSelf","forEach","row","val","getFieldValue","sortValuesList","Object","keys","sort","reverse","warn","subtractArray","matches","selectedCsvs","filteredMatches","found","j","value","push","filterList","term","intialLoad","items","searchFunc","Promise","addNotice","searchingPlaceholder","then","result","fillListIfNotEmpty","parseItems","catch","err","showListOnEmpty","item","String","toLowerCase","indexOf","title","filterInvalids","Array","isArray","filteredValidCsvs","eliminateDups","filteredMap","notice","searchEl","clearList","classList","add","tabIndex","Node","appendChild","innerHTML","inputValues","itemList","listItemFormatter","label","firstChild","removeChild","current","el","element","addEventListener","e","setCurrentItem","chooseItem","setTimeout","fillList","emptyPlaceholder","hideList","successVal","csvs","vals","freetext","join","status","match","isExactMatch","allowEmpty","showList","parentNode","offset","box","getBoundingClientRect","top","window","pageYOffset","documentElement","clientTop","left","pageXOffset","clientLeft","elOffset","minWidth","offsetWidth","offsetHeight","body","showInputValue","remove","rowManager","removeEventListener","cancelItem","index","keyCode","stopImmediatePropagation","stopPropagation","preventDefault","height","focus","preventScroll","mask","modules","edit","maskInput","ModalWrapper","props","show","position","bottom","right","backgroundColor","borderRadius","maxWidth","margin","Header","Title","overflowY","Body","children","Footer","variant","disabled","grayOutModalButtons","onClick","onClose","toggleModalOnClose","ok","React","Component","history","createBrowserHistory","user","localStorage","getItem","initialState","loggedIn","rootReducer","combineReducers","authentication","state","action","type","loggingIn","registration","registering","users","loading","error","map","id","deleting","filter","deleteError","alert","message","allDs","dsListStatus","dsList","confirmObj","deleteConfirm","dsName","deleteInProgressObj","deleteInProgress","dbList","prunedDbList","name","newDs","dsHome","store","middlewares","thunk","createStore","__REDUX_DEVTOOLS_EXTENSION__","applyMiddleware","configureStore","authHeader","token","userService","login","username","password","requestOptions","method","headers","stringify","credentials","fetch","config","apiUrl","handleResponse","obj","setItem","logout","register","getAll","getById","update","delete","sessionCheck","a","removeItem","response","text","statusText","reject","redirectUrl","url","Error","uploadService","fileUpload","findHeadersInSheet","loadHdrsFromRange","createDs","createDsFromDs","csvFileUpload","createDsViaCsv","uploadAttachment","deleteOneAttachment","Headers","responseJson","json","dataLen","toString","newState","dsViews","dsView","columns","columnsAndKeys","columnAttrs","jiraConfig","dsDescription","filters","otherTableAttrs","aclConfig","jiraAgileConfig","jiraProjectName","defaultTypeFieldsAndValues","dsEdits","_id","editStatus","editTracker","serverStatus","dsRowAdds","uiRow","dsDeletes","deleteStatus","deleteTracker","dsSetView","dsJiraRefresh","dsFilterAdds","dsFilterEdits","dsFilterDeletes","dsBulkEdits","uploadStatus","fileName","sheetInfo","uploadError","selectedSheet","sheetName","selectedRange","loadStatus","MySingleAutoCompleter","require","ReactDOM","MyCodeMirror","ctrlKey","editor","cellValue","display","whiteSpace","resize","cellWidth","_cell","div","cmRef","clear","unmountComponentAtNode","render","onChange","curValue","CodeMirrorSpellChecker","codeMirrorInstance","CodeMirror","fromTextArea","lineNumbers","lineWrapping","mode","backdrop","highlightFormatting","inlineAttachment","editors","codemirror4","attach","uploadUrl","urlText","fileUrlText","allowedTypes","extraParams","initialHeight","replace","parseInt","vh","Math","max","clientHeight","innerHeight","min","setHeightSpecial","normalizeHeight","scrollIntoView","line","getDoc","lineCount","ch","setCursor","refresh","on","cm","h","pos","getCursor","outside","mouseDownDate","Date","now","JiraForm","handleChange","event","target","projectName","projectsMetaData","issuetypes","fields","fieldsKey","allowedValues","k","currVal","summary","setState","formData","Type","handleMultiChange","b","c","d","handleCreate","option","newOption","handleSelectChange","selectedOption","selectedValue","projects","Project","className","sm","flexDirection","Group","controlId","marginBottom","Row","Label","Control","as","jiraAgileEnabled","JIRA_AGILE_LABEL","jiraAgileBoard","jiraEnabled","rows","entry","isMulti","options","classNamePrefix","isClearable","placeholder","isSearchable","FileSaver","dsService","loadColumnsForUserView","editSingleAttribute","insertOneDoc","downloadXlsx","getDsList","getFilteredDsList","deleteDs","deleteOneDoc","deleteManyDocs","setViewDefinitions","refreshJira","addFilter","editFilter","deleteFilter","doBulkEditRequest","getProjectsMetaData","getDefaultTypeFieldsAndValues","convertToJira","addJiraRow","dsUser","fc","Buffer","blob","Blob","saveAs","cache","dsActions","dispatch","failure","clearViewDefs","GET_PROJECTS_METADATA_REQUEST","GET_PROJECTS_METADATA_SUCCESS","GET_PROJECTS_METADATA_FAILURE","oldVal","newVal","selectorObj","editObj","request","doc","dsFilter","objects","viewDefs","clearBulkEditStore","uploadBulkEditXlsFile","setSelectedSheet","setSheet","setRowsFrmSheet","setColsFrmSheet","doIt","MarkdownIt","linkify","html","use","markdownItMermaid","imageFormat","markdownItFancyListPlugin","defaultRender","renderer","rules","link_open","tokens","idx","env","renderToken","aIndex","attrIndex","attrPush","attrs","jiraCustomFieldMapping","socket","DsView","firstTime","filterButtonText","editingButtonText","pageSize","totalRecs","initialHeaderFilter","initialSort","filterColumnAttrs","currentColumnAttrs","frozenCol","showModal","modalTitle","modalQuestion","modalCallback","modalStatus","modalCancel","modalOk","showSecondaryModal","secondaryModalTitle","secondaryModalQuestion","secondaryModalCallback","secondaryModalStatus","secondaryModalCancel","secondaryModalOk","modalEditorOk","modalEditorCancel","modalEditorTitle","modalEditorText","modalEditorCallback","showModalEditor","chronologyDescending","singleClickEdit","showAllFilters","disableEditing","showColorPicker","colorPickerLeft","colorPickerTop","color","connectedState","dbconnectivitystate","ref","timers","lockedByOthersCells","firstRenderCompleted","cellImEditing","mouseDownOnHtmlLink","mouseDownOnBadgeCopyIcon","reqCount","jiraFormData","description","applyHtmlLinkAndBadgeClickHandlers","bind","renderComplete","cellEditing","cellEdited","cellEditCancelled","cellEditCheck","cellForceEditTrigger","fixImgSizeForClipboard","copyFormatted","startPreso","myCopyToClipboard","recordRef","toggleFilters","toggleEditing","addRow","deleteRowHandler","deleteRowQuestion","deleteAllRowsInViewQuestion","deleteAllRowsInView","deleteAllRowsInQuery","duplicateAndAddRowHandler","toggleSingleFilter","freezeColumn","unfreezeColumn","setFreezeColumn","pageSizeChange","ajaxResponse","ajaxURLGenerator","cellClickEvents","copyToClipboard","copyCellToClipboard","pickFillColorHandler","handleColorPickerClose","handleColorPickerOnChangeComplete","jiraRefreshHandler","jiraRefreshStatus","toggleModal","secondaryToggleModal","toggleModalEditor","processFilterChange","isKey","hideColumn","showAllCols","hideColumnFromCell","columnResized","columnVisibilityChanged","retainColumnAttrs","applyFilterColumnAttrs","normalizeAllImgRows","applyHighlightJsBadge","displayConnectedStatus","chronologyDescendingFrmLocal","singleClickEditFrmLocal","showAllFiltersFrmLocal","disableEditingFrmLocal","convertToJiraRow","handleJiraFormChange","submitJiraFormChange","fillLocalStorageItemData","formFinalJiraFormData","params","me","io","extraHeaders","Cookie","cookie","emit","isDbConnected","dbState","helloObj","activeLocks","searchRows","getCell","cancelEdit","lockedObj","unlockedObj","adjustTableHeight","undefined","updateData","colDef","getDefinition","formatter","formatterParams","clearTimeout","adjustTableSize","msg","disconnect","splElements","getElementById","getElementsByTagName","len","onclick","querySelectorAll","clickedEl","srcElement","contains","highlightJsBadge","imgList","imgSizes","img","src","matchAll","test","str","rep","RegExp","replaceAll","location","origin","clearInterval","extraIters","setInterval","readyState","allImgsRead","complete","getRows","cols","getColumns","isVisible","getField","hide","forField","getWidth","visible","hidden","confirmed","cellEditCheckForConflicts","setImmediate","unlockReq","lockReq","clearHeaderFilter","currentDefs","getColumnDefinitions","headerFilter","headerFilterType","setColumns","MyTextArea","DateEditor","getHeaderFilters","rowIdx","slideFound","sectionHtml","slideList","slide","open","export","getHtml","container","pointerEvents","opacity","activeSheets","prototype","call","styleSheets","sheet","getSelection","removeAllRanges","range","createRange","selectNode","addRange","execCommand","href","entries","kv","hasOwnProperty","record","dangerouslySetInnerHTML","__html","fixValueType","keyObj","atLeastOneKeyNotEmpty","getOldValue","typeOfOldVal","Number","isNaN","configuredType","col","setValue","isJiraRow","newData","clearData","baseUrl","pretend","total","count","freeze","updateColumnDefinition","updateLocalStorage","customfield_25578","fullUpdatedRec","defaultValuesOfAllProjects","projectObj","jira","copyOfDefaults","getDefaultTypeFieldsAndValuesForProject","formInitialJiraForm","issueTypes","localStorageItem","parsedLocalItem","parsedKey","validateAndGetDefaultValue","isValidated","issueType","fieldObj","includes","fieldMapping","jiraFieldMapping","descriptionDone","storyPoints","arr","summaryLine","matchArr","checkIfValid","jiraId","getJiraId","customfield_12790","parent","submitAddJira","regex","jiraIssueIdMatchArr","parentKey","parentSelectorObj","parentRecord","fullParentUpdatedRec","objStringified","hex","pageX","pageY","headerMenuWithoutHide","headerMenuWithHide","cellContextMenu","separator","menu","doConditionalFormatting","conditionalFormatting","headerMenu","titleFormatter","t","titleFormatterParams","contextMenu","editable","formatterClipboard","cloneNode","variableHeight","multiselect","format","beforeFrozen","frozen","prefix","concat","generateParamsList","encoded","encodeURIComponent","chronology","serializeParams","s2","fixedHeight","setColumnDefinitions","ajaxURL","ajaxConfig","forceRefresh","pagination","paginationDataSent","page","size","paginationDataReceived","last_page","current_page","paginationSize","paginationSizeSelector","ajaxError","cellClick","cellDblClick","ajaxSorting","ajaxFiltering","clipboard","clipboardCopyFormatter","rowFormatter","cellMouseEnter","__dg__prevBgColor","cellMouseLeave","innerref","newUrl","urlWords","hdrFilters","hdrSorters","pathname","fieldAttrs","setWidth","lsKey","lsValue","class","fixOneTimeLocalStorage","jiraRefreshButton","md","xs","step1","cellEditStatus","addRowStatus","rowDeleteStatus","deleteAllRowsStatus","checked","exact","path","tableRef","onFilterChange","to","step2","onChangeComplete","handleClose","cDsView","connect","home","ColorPicker","popover","zIndex","FilterControls","save","saveName","saveErrorMsg","saveDescription","saveAsNew","saveAsNewName","saveAsNewDescription","saveAsNewErrorMsg","deleteFilterErrorMsg","deleteFilterControls","saveControls","saveAsNewControls","returnJsx","hdrSortersTmp","getSorters","sorter","dir","attrsForField","newFilter","errMsg","filterOptions","defaultValueIdx","filterDescription","cFilterControls","newDsConstants","UPLOAD_XLS_REQUEST","UPLOAD_XLS_SUCCESS","UPLOAD_XLS_FAILURE","UPLOAD_CSV_REQUEST","UPLOAD_CSV_SUCCESS","UPLOAD_CSV_FAILURE","SET_SELECTED_SHEET","SET_SELECTED_KEYS","FIND_HDRS_INXLS_REQUEST","FIND_HDRS_INXLS_SUCCESS","FIND_HDRS_INXLS_FAILURE","LOAD_FROM_RANGE_REQUEST","LOAD_FROM_RANGE_SUCCESS","LOAD_FROM_RANGE_FAILURE","CREATE_DS_REQUEST","CREATE_DS_SUCCESS","CREATE_DS_FAILURE","hdrs","selectedKeys","createStatus","newDsActions","clearReduxStore","uploadXlsFile","hdrsInSheet","setSelectedKeys","setKeys","uploadCsvFile","fromDsName","toDsName","retainData","m","equalsExpr","rowValue","webpackContext","req","webpackContextResolve","__webpack_require__","o","code","resolve","module","exports","MyTabulator","recordTabRef","nextProps","nextState","ModalEditor","textareaRef","inactivityTimeout","inactivityTimer","codeMirror","toTextArea","scrollbarStyle","setSize","modalStyle","SharedState","component","more","getState","childrenWithProps","Children","cloneElement","Item","shared","opened","role","li","cn","toggleMenu","toggle","Content","aria-expanded","SubMenu","TopNavBar","closeOnClick","cb","isOn","off","current_target","handler","bodyNextClick","userActions","alertActions","validSession","UserMenuItem","Top","toggleCb","needMargin","Left","border","data-toggle","data-placement","aria-hidden","age","dob","rating","passed","pets","colorOptions","curHdrFilter","updateDefinition","editableColumns","hozAlign","localeCompare","MultiSelectEditor","MultiValueFormatter","Upload","activeTab","file","onFileSelect","onFileUpload","files","FormData","append","Col","dataEdited","footerElement","movableColumns","movableRows","layout","keybindings","NewDsFromXls","sheetSelectorOnChange","sheetSelectionDone","rangeOnChange","rangeSelectionDone","keySelectorOnChange","dsNameOnChange","remoteFileName","s1Status","sheetOptions","v","s3","Form","Button","statusJsx","s3Status","hdrErrors","flatKeys","s4","hdrOptions","s5","s5Status","step1Status","step3","step3Status","step4","step5","step5Status","cNewDsFromXls","NewDsFromCsv","cNewDsFromCsv","NewDsFromDs","incompleteInputErr","dsSelectorOnChange","s1","Check","step2Status","cNewDsFromDs","DsHome","cDsHome","AccessCtrl","accessCtrl","acl","debounceTimers","inline","aclArray","tmpArr","cAccessCtrl","DsViewEdit","refreshAfterRender","jiraProjectNameEnabled","jiraAgile","jql","jiraAgileLabel","jiraAgileBoardId","jiraAgileFieldMapping","widths","setViewStatus","somethingChanged","pushColumnDefs","addCol","setEditor","setEditorToFalse","setEditorToInput","setEditorToTextArea","setEditorToCodeMirror","setEditorToDate","setFormatter","setFormatterToPlainText","setFormatterToTextArea","setHdrFilterType","setHdrFilterTypeToNumber","setHdrFilterTypeToText","plusFiftyToWidth","editorParamsControl","timer","dsColAdds","addColumn","editableTitle","hdrFilter","filteredDefs","jiraColumns","jiraColumnsPresent","jiraFields","dsFields","validateMapping","ret","lines","jiraKey","dsField","jiraAgileKey","boardId","curWidth","vertAlign","epc","columnDef","valueStr","condValues","condExprStr","valArray","condExprs","editorOptions","hozAlignOptions","vertAlignOptions","editorCurVal","hdrFilterTypeCurVal","hozAlignCurVal","vertAlignCurVal","condFormatExprStr","setHozAlign","setVertAlign","setEditorToAutocomplete","curFormatterParams","pushButton","required","cDsViewEdit","DsEditLog","headerTooltip","newLine","fromCharCode","cDsEditLog","DsBulkEdit","validate","errorJsx","s","oprLog","renderOprLog","s4Status","step4Status","cDsBulkEdit","isActive","linkTo","matchPath","strict","MenuSection","ancestors","active","rcp","GroupMenuItem","icon","visiblePath","chldAncestors","startsWith","setVisiblePath","MenuItem","rest","currentPage","scroll","SideBar","Menu","AllDs","onFilterClickHandler","innerText","deleteRequest","deleteControls","pageTabs","owner","perms","confirmedDelete","listItems","pageTab","cAllDs","DsAttachments","persist","origValue","form","fileInputForm","findDOMNode","reset","multiple","Modal","cDsAttachments","PageContent","Home","HomeMenu","App","leftVisible","toggleLeft","connectedApp","LoginPage","submitted","handleSubmit","from","onSubmit","autocomplete","float","alt","connectedLoginPage","withRouter","PrivateRoute","connectedPrivateRoute","RevealJsPage","finalHtml","querySelector","Reveal","embedded","progress","keyboardCondition","initialize","Root","scrollHeight","heightNow","cursorPosition","textLength","setSelectionRange","selectionStart"],"mappings":"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","file":"static/js/main.2a7d543d.chunk.js","sourcesContent":["export const alertConstants = {\n    SUCCESS: 'ALERT_SUCCESS',\n    ERROR: 'ALERT_ERROR',\n    CLEAR: 'ALERT_CLEAR'\n};\n","export const userConstants = {\n    REGISTER_REQUEST: 'USERS_REGISTER_REQUEST',\n    REGISTER_SUCCESS: 'USERS_REGISTER_SUCCESS',\n    REGISTER_FAILURE: 'USERS_REGISTER_FAILURE',\n\n    LOGIN_REQUEST: 'USERS_LOGIN_REQUEST',\n    LOGIN_SUCCESS: 'USERS_LOGIN_SUCCESS',\n    LOGIN_FAILURE: 'USERS_LOGIN_FAILURE',\n    \n    LOGOUT: 'USERS_LOGOUT',\n\n    GETALL_REQUEST: 'USERS_GETALL_REQUEST',\n    GETALL_SUCCESS: 'USERS_GETALL_SUCCESS',\n    GETALL_FAILURE: 'USERS_GETALL_FAILURE',\n\n    DELETE_REQUEST: 'USERS_DELETE_REQUEST',\n    DELETE_SUCCESS: 'USERS_DELETE_SUCCESS',\n    DELETE_FAILURE: 'USERS_DELETE_FAILURE',\n\n    SESSION_CHECK_REUEST: 'SESSION_CHECK_REUEST',\n    SESSION_CHECK_SUCCESS: 'SESSION_CHECK_SUCCESS',\n    SESSION_CHECK_FAILURE: 'SESSION_CHECK_FAILURE',\n};\n","\nexport const dsConstants = {\n    LOAD_COLUMNS_REQUEST: 'LOAD_COLUMNS_REQUEST', \n    LOAD_COLUMNS_SUCCESS: 'LOAD_COLUMNS_SUCCESS',\n    LOAD_COLUMNS_FAILURE: 'LOAD_COLUMNS_FAILURE',\n\n    CLEAR_COLUMNS: 'CLEAR_COLUMNS',\n\n    EDIT_SINGLE_REQUEST: 'EDIT_SINGLE_REQUEST',\n    EDIT_SINGLE_SUCCESS: 'EDIT_SINGLE_SUCCESS',\n    EDIT_SINGLE_FAILURE: 'EDIT_SINGLE_FAILURE',\n    EDIT_SINGLE_DELETE_TRACKER: 'EDIT_SINGLE_DELETE_TRACKER',\n\n    DELETE_SINGLE_REQUEST: 'DELETE_SINGLE_REQUEST',\n    DELETE_SINGLE_SUCCESS: 'DELETE_SINGLE_SUCCESS',\n    DELETE_SINGLE_FAILURE: 'DELETE_SINGLE_FAILURE',\n    DELETE_SINGLE_DELETE_TRACKER: 'DELETE_SINGLE_DELETE_TRACKER',\n\n    DELETE_MANY_REQUEST: 'DELETE_MANY_REQUEST', \n    DELETE_MANY_SUCCESS: 'DELETE_MANY_SUCCESS', \n    DELETE_MANY_FAILURE: 'DELETE_MANY_FAILURE',\n    DELETE_MANY_DELETE_TRACKER: 'DELETE_MANY_DELETE_TRACKER', \n\n    DOWNLOAD_XLSX_REQUEST: 'DOWNLOAD_XLSX_REQUEST',\n    DOWNLOAD_XLSX_SUCCESS: 'DOWNLOAD_XLSX_SUCCESS',\n    DOWNLOAD_XLSX_FAILURE: 'DOWNLOAD_XLSX_FAILURE',\n\n    SET_ROW_ADD_TRACKER: 'SET_ROW_ADD_TRACKER',\n    ROW_ADD_SUCCESS: 'ROW_ADD_SUCCESS',\n    ROW_ADD_FAILURE: 'ROW_ADD_FAILURE',\n    CLEAR_ROW_ADD_TRACKER: 'CLEAR_ROW_ADD_TRACKER',\n\n    SET_VIEW_DEFS_REQUEST: 'SET_VIEW_DEFS_REQUEST',\n    SET_VIEW_DEFS_SUCCESS: 'SET_VIEW_DEFS_SUCCESS',\n    SET_VIEW_DEFS_FAILURE: 'SET_VIEW_DEFS_FAILURE',\n    CLEAR_VIEW_DEFS_TRACER: 'CLEAR_VIEW_DEFS_TRACKER',\n\n    JIRA_REFRESH_REQUEST: 'JIRA_REFRESH_REQUEST',\n    JIRA_REFRESH_SUCCESS: 'JIRA_REFRESH_SUCCESS',\n    JIRA_REFRESH_FAILURE: 'JIRA_REFRESH_FAILURE',\n    JIRA_REFRESH_DELETE_TRACKER: 'JIRA_REFRESH_DELETE_TRACKER',\n\n    ADD_FILTER_REQUEST: 'ADD_FILTER_REQUEST',\n    ADD_FILTER_SUCCESS: 'ADD_FILTER_SUCCESS',\n    ADD_FILTER__FAILURE: 'ADD_FILTER__FAILURE',\n    CLEAR_ADD_FILTER_TRACKER: 'CLEAR_ADD_FILTER_TRACKER',\n\n    EDIT_FILTER_REQUEST: 'EDIT_FILTER_REQUEST',\n    EDIT_FILTER_SUCCESS: 'EDIT_FILTER_SUCCESS',\n    EDIT_FILTER__FAILURE: 'EDIT_FILTER__FAILURE',\n    CLEAR_EDIT_FILTER_TRACKER: 'CLEAR_EDIT_FILTER_TRACKER',\n\n    DELETE_FILTER_REQUEST: 'DELETE_FILTER_REQUEST',\n    DELETE_FILTER_SUCCESS: 'DELETE_FILTER_SUCCESS',\n    DELETE_FILTER__FAILURE: 'DELETE_FILTER__FAILURE',\n    CLEAR_DELETE_FILTER_TRACKER: 'CLEAR_DELETE_FILTER_TRACKER',\n\n    CLEAR_DS: 'CLEAR_DS',\n    UPLOAD_BULK_XLS_REQUEST: 'UPLOAD_BULK_XLS_REQUEST', \n    UPLOAD_BULK_XLS_SUCCESS: 'UPLOAD_BULK_XLS_SUCCESS',\n    UPLOAD_BULK_XLS_FAILURE: 'UPLOAD_BULK_XLS_FAILURE',\n\n    SET_BULK_SELECTED_SHEET: 'SET_BULK_SELECTED_SHEET',\n    LOAD_BULK_FROM_RANGE_REQUEST: 'LOAD_BULK_FROM_RANGE_REQUEST',\n    LOAD_BULK_FROM_RANGE_SUCCESS: 'LOAD_BULK_FROM_RANGE_SUCCESS',\n    LOAD_BULK_FROM_RANGE_FAILURE: 'LOAD_BULK_FROM_RANGE_FAILURE',\n\n    CLEAR_LOADSTATUS: 'CLEAR_LOADSTATUS',\n    BULK_EDIT_REQUEST: 'BULK_EDIT_REQUEST',\n    BULK_EDIT_SUCCESS: 'BULK_EDIT_SUCCESS',\n    BULK_EDIT_FAILURE: 'BULK_EDIT_FAILURE',\n\n    GET_DEFAULT_TYPE_FIELDS_VALUES_REQUEST: 'GET_DEFAULT_TYPE_FIELDS_VALUES_REQUEST',\n    GET_DEFAULT_TYPE_FIELDS_VALUES_SUCCESS: 'GET_DEFAULT_TYPE_FIELDS_VALUES_SUCCESS',\n    GET_DEFAULT_TYPE_FIELDS_VALUES_FAILURE: 'GET_DEFAULT_TYPE_FIELDS_VALUES_FAILURE',\n\n\n};\n\n\nexport const allDsConstants = {\n    LOAD_DSLIST_REQUEST: 'LOAD_DSLIST_REQUEST',\n    LOAD_DSLIST_SUCCESS: 'LOAD_DSLIST_SUCCESS',\n    LOAD_DSLIST_FAILURE: 'LOAD_DSLIST_FAILURE',\n\n    SEEKING_DELETE_CONFIRM: 'SEEKING_DELETE_CONFIRM',\n    \n    DELETE_DS_REQUEST: 'DELETE_DS_REQUEST',\n    DELETE_DS_SUCCESS: 'DELETE_DS_SUCCESS',\n    DELETE_DS_FAILURE: 'DELETE_DS_FAILURE'\n};\n\n","export * from './alert.constants';\nexport * from './user.constants';\nexport * from './newDs.constants';","import QueryParsers from './QueryParsers';\n\nfunction MyAutoCompleter (cell, onRendered, success, cancel, editorParams){\n    var self = this,\n    cellEl = cell.getElement(),\n    // Jayaram - setting to null initially\n    initialValue = cell.getValue(),\n    //initialValue = null,\n    vertNav = editorParams.verticalNavigation || \"editor\",\n    initialDisplayValue = typeof initialValue !== \"undefined\" || initialValue === null ? initialValue : (typeof editorParams.defaultValue !== \"undefined\" ? editorParams.defaultValue : \"\"),\n    input = document.createElement(\"input\"),\n    listEl = document.createElement(\"div\"),\n    allItems = [],\n    displayItems = [],\n    values = [],\n    currentItem = false,\n    blurable = true,\n    uniqueColumnValues = false;\n\n    // Store initial value. \n    var curVal = cell.getValue();\n    console.log(\"curVal: \", curVal);\n    console.log(\"initialValue before nullifying it: \", initialValue);\n    initialValue = null;\n    console.log(\"initialValue: \", initialValue);\n    console.log(\"initialDisplayValue: \", initialDisplayValue);\n\n    if (editorParams.conditionalValues) {\n        editorParams.values = [];\n        let rowData = cell.getRow().getData();\n        for (let i = 0; i < editorParams.conditionalExprs.length; i++) {\n            // XXX: Add more error checking here\n            let exprStr = editorParams.conditionalExprs[i].split(':')[0].trim();\n            //console.log(\"exprStr is: \", exprStr);\n            let expr = QueryParsers.parseExpr(exprStr);\n            //console.log(\"expr is: \", expr);\n            if (QueryParsers.evalExpr(expr, rowData)) {\n                let values = editorParams.conditionalExprs[i].split(':')[1].trim();\n                values = JSON.parse(values);\n                //console.log(\"eval true: \", values);\n                editorParams.values = values;\n                break;\n            } else {\n                ;//console.log(\"eval false\");\n            }\n        }\n    }\n\n    //style input\n    input.setAttribute(\"type\", \"search\");\n\n    input.style.padding = \"4px\";\n    input.style.width = \"100%\";\n    input.style.boxSizing = \"border-box\";\n\n    if(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n        for (let key in editorParams.elementAttributes){\n            if(key.charAt(0) == \"+\"){\n                key = key.slice(1);\n                input.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n            }else{\n                input.setAttribute(key, editorParams.elementAttributes[key]);\n            }\n        }\n    }\n\n    //style list element\n    listEl.classList.add(\"tabulator-edit-select-list\");\n\n    listEl.addEventListener(\"mousedown\", function(e){\n        blurable = false;\n        console.log(\"listEL mousedown\");\n        setTimeout(function(){\n            blurable = true;\n        }, 10);\n    });\n\n\n    function genUniqueColumnValues(){\n        if(editorParams.values === true){\n            uniqueColumnValues = getUniqueColumnValues();\n        }else if(typeof editorParams.values === \"string\"){\n            uniqueColumnValues = getUniqueColumnValues(editorParams.values);\n        }\n    }\n\n    function getUniqueColumnValues(field){\n        var output = {},\n        data = self.table.getData(),\n        column;\n\n        if(field){\n            column = self.table.columnManager.getColumnByField(field);\n        }else{\n            column = cell.getColumn()._getSelf();\n        }\n\n        if(column){\n            data.forEach(function(row){\n                var val = column.getFieldValue(row);\n\n                if(val !== null && typeof val !== \"undefined\" && val !== \"\"){\n                    output[val] = true;\n                }\n            });\n\n            if(editorParams.sortValuesList){\n                if(editorParams.sortValuesList == \"asc\"){\n                    output = Object.keys(output).sort();\n                }else{\n                    output = Object.keys(output).sort().reverse();\n                }\n            }else{\n                output = Object.keys(output);\n            }\n        }else{\n            console.warn(\"unable to find matching column to create autocomplete lookup list:\", field);\n        }\n\n\n        return output;\n    }\n\n    function subtractArray(matches, selectedCsvs) {\n        let filteredMatches = [];\n        for (let i = 0; i < matches.length; i++) {\n            let found = false;\n            for (let j = 0; j < selectedCsvs.length; j++) {\n                if (matches[i].value === selectedCsvs[j].trim()) {\n                    found = true; \n                    break;\n                }\n            }\n            if (!found) filteredMatches.push(matches[i]);\n        }\n        return filteredMatches;\n    }\n\n    function filterList(term, intialLoad, selectedCsvs){\n        var matches = [],\n        values, items, searchEl;\n\n        //lookup base values list\n        if(uniqueColumnValues){\n            values = uniqueColumnValues;\n        }else{\n            values = editorParams.values || [];\n        }\n\n        if(editorParams.searchFunc){\n            matches = editorParams.searchFunc(term, values);\n\n            if(matches instanceof Promise){\n\n                addNotice(typeof editorParams.searchingPlaceholder !== \"undefined\" ? editorParams.searchingPlaceholder : \"Searching...\");\n\n                matches.then((result) => {\n                    result = parseItems(result);\n                    let filteredResult = subtractArray(result, selectedCsvs);\n                    fillListIfNotEmpty(filteredResult, intialLoad);\n                }).catch((err) => {\n                    console.err(\"error in autocomplete search promise:\", err);\n                });\n\n            }else{\n                matches = parseItems(matches);\n                let filteredMatches = subtractArray(matches, selectedCsvs);\n                fillListIfNotEmpty(filteredMatches, intialLoad);\n            }\n        }else{\n            items = parseItems(values);\n\n            // Jayaram, added term as null. \n            if(term === \"\" || term === null){\n                if(editorParams.showListOnEmpty){\n                    matches = items;\n                }\n            }else{\n                items.forEach(function(item){\n                    if(item.value !== null || typeof item.value !== \"undefined\"){\n                        if(String(item.value).toLowerCase().indexOf(String(term).toLowerCase()) > -1 || String(item.title).toLowerCase().indexOf(String(term).toLowerCase()) > -1){\n                            matches.push(item);\n                        }\n                    }\n                });\n            }\n            let filteredMatches = subtractArray(matches, selectedCsvs);\n            fillListIfNotEmpty(filteredMatches, intialLoad);\n        }\n    }\n\n    function filterInvalids(selectedCsvs){\n        var matches = [],\n        values;\n\n        //lookup base values list\n        if(uniqueColumnValues){\n            values = uniqueColumnValues;\n        }else{\n            values = editorParams.values || [];\n        }\n        if(editorParams.searchFunc){\n            matches = editorParams.searchFunc(\"\", values);\n            // XXX: Doesn't work for Promises\n            if(matches instanceof Promise){\n                matches = [];\n            }else{\n                ;\n            }\n        }else{\n            matches = values;\n        }\n\n        if (!Array.isArray(matches)) {\n            matches = Object.keys(matches);\n        }\n        // You have matches now. Ensure selectedCsvs are all in matches. \n        let filteredValidCsvs = [];\n        for (let i = 0; i < selectedCsvs.length; i++) {\n            let found = false;\n            for (let j = 0; j < matches.length; j++) {\n                //console.log(`Cmp: ..${selectedCsvs[i].trim()}.. and ..${matches[j]}..`);\n                if (selectedCsvs[i].trim() === matches[j]) {\n                    found = true; break;\n                }\n            }\n            if (found) filteredValidCsvs.push(selectedCsvs[i].trim());\n        }\n        return filteredValidCsvs;\n    }\n\n    function eliminateDups (values) {\n        // Eliminate duplicates.\n        let filteredMap = {};\n        for (let i = 0; i < values.length; i++) {\n            filteredMap[values[i]] = 1;\n        }\n        return Object.keys(filteredMap);\n    }\n\n    function addNotice(notice){\n        var searchEl = document.createElement(\"div\");\n\n        clearList();\n\n        if(notice !== false){\n            searchEl.classList.add(\"tabulator-edit-select-list-notice\");\n            searchEl.tabIndex = 0;\n\n            if(notice instanceof Node){\n                searchEl.appendChild(notice);\n            }else{\n                searchEl.innerHTML = notice;\n            }\n\n            listEl.appendChild(searchEl);\n        }\n    }\n\n    function parseItems(inputValues){\n        var itemList = [];\n\n        if(Array.isArray(inputValues)){\n            inputValues.forEach(function(value){\n\n                var item = {};\n\n                if(typeof value === \"object\"){\n                    item.title = editorParams.listItemFormatter ? editorParams.listItemFormatter(value.value, value.label) : value.label;\n                    item.value = value.value;\n                }else{\n                    item.title = editorParams.listItemFormatter ? editorParams.listItemFormatter(value, value) : value;\n                    item.value = value;\n                }\n\n                itemList.push(item);\n            });\n        }else{\n            for(var key in inputValues){\n                var item = {\n                    title:editorParams.listItemFormatter ? editorParams.listItemFormatter(key, inputValues[key]) : inputValues[key],\n                    value:key,\n                };\n\n                itemList.push(item);\n            }\n        }\n\n        return itemList;\n    }\n\n    function clearList(){\n        while(listEl.firstChild) listEl.removeChild(listEl.firstChild);\n    }\n\n    function fillListIfNotEmpty(items, intialLoad){\n        if(items.length){\n            fillList(items, intialLoad);\n        }else{\n            if(editorParams.emptyPlaceholder){\n                addNotice(editorParams.emptyPlaceholder);\n            }\n        }\n    }\n\n    function fillList(items, intialLoad){\n        var current = false;\n\n        clearList();\n\n        displayItems = items;\n\n        displayItems.forEach(function(item){\n            var el = item.element;\n\n            if(!el){\n                el = document.createElement(\"div\");\n                el.classList.add(\"tabulator-edit-select-list-item\");\n                el.tabIndex = 0;\n                el.innerHTML = item.title;\n\n                el.addEventListener(\"click\", function(e){\n                    setCurrentItem(item);\n                    chooseItem();\n                });\n\n                el.addEventListener(\"mousedown\", function(e){\n                    blurable = false;\n                    console.log(\"eL mousedown\");\n\n                    setTimeout(function(){\n                        blurable = true;\n                    }, 10);\n                });\n\n                item.element = el;\n\n                if(intialLoad && item.value == initialValue){\n                    input.value = item.title;\n                    item.element.classList.add(\"active\");\n                    current = true;\n                }\n\n                if(item === currentItem){\n                    item.element.classList.add(\"active\");\n                    current = true;\n                }\n            }\n\n            listEl.appendChild(el);\n        });\n\n        if(!current){\n            setCurrentItem(false);\n        }\n    }\n\n    function isExactMatch(term){\n        var matches = [],\n        values, items, searchEl;\n\n        //lookup base values list\n        if(uniqueColumnValues){\n            values = uniqueColumnValues;\n        }else{\n            values = editorParams.values || [];\n        }\n\n        if(editorParams.searchFunc){\n            matches = editorParams.searchFunc(term, values);\n            // Not ready for Promises\n            if(matches instanceof Promise) {\n                return {status: false, match: \"\"};\n            }else{\n                ;\n            }\n        }else{\n            items = parseItems(values);\n\n            if(term === \"\"){\n                if(editorParams.showListOnEmpty){\n                    matches = items;\n                }\n            }else{\n                items.forEach(function(item){\n                    if(item.value !== null || typeof item.value !== \"undefined\"){\n                        if(String(item.value).toLowerCase().indexOf(String(term).toLowerCase()) > -1 || String(item.title).toLowerCase().indexOf(String(term).toLowerCase()) > -1){\n                            matches.push(item);\n                        }\n                    }\n                });\n            }\n        }\n        if (matches.length === 1) {\n            return {status: true, match: matches[0].value}\n        } else {\n            return {status: false, match: \"\"};\n        }\n    }\n\n    function chooseItem(){\n        hideList();\n        console.log(\"Chooseitem!\");\n        if(currentItem){\n            if(initialValue !== currentItem.value){\n                //initialValue = currentItem.value;\n                //input.value = currentItem.title;\n                let successVal = \"\";\n                let csvs = input.value.split(',');\n                for (let i = 0; i < csvs.length - 1; i++) {\n                    if (successVal) successVal += ', ';\n                    successVal += csvs[i].trim();\n                }\n                if (successVal) successVal += ', '\n                successVal += currentItem.value.trim();\n                let vals = successVal.split(',');\n                vals = eliminateDups (vals);\n                if (!editorParams.freetext) {\n                    vals = filterInvalids(vals);\n                }\n                successVal = vals.join(', ');\n                success(successVal);\n            }else{\n                cancel();\n            }\n        } else {\n            let successVal = \"\";\n            let csvs = input.value.split(',');\n            for (let i = 0; i < csvs.length - 1; i++) {\n                if (successVal) successVal += ', ';\n                successVal += csvs[i].trim();\n            }\n            // Deal with 'auto-complete' of last term. \n            let lastTerm = csvs[csvs.length - 1];\n            let { status, match } = isExactMatch (lastTerm);\n            if (status) {\n                if (successVal) successVal += ', ';\n                successVal += match;\n            }\n\n            if (csvs.length === 1 && editorParams.freetext) {\n                if (successVal) successVal += ', ';\n                successVal += input.value.trim();\n            }\n            if (successVal === \"\" && editorParams.allowEmpty) {\n                success(successVal);\n            } else if (successVal) {\n                let vals = successVal.split(',');\n                vals = eliminateDups (vals);\n                if (!editorParams.freetext) {\n                    vals = filterInvalids(vals);\n                }\n                successVal = vals.join(', ');\n                if (successVal !== initialDisplayValue) {\n                    success(successVal);\n                } else {\n                    cancel();\n                }\n            } else {\n                cancel();\n            }\n        }\n    }\n    \n\tfunction elOffset(el) {\n\t\tvar box = el.getBoundingClientRect();\n\n\t\treturn {\n\t\t\ttop: box.top + window.pageYOffset - document.documentElement.clientTop,\n\t\t\tleft: box.left + window.pageXOffset - document.documentElement.clientLeft\n\t\t};\n\t}\n\n    function showList(){\n        if(!listEl.parentNode){\n            while(listEl.firstChild) listEl.removeChild(listEl.firstChild);\n\n            var offset = elOffset(cellEl);\n\n            listEl.style.minWidth = cellEl.offsetWidth + \"px\";\n\n            listEl.style.top = (offset.top + cellEl.offsetHeight) + \"px\";\n            listEl.style.left = offset.left + \"px\";\n            document.body.appendChild(listEl);\n        }\n    }\n\n    function setCurrentItem(item, showInputValue){\n        if(currentItem && currentItem.element){\n            currentItem.element.classList.remove(\"active\");\n        }\n\n        currentItem = item;\n\n        if(item && item.element){\n            item.element.classList.add(\"active\");\n        }\n    }\n\n    function hideList(){\n        if(listEl.parentNode){\n            listEl.parentNode.removeChild(listEl);\n        }\n\n        removeScrollListener();\n    }\n\n\n    function cancelItem(){\n        hideList();\n        cancel();\n    }\n\n    function removeScrollListener() {\n        self.table.rowManager.element.removeEventListener(\"scroll\", cancelItem);\n    }\n\n    //allow key based navigation\n    input.addEventListener(\"keydown\", function(e){\n        var index;\n\n        switch(e.keyCode){\n            case 38: //up arrow\n            index = displayItems.indexOf(currentItem);\n\n            if(vertNav == \"editor\" || (vertNav == \"hybrid\" && index)){\n                e.stopImmediatePropagation();\n                e.stopPropagation();\n                e.preventDefault();\n\n                if(index > 0){\n                    setCurrentItem(displayItems[index - 1]);\n                }else{\n                    setCurrentItem(false);\n                }\n            }\n            break;\n\n            case 40: //down arrow\n\n            index = displayItems.indexOf(currentItem);\n\n            if(vertNav == \"editor\" || (vertNav == \"hybrid\" && index < displayItems.length - 1)){\n\n                e.stopImmediatePropagation();\n                e.stopPropagation();\n                e.preventDefault();\n\n                if(index < displayItems.length - 1){\n                    if(index == -1){\n                        setCurrentItem(displayItems[0]);\n                    }else{\n                        setCurrentItem(displayItems[index + 1]);\n                    }\n                }\n            }\n            break;\n\n\n            case 37: //left arrow\n            case 39: //right arrow\n            e.stopImmediatePropagation();\n            e.stopPropagation();\n            // e.preventDefault();\n            break;\n\n            case 13: //enter\n            chooseItem();\n            break;\n\n            case 27: //escape\n            cancelItem();\n            break;\n\n            case 36: //home\n            case 35: //end\n            //prevent table navigation while using input element\n            e.stopImmediatePropagation();\n            break;\n            default:\n                break;\n        }\n    });\n\n    input.addEventListener(\"keyup\", function(e){\n\n        switch(e.keyCode){\n            case 38: //up arrow\n            case 37: //left arrow\n            case 39: //up arrow\n            case 40: //right arrow\n            case 13: //enter\n            case 27: //escape\n            break;\n\n            default:\n            let csvs = input.value.split(',');\n            let selectedCsvs = [];\n            if (csvs.length > 1) selectedCsvs = csvs.slice(0, csvs.length-1)\n            filterList(csvs[csvs.length-1].trim(), false, selectedCsvs);\n        }\n\n    });\n\n    input.addEventListener(\"search\", function(e){\n        // Appears to not be useful. \n        filterList(input.value, false, []);\n    });\n\n    input.addEventListener(\"blur\", function(e){\n        if(blurable){\n            chooseItem();\n        } else {\n            console.log(\"Not calling chooseItem!\");\n        }\n    });\n\n    input.addEventListener(\"focus\", function(e){\n        genUniqueColumnValues();\n        showList();\n\n        input.value = (initialDisplayValue !== '' && initialDisplayValue !== null) ? initialDisplayValue + ',': '';\n\n        let csvs = input.value.split(',');\n        let selectedCsvs = [];\n        if (csvs.length > 1) selectedCsvs = csvs.slice(0, csvs.length-1)\n        filterList('', true, selectedCsvs);\n    });\n\n\n    onRendered(function(){\n        input.style.height = \"100%\";\n        input.focus({preventScroll: true});\n    });\n\n    if(editorParams.mask){\n        this.table.modules.edit.maskInput(input, editorParams);\n    }\n\n    setTimeout(() => {\n        this.table.rowManager.element.addEventListener(\"scroll\", cancelItem);\n    }, 10);\n\n    genUniqueColumnValues();\n    input.value = initialDisplayValue + ',';\n    let csvs = input.value.split(',');\n    let selectedCsvs = [];\n    if (csvs.length > 1) selectedCsvs = csvs.slice(0, csvs.length-1)\n    filterList('', true, selectedCsvs);\n\n    return input;\n}\n\nexport default MyAutoCompleter;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, Button } from 'react-bootstrap'\n\nclass ModalWrapper extends React.Component {\n  render() {\n    // Render nothing if the \"show\" prop is false\n    if(!this.props.show) {\n      return null;\n    }\n    // The gray background\n    const backdropStyle = {\n        position: 'fixed',\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0,\n        backgroundColor: 'rgba(0,0,0,0.3)',\n        padding: 10\n  \n    };\n  \n      // The modal \"window\"\n    const modalStyle = {\n        backgroundColor: '#fff',\n        borderRadius: 5,\n        maxWidth: 600,\n        /*minHeight: 300,*/\n        margin: '0 auto',\n        padding: 5\n    };\n    const bodyStyle = {\n      height: 400,\n      overflowY: 'auto'\n    }\n    return (\n        <div style={ backdropStyle }>\n            <div style={ modalStyle }>\n            <Modal.Header>\n                <Modal.Title>{this.props.title}</Modal.Title>\n            </Modal.Header>\n            <div style={ bodyStyle }>\n              <Modal.Body>{this.props.children}</Modal.Body>\n            </div>\n            <Modal.Footer>\n            <Button variant=\"secondary\" disabled={this.props.grayOutModalButtons} onClick={() => this.props.onClose(false, this.props.toggleModalOnClose)}>\n                    {this.props.cancel ? this.props.cancel : \"Cancel\"}\n                </Button>\n            <Button variant=\"primary\" disabled={this.props.grayOutModalButtons} onClick={() => this.props.onClose(true, this.props.toggleModalOnClose)}>\n                    {this.props.ok ? this.props.ok: \"Do It!\"}\n                </Button>\n            </Modal.Footer>\n            </div>\n      </div>        \n    );\n  }\n}\n\nModalWrapper.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  show: PropTypes.bool,\n  children: PropTypes.node\n};\n\nexport default ModalWrapper;","import { createBrowserHistory } from 'history';\n\nexport const history = createBrowserHistory();","import { userConstants } from '../constants';\n\nlet user = JSON.parse(localStorage.getItem('user'));\nconst initialState = user ? { loggedIn: false, user } : {};\n\nexport function authentication(state = initialState, action) {\n  switch (action.type) {\n    case userConstants.LOGIN_REQUEST:\n      return {\n        loggingIn: true,\n        user: action.user\n      };\n    case userConstants.LOGIN_SUCCESS:\n      return {\n        loggedIn: true,\n        user: action.user\n      };\n    case userConstants.LOGIN_FAILURE:\n      return {};\n    case userConstants.LOGOUT:\n      return {};\n    case userConstants.SESSION_CHECK_REUEST:\n      return {\n        ...initialState,\n        loggingIn: true,\n      }\n    case userConstants.SESSION_CHECK_SUCCESS:\n      return {\n        ...initialState,\n        loggedIn: true,\n      }\n    case userConstants.SESSION_CHECK_FAILURE:\n      return {}\n    default:\n      return state\n  }\n}","import { allDsConstants } from '../constants';\n\nconst initialState = {};\n\nexport function allDs (state = initialState, action) {\n    switch (action.type) {\n        case allDsConstants.LOAD_DSLIST_REQUEST:\n            return {\n                dsListStatus: 'loading'\n            }\n        case allDsConstants.LOAD_DSLIST_SUCCESS:\n            return {\n                dsListStatus: 'success',\n                dsList : action.dsList\n            }\n        case allDsConstants.LOAD_DSLIST_FAILURE:\n            return {\n                dsListStatus: 'fail'\n            }\n        case allDsConstants.SEEKING_DELETE_CONFIRM:\n            let confirmObj = {};\n            if ( state.deleteConfirm )\n                confirmObj = state.deleteConfirm;\n            confirmObj[action.dsName] = 1;\n            return {\n                ...state,\n                deleteConfirm: confirmObj\n            }\n        case allDsConstants.DELETE_DS_REQUEST: \n            let deleteInProgressObj = {};\n            if ( state.deleteInProgress )\n                deleteInProgressObj = state.deleteInProgress;\n            deleteInProgressObj[action.dsName] = 1;\n            return {\n                ...state,\n                deleteInProgress: deleteInProgressObj\n            }\n        case allDsConstants.DELETE_DS_SUCCESS: \n            {\n                delete state.deleteInProgress[action.dsName];\n                delete state.deleteConfirm[action.dsName];\n                let dbList = state.dsList.dbList;\n                let prunedDbList = [];\n                for (let i = 0; i < dbList.length; i++) {\n                    if (dbList[i].name === action.dsName)\n                        continue;\n                    prunedDbList.push(dbList[i]);\n                }\n                state.dsList.dbList = prunedDbList;\n                return {\n                    ...state,\n                }\n            }\n        default:\n            return state\n    }\n}","import { combineReducers } from 'redux';\n\nimport { authentication } from './authentication.reducer';\nimport { registration } from './registration.reducer';\nimport { users } from './users.reducer';\nimport { alert } from './alert.reducer';\nimport { newDs } from '../routes/home/NewDsStoreMgmt';\nimport { dsHome } from './dsHome.reducer';\nimport { allDs } from './allDs.reducer';\n\nconst rootReducer = combineReducers({\n  authentication,\n  registration,\n  users,\n  alert,\n  allDs,\n  newDs,\n  dsHome\n});\n\nexport default rootReducer;","import { userConstants } from '../constants';\n\nexport function registration(state = {}, action) {\n  switch (action.type) {\n    case userConstants.REGISTER_REQUEST:\n      return { registering: true };\n    case userConstants.REGISTER_SUCCESS:\n      return {};\n    case userConstants.REGISTER_FAILURE:\n      return {};\n    default:\n      return state\n  }\n}","import { userConstants } from '../constants';\n\nexport function users(state = {}, action) {\n  switch (action.type) {\n    case userConstants.GETALL_REQUEST:\n      return {\n        loading: true\n      };\n    case userConstants.GETALL_SUCCESS:\n      return {\n        items: action.users\n      };\n    case userConstants.GETALL_FAILURE:\n      return { \n        error: action.error\n      };\n    case userConstants.DELETE_REQUEST:\n      // add 'deleting:true' property to user being deleted\n      return {\n        ...state,\n        items: state.items.map(user =>\n          user.id === action.id\n            ? { ...user, deleting: true }\n            : user\n        )\n      };\n    case userConstants.DELETE_SUCCESS:\n      // remove deleted user from state\n      return {\n        items: state.items.filter(user => user.id !== action.id)\n      };\n    case userConstants.DELETE_FAILURE:\n      // remove 'deleting:true' property and add 'deleteError:[error]' property to user \n      return {\n        ...state,\n        items: state.items.map(user => {\n          if (user.id === action.id) {\n            // make copy of user without 'deleting:true' property\n            const { deleting, ...userCopy } = user;\n            // return copy of user with 'deleteError:[error]' property\n            return { ...userCopy, deleteError: action.error };\n          }\n\n          return user;\n        })\n      };\n    default:\n      return state\n  }\n}","import { alertConstants } from '../constants';\n\nexport function alert(state = {}, action) {\n  switch (action.type) {\n    case alertConstants.SUCCESS:\n      return {\n        type: 'alert-success',\n        message: action.message\n      };\n    case alertConstants.ERROR:\n      return {\n        type: 'alert-danger',\n        message: action.message\n      };\n    case alertConstants.CLEAR:\n      return {};\n    default:\n      return state\n  }\n}","import { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { createLogger } from \"redux-logger\";\nimport rootReducer from '../reducers';\n\nconst configureStore = () => {\n    const middlewares = [ thunk ];\n\n\n    if ( process.env.NODE_ENV !== \"production\" ) {\n        middlewares.push( createLogger() );\n    }\n\n\n    /* eslint-disable no-underscore-dangle */\n    return createStore(\n        rootReducer,\n        window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__(),\n        applyMiddleware( ...middlewares ),\n    );\n    /* eslint-enable */\n};\n\nexport const store = configureStore();\n","export function authHeader() {\n    // return authorization header with jwt token\n    let user = JSON.parse(localStorage.getItem('user'));\n\n    if (user && user.token) {\n        return { 'authorization': 'Bearer ' + user.token };\n    } else {\n        return {};\n    }\n}","export * from './history';\nexport * from './store';\nexport * from './auth-header';","import { authHeader } from '../helpers';\n\nexport const userService = {\n    login,\n    logout,\n    register,\n    getAll,\n    getById,\n    update,\n    delete: _delete,\n    sessionCheck\n};\n\nconst config = {};\nif(process.env.NODE_ENV === 'development') {\n    config.apiUrl = \"http://in-mvlb52:8887\"\n    config.apiUrl = \"http://localhost:8887\"\n} else {\n    config.apiUrl= \"\"\n}\n\n\nfunction login(username, password) {\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ username, password }),\n        credentials: \"include\"\n    };\n\n    return fetch(`${config.apiUrl}/login`, requestOptions)\n        .then(handleResponse)\n        .then(obj => {\n            // login successful if there's a jwt token in the response\n            if (obj.user.token) {\n                // store user details and jwt token in local storage to keep user logged in between page refreshes\n                localStorage.setItem('user', JSON.stringify(obj.user));\n            }\n\n            return obj;\n        });\n}\n\nasync function logout() {\n    // remove user from local storage to log user out\n    try {\n        console.log(\"logging out...\");\n        let response = await fetch(`${config.apiUrl}/logout`, {\n            method: \"GET\",\n            credentials: \"include\"\n        });\n        if (response.ok) {\n            localStorage.removeItem('user');\n        }\n    } catch (e) {\n        console.log(\"Error in logging out:\", e)\n    }\n}\n\nfunction getAll() {\n    const requestOptions = {\n        method: 'GET',\n        headers: authHeader(),\n        credentials: \"include\"\n    };\n\n    return fetch(`${config.apiUrl}/users`, requestOptions).then(handleResponse);\n}\n\nfunction getById(id) {\n    const requestOptions = {\n        method: 'GET',\n        headers: authHeader(),\n        credentials: \"include\"\n    };\n\n    return fetch(`${config.apiUrl}/users/${id}`, requestOptions).then(handleResponse);\n}\n\nfunction register(user) {\n    const requestOptions = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(user),\n        credentials: \"include\"\n    };\n\n    return fetch(`${config.apiUrl}/users/register`, requestOptions).then(handleResponse);\n}\n\nfunction update(user) {\n    const requestOptions = {\n        method: 'PUT',\n        headers: { ...authHeader(), 'Content-Type': 'application/json' },\n        body: JSON.stringify(user),\n        credentials: \"include\"\n    };\n\n    return fetch(`${config.apiUrl}/users/${user.id}`, requestOptions).then(handleResponse);;\n}\n\n// prefixed function name with underscore because delete is a reserved word in javascript\nfunction _delete(id) {\n    const requestOptions = {\n        method: 'DELETE',\n        headers: authHeader(),\n        credentials: \"include\"\n    };\n\n    return fetch(`${config.apiUrl}/users/${id}`, requestOptions).then(handleResponse);\n}\n\nfunction handleResponse(response) {\n    return response.text().then(text => {\n        const data = text && JSON.parse(text);\n        if (!response.ok) {\n            if (response.status === 401) {\n                // auto logout if 401 response returned from api\n                logout();\n                // XXX: react complains here\n                //location.reload(true);\n            }\n\n            const error = (data && data.message) || response.statusText;\n            return Promise.reject(error);\n        }\n        return { user: JSON.parse(data.user), redirectUrl: data.redirectUrl };\n    });\n}\n\nasync function sessionCheck(user) {\n    let response;\n    try {\n        let url = `${config.apiUrl}/sessionCheck`;\n        response = await fetch(url, {\n            method: \"get\",\n            headers: {\n                ...authHeader(),\n                \"Content-Type\": \"application/json\",\n                \"user\": user.user\n            },\n            credentials: 'include'\n        });\n        if (response.ok) {\n            return true;\n        } else {\n            console.log(\"Response not ok in sessionCheck!\", response);\n            throw new Error(\"Response not ok in sessiosCheck!\");\n        }\n    } catch (e) {\n        console.log(\"sessionCheck! has errors!\", e);\n    }\n    return false;\n}","import { authHeader } from \"../helpers\";\n\nexport const uploadService = {\n    fileUpload,\n    findHeadersInSheet,\n    loadHdrsFromRange,\n    createDs,\n    createDsFromDs,\n\n    csvFileUpload,\n    createDsViaCsv,\n\n    uploadAttachment, \n    deleteOneAttachment\n};\n\nconst config = {};\nif (process.env.NODE_ENV === 'development') {\n    config.apiUrl = \"http://in-mvlb52:8887\"\n    config.apiUrl = \"http://localhost:8887\"\n} else {\n    config.apiUrl = \"\"\n}\n\n\nasync function fileUpload(body) {\n    try {\n        const requestOptions = {\n            method: 'POST',\n            body,\n            headers: new Headers({\n                ...authHeader()\n            }),\n            credentials: \"include\"\n        };\n        let responseJson = null;\n        let response = await fetch(`${config.apiUrl}/upload`, requestOptions);\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('uploaded', responseJson);\n        }\n        console.log(response);\n        return responseJson;\n    } catch(e) {\n        console.log(e);\n    }\n}\n\nasync function findHeadersInSheet(body) {\n    try {\n        console.log(\"Starting API call: \", body);\n        let dataLen = JSON.stringify(body).length.toString();\n        let response = await fetch(`${config.apiUrl}/upload/findHeadersInSheet`, {\n            method: \"post\",\n            body: JSON.stringify(body),\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Content-Length\": dataLen,\n                ...authHeader()\n            },\n            credentials: \"include\"     \n        });\n        let responseJson = null;\n        console.log(\"Finished fetch\")\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('findHeadersInSheet', responseJson);\n        }\n        console.log(response);\n        return responseJson;\n    } catch(e) {\n        console.log(e);\n    }\n}\n\nasync function loadHdrsFromRange (body) {\n    try {\n        console.log(\"Starting API call: \", body);\n        let dataLen = JSON.stringify(body).length.toString();\n        let response = await fetch(`${config.apiUrl}/upload/loadHdrsFromRange`, {\n            method: \"post\",\n            body: JSON.stringify(body),\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Content-Length\": dataLen,\n                ...authHeader()\n            },\n            credentials: \"include\"     \n        });\n        let responseJson = null;\n        console.log(\"Finished fetch\")\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('loadHdrsFromRange: ', responseJson);\n        }\n        return responseJson;\n    } catch(e) {\n        console.log(e);\n    }\n}\n\nasync function createDs (body) {\n    try {\n        console.log(\"Starting API call: \", body);\n        let dataLen = JSON.stringify(body).length.toString();\n        let response = await fetch(`${config.apiUrl}/upload/createDs`, {\n            method: \"post\",\n            body: JSON.stringify(body),\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Content-Length\": dataLen,\n                ...authHeader()\n            },\n            credentials: \"include\"     \n        });\n        let responseJson = null;\n        console.log(\"Finished fetch\")\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('createDs ', responseJson);\n        }\n        return responseJson;\n    } catch(e) {\n        console.log(e);\n    }\n}\n\n\nasync function csvFileUpload(body) {\n    try {\n        const requestOptions = {\n            method: 'POST',\n            body,\n            headers: new Headers({\n                ...authHeader()\n            }),\n            credentials: \"include\"\n        };\n        let responseJson = null;\n        let response = await fetch(`${config.apiUrl}/uploadCsv`, requestOptions);\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('uploaded csv', responseJson);\n        }\n        console.log(response);\n        return responseJson;\n    } catch(e) {\n        console.log(e);\n    }\n}\n\nasync function createDsViaCsv (body) {\n    try {\n        console.log(\"Starting API call: \", body);\n        let dataLen = JSON.stringify(body).length.toString();\n        let response = await fetch(`${config.apiUrl}/uploadCsv/createDs`, {\n            method: \"post\",\n            body: JSON.stringify(body),\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Content-Length\": dataLen,\n                ...authHeader()\n            },\n            credentials: \"include\"     \n        });\n        let responseJson = null;\n        console.log(\"Finished fetch\")\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('createDs ', responseJson);\n        }\n        return responseJson;\n    } catch(e) {\n        console.log(e);\n    }\n}\n\nasync function createDsFromDs (body) {\n    try {\n        console.log(\"Starting API call: \", body);\n        let dataLen = JSON.stringify(body).length.toString();\n        let response = await fetch(`${config.apiUrl}/ds/createDsFromDs`, {\n            method: \"post\",\n            body: JSON.stringify(body),\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Content-Length\": dataLen,\n                ...authHeader()\n            },\n            credentials: \"include\"     \n        });\n        let responseJson = null;\n        console.log(\"Finished fetch\")\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('createDsFromDs: ', responseJson);\n        }\n        return responseJson;\n    } catch(e) {\n        console.log(e);\n    }\n}\n\n\nasync function uploadAttachment(body) {\n    try {\n        const requestOptions = {\n            method: 'POST',\n            body,\n            headers: new Headers({\n                ...authHeader()\n            }),\n            credentials: \"include\"\n        };\n        let responseJson = null;\n        let response = await fetch(`${config.apiUrl}/uploadAttachments`, requestOptions);\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('uploaded', responseJson);\n        }\n        console.log(response);\n        return responseJson;\n    } catch(e) {\n        console.log(e);\n    }\n}\n\n\nasync function deleteOneAttachment (body) {\n    try {\n        console.log(\"Starting API call: \", body);\n        let dataLen = JSON.stringify(body).length.toString();\n        let response = await fetch(`${config.apiUrl}/uploadAttachments/deleteAttachment`, {\n            method: \"post\",\n            body: JSON.stringify(body),\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Content-Length\": dataLen,\n                ...authHeader()\n            },\n            credentials: \"include\"     \n        });\n        let responseJson = null;\n        console.log(\"Finished API\")\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('deleteOneAttachment: ', responseJson);\n        }\n        return responseJson;\n    } catch(e) {\n        console.log(e);\n    }\n}\n","export * from './user.service';\nexport * from './uploads.service';\nexport * from './ds.service';","import { dsConstants } from '../constants';\n\nconst initialState = {};\n\nexport function dsHome (state = initialState, action) {\n    switch (action.type) {\n        case dsConstants.LOAD_COLUMNS_REQUEST:\n            {\n                let newState = {...state};\n                if (!newState.dsViews)\n                    newState.dsViews = {};\n                newState.dsViews[action.dsView] = { status: 'loading' };\n                return newState\n            }\n        case dsConstants.LOAD_COLUMNS_SUCCESS:\n            {\n                let newState = {...state};\n                if (!newState.dsViews)\n                    newState.dsViews = {};\n                newState.dsViews[action.dsView] = { status: 'success', columns: action.columnsAndKeys.columns, columnAttrs: action.columnsAndKeys.columnAttrs, keys: action.columnsAndKeys.keys, jiraConfig: action.columnsAndKeys.jiraConfig, dsDescription: action.columnsAndKeys.dsDescription, filters: action.columnsAndKeys.filters, otherTableAttrs: action.columnsAndKeys.otherTableAttrs, aclConfig: action.columnsAndKeys.aclConfig, jiraAgileConfig: action.columnsAndKeys.jiraAgileConfig, jiraProjectName: action.columnsAndKeys.jiraProjectName };\n                return newState\n            }\n        case dsConstants.LOAD_COLUMNS_FAILURE:\n            {\n                let newState = {...state};\n                if (!newState.dsViews)\n                    newState.dsViews = {};\n                newState.dsViews[action.dsView] = { status: 'fail', error: action.message };\n                return newState\n            }\n\n        case dsConstants.GET_DEFAULT_TYPE_FIELDS_VALUES_REQUEST:\n            {\n                let newState = { ...state };\n                if (!newState.defaultTypeFieldsAndValues)\n                    newState.defaultTypeFieldsAndValues = {};\n                newState.defaultTypeFieldsAndValues = { status: 'loading' };\n                return newState\n            }\n        case dsConstants.GET_DEFAULT_TYPE_FIELDS_VALUES_SUCCESS:\n            {\n                let newState = { ...state };\n                if (!newState.defaultTypeFieldsAndValues)\n                    newState.defaultTypeFieldsAndValues = {};\n                newState.defaultTypeFieldsAndValues = { status: 'success', value: action.defaultTypeFieldsAndValues };\n                return newState\n            }\n        case dsConstants.GET_DEFAULT_TYPE_FIELDS_VALUES_FAILURE:\n            {\n                let newState = { ...state };\n                if (!newState.defaultTypeFieldsAndValues)\n                    newState.defaultTypeFieldsAndValues = {};\n                newState.defaultTypeFieldsAndValues = { status: 'fail', error: action.message };\n                return newState\n            }\n\n        case dsConstants.EDIT_SINGLE_REQUEST:\n            {\n                let newState = {...state};\n                if (!newState.dsEdits)\n                    newState.dsEdits = {};\n                newState.dsEdits[action._id] = { editStatus: 'editing', editTracker: action.editTracker };\n                return newState\n            }\n        case dsConstants.EDIT_SINGLE_SUCCESS:\n            {\n                let newState = {...state};\n                if (!newState.dsEdits)\n                    newState.dsEdits = {};\n                newState.dsEdits[action._id] = { editStatus: 'done', serverStatus: action.serverStatus, editTracker: action.editTracker };\n                return newState\n            }\n        case dsConstants.EDIT_SINGLE_FAILURE:\n            {\n                let newState = {...state};\n                if (!newState.dsEdits)\n                    newState.dsEdits = {};\n                newState.dsEdits[action._id] = { editStatus: 'fail', editTracker: action.editTracker, error: action.message };\n                return newState\n            }\n        case dsConstants.EDIT_SINGLE_DELETE_TRACKER:\n            {\n                let newState = {...state};\n                if (!newState.dsEdits)\n                    newState.dsEdits = {};\n                delete newState.dsEdits[action._id];\n                return newState\n            }\n        case dsConstants.CLEAR_COLUMNS:\n            return {};\n        case dsConstants.SET_ROW_ADD_TRACKER: \n            {\n                let newState = {...state};\n                if (!newState.dsRowAdds)\n                    newState.dsRowAdds = {};\n                newState.dsRowAdds[action.dsView] = { ...newState.dsRowAdds[action.dsView], status: action.status, uiRow: action.uiRow };\n                return newState\n            }\n        case dsConstants.ROW_ADD_SUCCESS: \n            {\n                let newState = {...state};\n                if (!newState.dsRowAdds)\n                    newState.dsRowAdds = {};\n                newState.dsRowAdds[action.dsView] = { ...newState.dsRowAdds[action.dsView], status: action.status, serverStatus: action.serverStatus };\n                return newState\n            }\n        case dsConstants.ROW_ADD_FAILURE: \n            {\n                let newState = {...state};\n                if (!newState.dsRowAdds)\n                    newState.dsRowAdds = {};\n                newState.dsRowAdds[action.dsView] = { ...newState.dsRowAdds[action.dsView], status: action.status, error: action.message };\n                return newState\n            }\n        case dsConstants.CLEAR_ROW_ADD_TRACKER: \n            {\n                delete state.dsRowAdds;\n                return state;\n            }\n        case dsConstants.DELETE_SINGLE_REQUEST:\n            {\n                let newState = {...state};\n                if (!newState.dsDeletes)\n                    newState.dsDeletes = {};\n                newState.dsDeletes[action._id] = { deleteStatus: 'deleting', deleteTracker: action.deleteTracker };\n                return newState\n            }\n        case dsConstants.DELETE_SINGLE_SUCCESS:\n            {\n                let newState = {...state};\n                if (!newState.dsDeletes)\n                    newState.dsDeletes = {};\n                newState.dsDeletes[action._id] = { deleteStatus: 'done', serverStatus: action.serverStatus, deleteTracker: action.deleteTracker };\n                return newState\n            }\n        case dsConstants.DELETE_SINGLE_FAILURE:\n            {\n                let newState = {...state};\n                if (!newState.dsDeletes)\n                    newState.dsDeletes = {};\n                newState.dsDeletes[action._id] = { deleteStatus: 'fail', deleteTracker: action.deleteTracker, error: action.message };\n                return newState\n            }\n        case dsConstants.DELETE_SINGLE_DELETE_TRACKER:\n            {\n                let newState = {...state};\n                if (!newState.dsDeletes)\n                    newState.dsDeletes = {};\n                delete newState.dsDeletes[action._id];\n                return newState\n            }\n        case dsConstants.SET_VIEW_DEFS_REQUEST:\n            {\n                let newState = {...state};\n                if (!newState.dsSetView)\n                    newState.dsSetView = {};\n                newState.dsSetView.dsName = action.dsName;\n                newState.dsSetView.dsView = action.dsView;\n                newState.dsSetView.status = \"setting\";\n                return newState\n            }\n        case dsConstants.SET_VIEW_DEFS_SUCCESS:\n            {\n                let newState = {...state};\n                if (!newState.dsSetView)\n                    newState.dsSetView = {};\n                newState.dsSetView.dsName = action.dsName;\n                newState.dsSetView.dsView = action.dsView;\n                newState.dsSetView.status = \"success\";\n                newState.dsSetView.serverStatus = action.serverStatus;\n                return newState\n            }\n        case dsConstants.SET_VIEW_DEFS_FAILURE:\n            {\n                let newState = {...state};\n                if (!newState.dsSetView)\n                    newState.dsSetView = {};\n                newState.dsSetView.dsName = action.dsName;\n                newState.dsSetView.dsView = action.dsView;\n                newState.dsSetView.status = \"fail\";\n                newState.dsSetView.message = action.message;\n                return newState\n            }\n        case dsConstants.CLEAR_VIEW_DEFS_TRACER:\n            {\n                let newState = {...state};\n                delete newState.dsSetView;\n                return newState\n            }                        \n        case dsConstants.JIRA_REFRESH_REQUEST:\n            {\n                let newState = {...state};\n                if (!newState.dsJiraRefresh)\n                    newState.dsJiraRefresh = {};\n                newState.dsJiraRefresh.dsName = action.dsName;\n                newState.dsJiraRefresh.dsView = action.dsView;\n                newState.dsJiraRefresh.status = 'refreshing';\n                return newState\n            }\n        case dsConstants.JIRA_REFRESH_SUCCESS:\n            {\n                let newState = {...state};\n                if (!newState.dsJiraRefresh)\n                    newState.dsJiraRefresh = {};\n                newState.dsJiraRefresh.dsName = action.dsName;\n                newState.dsJiraRefresh.dsView = action.dsView;\n                newState.dsJiraRefresh.status = 'done';\n                newState.dsJiraRefresh.serverStatus = action.serverStatus;\n                return newState\n            }\n        case dsConstants.JIRA_REFRESH_FAILURE:\n            {\n                let newState = {...state};\n                if (!newState.dsJiraRefresh)\n                    newState.dsJiraRefresh = {};\n                newState.dsJiraRefresh.dsName = action.dsName;\n                newState.dsJiraRefresh.dsView = action.dsView;\n                newState.dsJiraRefresh.status = 'fail';\n                newState.dsJiraRefresh.message = action.message;\n                return newState\n            }\n        case dsConstants.JIRA_REFRESH_DELETE_TRACKER:\n            {\n                let newState = {...state};\n                if (!newState.dsJiraRefresh)\n                    newState.dsJiraRefresh = {};\n                newState.dsJiraRefresh.status = 'dusted';\n                return newState\n            }\n        case dsConstants.DELETE_MANY_REQUEST:\n            {\n                let newState = {...state};\n                if (!newState.dsDeletes)\n                    newState.dsDeletes = {};\n                newState.dsDeletes[\"__dg__DELETE_MANY\"] = { deleteStatus: 'deleting', deleteTracker: action.deleteTracker };\n                return newState\n            }\n        case dsConstants.DELETE_MANY_SUCCESS:\n            {\n                let newState = {...state};\n                if (!newState.dsDeletes)\n                    newState.dsDeletes = {};\n                newState.dsDeletes[\"__dg__DELETE_MANY\"] = { deleteStatus: 'done', serverStatus: action.serverStatus, deleteTracker: action.deleteTracker };\n                return newState\n            }\n        case dsConstants.DELETE_MANY_FAILURE:\n            {\n                let newState = {...state};\n                if (!newState.dsDeletes)\n                    newState.dsDeletes = {};\n                newState.dsDeletes[\"__dg__DELETE_MANY\"] = { deleteStatus: 'fail', deleteTracker: action.deleteTracker, error: action.message };\n                return newState\n            }\n        case dsConstants.DELETE_MANY_DELETE_TRACKER:\n            {\n                let newState = {...state};\n                if (!newState.dsDeletes)\n                    newState.dsDeletes = {};\n                delete newState.dsDeletes[\"__dg__DELETE_MANY\"];\n                return newState\n            }\n        case dsConstants.ADD_FILTER_REQUEST: \n            {\n                let newState = {...state};\n                if (!newState.dsFilterAdds)\n                    newState.dsFilterAdds = {};\n                newState.dsFilterAdds[action.dsView] = { ...newState.dsFilterAdds[action.dsView], status: action.status, filter: action.filter };\n                return newState\n            }\n        case dsConstants.ADD_FILTER_SUCCESS: \n            {\n                let newState = {...state};\n                if (!newState.dsFilterAdds)\n                    newState.dsFilterAdds = {};\n                newState.dsFilterAdds[action.dsView] = { ...newState.dsFilterAdds[action.dsView], status: action.status, serverStatus: action.serverStatus };\n                return newState\n            }\n        case dsConstants.ADD_FILTER__FAILURE: \n            {\n                let newState = {...state};\n                if (!newState.dsFilterAdds)\n                    newState.dsFilterAdds = {};\n                newState.dsFilterAdds[action.dsView] = { ...newState.dsFilterAdds[action.dsView], status: action.status, error: action.message };\n                return newState\n            }            \n        case dsConstants.CLEAR_ADD_FILTER_TRACKER:\n            {\n                let newState = {...state};\n                delete newState.dsFilterAdds;\n                return newState\n            }    \n        case dsConstants.EDIT_FILTER_REQUEST: \n            {\n                let newState = {...state};\n                if (!newState.dsFilterEdits)\n                    newState.dsFilterEdits = {};\n                newState.dsFilterEdits[action.dsView] = { ...newState.dsFilterEdits[action.dsView], status: action.status, filter: action.filter };\n                return newState\n            }\n        case dsConstants.EDIT_FILTER_SUCCESS: \n            {\n                let newState = {...state};\n                if (!newState.dsFilterEdits)\n                    newState.dsFilterEdits = {};\n                newState.dsFilterEdits[action.dsView] = { ...newState.dsFilterEdits[action.dsView], status: action.status, serverStatus: action.serverStatus };\n                return newState\n            }\n        case dsConstants.EDIT_FILTER__FAILURE: \n            {\n                let newState = {...state};\n                if (!newState.dsFilterEdits)\n                    newState.dsFilterEdits = {};\n                newState.dsFilterEdits[action.dsView] = { ...newState.dsFilterEdits[action.dsView], status: action.status, error: action.message };\n                return newState\n            }            \n        case dsConstants.CLEAR_EDIT_FILTER_TRACKER:\n            {\n                let newState = {...state};\n                delete newState.dsFilterEdits;\n                return newState\n            }\n\n        case dsConstants.DELETE_FILTER_REQUEST: \n            {\n                let newState = {...state};\n                if (!newState.dsFilterDeletes)\n                    newState.dsFilterDeletes = {};\n                newState.dsFilterDeletes[action.dsView] = { ...newState.dsFilterDeletes[action.dsView], status: action.status, filter: action.filter };\n                return newState\n            }\n        case dsConstants.DELETE_FILTER_SUCCESS: \n            {\n                let newState = {...state};\n                if (!newState.dsFilterDeletes)\n                    newState.dsFilterDeletes = {};\n                newState.dsFilterDeletes[action.dsView] = { ...newState.dsFilterDeletes[action.dsView], status: action.status, serverStatus: action.serverStatus };\n                return newState\n            }\n        case dsConstants.DELETE_FILTER__FAILURE: \n            {\n                let newState = {...state};\n                if (!newState.dsFilterDeletes)\n                    newState.dsFilterDeletes = {};\n                newState.dsFilterDeletes[action.dsView] = { ...newState.dsFilterDeletes[action.dsView], status: action.status, error: action.message };\n                return newState\n            }            \n        case dsConstants.CLEAR_DELETE_FILTER_TRACKER:\n            {\n                let newState = {...state};\n                delete newState.dsFilterDeletes;\n                return newState\n            }\n \n        case dsConstants.CLEAR_DS:\n            {\n                let newState = {...state};\n                delete newState.dsBulkEdits;\n                return newState\n            }\n        case dsConstants.UPLOAD_BULK_XLS_REQUEST:\n            {\n                let newState = {...state};\n                if (!newState.dsBulkEdits)\n                    newState.dsBulkEdits = {};\n                newState.dsBulkEdits.uploadStatus = 'uploading';\n                newState.dsBulkEdits.fileName = action.fileName\n                return newState;\n            }\n        case dsConstants.UPLOAD_BULK_XLS_SUCCESS:\n            {\n                let newState = {...state};\n                if (!newState.dsBulkEdits)\n                    newState.dsBulkEdits = {};\n                newState.dsBulkEdits.uploadStatus = 'success';\n                newState.dsBulkEdits.fileName = action.fileName;\n                newState.dsBulkEdits.sheetInfo = action.sheetInfo;\n                return newState;\n            }\n        case dsConstants.UPLOAD_BULK_XLS_FAILURE:\n            {\n                let newState = {...state};\n                if (!newState.dsBulkEdits)\n                    newState.dsBulkEdits = {};\n                newState.dsBulkEdits.uploadStatus = 'fail';\n                newState.dsBulkEdits.uploadError = action.message;\n                return newState;\n            }\n        case dsConstants.SET_BULK_SELECTED_SHEET:\n            {\n                let newState = {...state};\n                if (!newState.dsBulkEdits)\n                    newState.dsBulkEdits = {};\n                newState.dsBulkEdits.selectedSheet = action.sheetName;\n                return newState;\n            }\n        case dsConstants.BULK_EDIT_REQUEST:\n            {\n                let newState = {...state};\n                if (!newState.dsBulkEdits)\n                    newState.dsBulkEdits = {};\n                newState.dsBulkEdits.selectedRange = action.selectedRange;\n                return newState;\n            }\n        case dsConstants.BULK_EDIT_SUCCESS:\n            {\n                let newState = {...state};\n                if (!newState.dsBulkEdits)\n                    newState.dsBulkEdits = {};\n                newState.dsBulkEdits.loadStatus = action.loadStatus;\n                return newState;\n            }\n        case dsConstants.BULK_EDIT_FAILURE:\n            {\n                let newState = {...state};\n                if (!newState.dsBulkEdits)\n                    newState.dsBulkEdits = {};\n                newState.dsBulkEdits.loadStatus = action.loadStatus;\n                return newState;\n            }\n        case dsConstants.CLEAR_LOADSTATUS:\n            {\n                let newState = {...state};\n                delete newState.dsBulkEdits.loadStatus;\n                return newState\n            }\n\n\n        default:\n            return state\n    }\n}","import QueryParsers from './QueryParsers';\n\nfunction MySingleAutoCompleter (cell, onRendered, success, cancel, editorParams){\n    var self = this,\n    cellEl = cell.getElement(),\n    initialValue = cell.getValue(),\n    vertNav = editorParams.verticalNavigation || \"editor\",\n    initialDisplayValue = typeof initialValue !== \"undefined\" || initialValue === null ? initialValue : (typeof editorParams.defaultValue !== \"undefined\" ? editorParams.defaultValue : \"\"),\n    input = document.createElement(\"input\"),\n    listEl = document.createElement(\"div\"),\n    allItems = [],\n    displayItems = [],\n    values = [],\n    currentItem = false,\n    blurable = true,\n    uniqueColumnValues = false;\n\n    // Jayaram: 3 changes\n    // MyAutoCompleter.js\n    if (editorParams.conditionalValues) {\n        editorParams.values = [];\n        let rowData = cell.getRow().getData();\n        for (let i = 0; i < editorParams.conditionalExprs.length; i++) {\n            // XXX: Add more error checking here\n            let exprStr = editorParams.conditionalExprs[i].split(':')[0].trim();\n            //console.log(\"exprStr is: \", exprStr);\n            let expr = QueryParsers.parseExpr(exprStr);\n            //console.log(\"expr is: \", expr);\n            if (QueryParsers.evalExpr(expr, rowData)) {\n                let values = editorParams.conditionalExprs[i].split(':')[1].trim();\n                values = JSON.parse(values);\n                //console.log(\"eval true: \", values);\n                editorParams.values = values;\n                break;\n            } else {\n                ;//console.log(\"eval false\");\n            }\n        }\n    }\n\n    //style input\n    input.setAttribute(\"type\", \"search\");\n\n    input.style.padding = \"4px\";\n    input.style.width = \"100%\";\n    input.style.boxSizing = \"border-box\";\n\n    if(editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\"){\n        for (let key in editorParams.elementAttributes){\n            if(key.charAt(0) == \"+\"){\n                key = key.slice(1);\n                input.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n            }else{\n                input.setAttribute(key, editorParams.elementAttributes[key]);\n            }\n        }\n    }\n\n    //style list element\n    listEl.classList.add(\"tabulator-edit-select-list\");\n\n    listEl.addEventListener(\"mousedown\", function(e){\n        blurable = false;\n\n        setTimeout(function(){\n            blurable = true;\n        }, 10);\n    });\n\n\n    function genUniqueColumnValues(){\n        if(editorParams.values === true){\n            uniqueColumnValues = getUniqueColumnValues();\n        }else if(typeof editorParams.values === \"string\"){\n            uniqueColumnValues = getUniqueColumnValues(editorParams.values);\n        }\n    }\n\n    function getUniqueColumnValues(field){\n        var output = {},\n        data = self.table.getData(),\n        column;\n\n        if(field){\n            column = self.table.columnManager.getColumnByField(field);\n        }else{\n            column = cell.getColumn()._getSelf();\n        }\n\n        if(column){\n            data.forEach(function(row){\n                var val = column.getFieldValue(row);\n\n                if(val !== null && typeof val !== \"undefined\" && val !== \"\"){\n                    output[val] = true;\n                }\n            });\n\n            if(editorParams.sortValuesList){\n                if(editorParams.sortValuesList == \"asc\"){\n                    output = Object.keys(output).sort();\n                }else{\n                    output = Object.keys(output).sort().reverse();\n                }\n            }else{\n                output = Object.keys(output);\n            }\n        }else{\n            console.warn(\"unable to find matching column to create autocomplete lookup list:\", field);\n        }\n\n\n        return output;\n    }\n\n    function filterList(term, intialLoad){\n        var matches = [],\n        values, items, searchEl;\n\n        //lookup base values list\n        if(uniqueColumnValues){\n            values = uniqueColumnValues;\n        }else{\n            values = editorParams.values || [];\n        }\n\n        if(editorParams.searchFunc){\n            matches = editorParams.searchFunc(term, values);\n\n            if(matches instanceof Promise){\n\n                addNotice(typeof editorParams.searchingPlaceholder !== \"undefined\" ? editorParams.searchingPlaceholder : \"Searching...\");\n\n                matches.then((result) => {\n                    fillListIfNotEmpty(parseItems(result), intialLoad);\n                }).catch((err) => {\n                    console.err(\"error in autocomplete search promise:\", err);\n                });\n\n            }else{\n                fillListIfNotEmpty(parseItems(matches), intialLoad);\n            }\n        }else{\n            items = parseItems(values);\n\n            if(term === \"\"){\n                if(editorParams.showListOnEmpty){\n                    matches = items;\n                }\n            }else{\n                items.forEach(function(item){\n                    if(item.value !== null || typeof item.value !== \"undefined\"){\n                        if(String(item.value).toLowerCase().indexOf(String(term).toLowerCase()) > -1 || String(item.title).toLowerCase().indexOf(String(term).toLowerCase()) > -1){\n                            matches.push(item);\n                        }\n                    }\n                });\n            }\n\n            fillListIfNotEmpty(matches, intialLoad);\n        }\n    }\n\n    function addNotice(notice){\n        var searchEl = document.createElement(\"div\");\n\n        clearList();\n\n        if(notice !== false){\n            searchEl.classList.add(\"tabulator-edit-select-list-notice\");\n            searchEl.tabIndex = 0;\n\n            if(notice instanceof Node){\n                searchEl.appendChild(notice);\n            }else{\n                searchEl.innerHTML = notice;\n            }\n\n            listEl.appendChild(searchEl);\n        }\n    }\n\n    function parseItems(inputValues){\n        var itemList = [];\n\n        if(Array.isArray(inputValues)){\n            inputValues.forEach(function(value){\n\n                var item = {};\n\n                if(typeof value === \"object\"){\n                    item.title = editorParams.listItemFormatter ? editorParams.listItemFormatter(value.value, value.label) : value.label;\n                    item.value = value.value;\n                }else{\n                    item.title = editorParams.listItemFormatter ? editorParams.listItemFormatter(value, value) : value;\n                    item.value = value;\n                }\n\n                itemList.push(item);\n            });\n        }else{\n            for(var key in inputValues){\n                var item = {\n                    title:editorParams.listItemFormatter ? editorParams.listItemFormatter(key, inputValues[key]) : inputValues[key],\n                    value:key,\n                };\n\n                itemList.push(item);\n            }\n        }\n\n        return itemList;\n    }\n\n    function clearList(){\n        while(listEl.firstChild) listEl.removeChild(listEl.firstChild);\n    }\n\n    function fillListIfNotEmpty(items, intialLoad){\n        if(items.length){\n            fillList(items, intialLoad);\n        }else{\n            if(editorParams.emptyPlaceholder){\n                addNotice(editorParams.emptyPlaceholder);\n            }\n        }\n    }\n\n    function fillList(items, intialLoad){\n        var current = false;\n\n        clearList();\n\n        displayItems = items;\n\n        displayItems.forEach(function(item){\n            var el = item.element;\n\n            if(!el){\n                el = document.createElement(\"div\");\n                el.classList.add(\"tabulator-edit-select-list-item\");\n                el.tabIndex = 0;\n                el.innerHTML = item.title;\n\n                el.addEventListener(\"click\", function(e){\n                    setCurrentItem(item);\n                    chooseItem();\n                });\n\n                el.addEventListener(\"mousedown\", function(e){\n                    blurable = false;\n\n                    setTimeout(function(){\n                        blurable = true;\n                    }, 10);\n                });\n\n                item.element = el;\n\n                if(intialLoad && item.value == initialValue){\n                    input.value = item.title;\n                    item.element.classList.add(\"active\");\n                    current = true;\n                }\n\n                if(item === currentItem){\n                    item.element.classList.add(\"active\");\n                    current = true;\n                }\n            }\n\n            listEl.appendChild(el);\n        });\n\n        if(!current){\n            setCurrentItem(false);\n        }\n    }\n\n    function isExactMatch(term){\n        var matches = [],\n        values, items, searchEl;\n\n        //lookup base values list\n        if(uniqueColumnValues){\n            values = uniqueColumnValues;\n        }else{\n            values = editorParams.values || [];\n        }\n\n        if(editorParams.searchFunc){\n            matches = editorParams.searchFunc(term, values);\n            // Not ready for Promises\n            if(matches instanceof Promise) {\n                return {status: false, match: \"\"};\n            }else{\n                ;\n            }\n        }else{\n            items = parseItems(values);\n\n            if(term === \"\"){\n                if(editorParams.showListOnEmpty){\n                    matches = items;\n                }\n            }else{\n                items.forEach(function(item){\n                    if(item.value !== null || typeof item.value !== \"undefined\"){\n                        if(String(item.value).toLowerCase().indexOf(String(term).toLowerCase()) > -1 || String(item.title).toLowerCase().indexOf(String(term).toLowerCase()) > -1){\n                            matches.push(item);\n                        }\n                    }\n                });\n            }\n        }\n        if (matches.length === 1) {\n            return {status: true, match: matches[0].value}\n        } else {\n            return {status: false, match: \"\"};\n        }\n    }\n\n    function chooseItem(){\n        hideList();\n        console.log(\"chooseitem single\");\n        if(currentItem){\n            if(initialValue !== currentItem.value){\n                initialValue = currentItem.value;\n                input.value = currentItem.title;\n                success(currentItem.value);\n            }else{\n                cancel();\n            }\n        }else{\n            if(editorParams.freetext){\n                initialValue = input.value;\n                success(input.value);\n            }else{\n                if(editorParams.allowEmpty && input.value === \"\"){\n                    initialValue = input.value;\n                    success(input.value);\n                } else{\n                    let { status, match } = isExactMatch (input.value);\n                    if (status) {\n                        if (initialValue !== match) {\n                            console.log(\"Calling success now... ; single\");\n                            success(match);\n                        } else  {\n                            console.log(\"Calling cancel..; single\");\n                            cancel();\n                        }\n                    } else {\n                        console.log(\"Calling cancel now...; single\");\n                        cancel();\n                    }\n                }\n            }\n        }\n    }\n    // Jayaram:\n\tfunction elOffset(el) {\n\t\tvar box = el.getBoundingClientRect();\n\n\t\treturn {\n\t\t\ttop: box.top + window.pageYOffset - document.documentElement.clientTop,\n\t\t\tleft: box.left + window.pageXOffset - document.documentElement.clientLeft\n\t\t};\n\t}\n\n    function showList(){\n        if(!listEl.parentNode){\n            while(listEl.firstChild) listEl.removeChild(listEl.firstChild);\n\n            // Jayaram:\n            //var offset = Tabulator.prototype.helpers.elOffset(cellEl);\n            var offset = elOffset(cellEl);\n\n            listEl.style.minWidth = cellEl.offsetWidth + \"px\";\n\n            listEl.style.top = (offset.top + cellEl.offsetHeight) + \"px\";\n            listEl.style.left = offset.left + \"px\";\n            document.body.appendChild(listEl);\n        }\n    }\n\n    function setCurrentItem(item, showInputValue){\n        if(currentItem && currentItem.element){\n            currentItem.element.classList.remove(\"active\");\n        }\n\n        currentItem = item;\n\n        if(item && item.element){\n            item.element.classList.add(\"active\");\n        }\n    }\n\n    function hideList(){\n        if(listEl.parentNode){\n            listEl.parentNode.removeChild(listEl);\n        }\n\n        removeScrollListener();\n    }\n\n\n    function cancelItem(){\n        hideList();\n        cancel();\n    }\n\n    function removeScrollListener() {\n        self.table.rowManager.element.removeEventListener(\"scroll\", cancelItem);\n    }\n\n    //allow key based navigation\n    input.addEventListener(\"keydown\", function(e){\n        var index;\n\n        switch(e.keyCode){\n            case 38: //up arrow\n            index = displayItems.indexOf(currentItem);\n\n            if(vertNav == \"editor\" || (vertNav == \"hybrid\" && index)){\n                e.stopImmediatePropagation();\n                e.stopPropagation();\n                e.preventDefault();\n\n                if(index > 0){\n                    setCurrentItem(displayItems[index - 1]);\n                }else{\n                    setCurrentItem(false);\n                }\n            }\n            break;\n\n            case 40: //down arrow\n\n            index = displayItems.indexOf(currentItem);\n\n            if(vertNav == \"editor\" || (vertNav == \"hybrid\" && index < displayItems.length - 1)){\n\n                e.stopImmediatePropagation();\n                e.stopPropagation();\n                e.preventDefault();\n\n                if(index < displayItems.length - 1){\n                    if(index == -1){\n                        setCurrentItem(displayItems[0]);\n                    }else{\n                        setCurrentItem(displayItems[index + 1]);\n                    }\n                }\n            }\n            break;\n\n\n            case 37: //left arrow\n            case 39: //right arrow\n            e.stopImmediatePropagation();\n            e.stopPropagation();\n            // e.preventDefault();\n            break;\n\n            case 13: //enter\n            chooseItem();\n            break;\n\n            case 27: //escape\n            cancelItem();\n            break;\n\n            case 36: //home\n            case 35: //end\n            //prevent table navigation while using input element\n            e.stopImmediatePropagation();\n            break;\n        }\n    });\n\n    input.addEventListener(\"keyup\", function(e){\n\n        switch(e.keyCode){\n            case 38: //up arrow\n            case 37: //left arrow\n            case 39: //up arrow\n            case 40: //right arrow\n            case 13: //enter\n            case 27: //escape\n            break;\n\n            default:\n            filterList(input.value);\n        }\n\n    });\n\n    input.addEventListener(\"search\", function(e){\n        filterList(input.value);\n    });\n\n    input.addEventListener(\"blur\", function(e){\n        if(blurable){\n            chooseItem();\n        }\n    });\n\n    input.addEventListener(\"focus\", function(e){\n        var value = initialDisplayValue;\n        genUniqueColumnValues();\n        showList();\n        input.value = value;\n        filterList(value, true);\n    });\n\n\n    onRendered(function(){\n        input.style.height = \"100%\";\n        input.focus({preventScroll: true});\n    });\n\n    if(editorParams.mask){\n        this.table.modules.edit.maskInput(input, editorParams);\n    }\n\n    setTimeout(() => {\n        this.table.rowManager.element.addEventListener(\"scroll\", cancelItem);\n    }, 10);\n\n    genUniqueColumnValues();\n    input.value = initialDisplayValue;\n    filterList(initialDisplayValue, true);\n\n    return input;\n}\n\nexport default MySingleAutoCompleter;","import ModalEditor from './ModalEditor';\nconst React = require('react');\nconst ReactDOM = require('react-dom');\n\nfunction MyCodeMirror(cell, onRendered, success, cancel, editorParams, ctrlKey) {\n    var self = this,\n        cellValue = cell.getValue(),\n        vertNav = editorParams.verticalNavigation || \"hybrid\",\n        value = String(cellValue !== null && typeof cellValue !== \"undefined\" ? cellValue : \"\"),\n        count = (value.match(/(?:\\r\\n|\\r|\\n)/g) || []).length + 1,\n        input = document.createElement(\"textarea\"),\n        scrollHeight = 0;\n    var editor;\n\n    //create and style input\n    input.style.display = \"block\";\n    input.style.padding = \"2px\";\n    input.style.height = \"50%\";\n    input.style.width = \"100%\";\n    input.style.boxSizing = \"border-box\";\n    input.style.whiteSpace = \"pre-wrap\";\n    input.style.resize = \"none\";\n\n    if (editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\") {\n        for (let key in editorParams.elementAttributes) {\n            if (key.charAt(0) == \"+\") {\n                key = key.slice(1);\n                input.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n            } else {\n                input.setAttribute(key, editorParams.elementAttributes[key]);\n            }\n        }\n    }\n\n    if (!value) value = \"\";\n    input.value = value;\n\n    if (ctrlKey) {\n        let cellWidth = cell._cell.element.style.width;    \n        let div = document.createElement(\"div\");\n        document.body.appendChild(div);\n        let cmRef = {};\n        const PopupContent = () => {\n            return (\n                <ModalEditor show={true} \n                    title={\"Edit\"} text={value} onClose={clear} editorParams={editorParams}\n                    cancel={\"Cancel\"} ok={\"Done\"} cmRef={cmRef} width={cellWidth}>\n                </ModalEditor>\n            );\n        };\n        \n        const clear = (ok, value) => {\n            ReactDOM.unmountComponentAtNode(div);\n            div.remove();\n            if (ok && (input.value != value)) {\n                success(value);\n                cellValue = value;\n            } else {\n                cancel();\n            }\n        }\n        ReactDOM.render(<PopupContent/>, div);\n    }\n\n\n    /*\n    var editor = window.CodeMirror(document.body, {\n        lineNumbers: true\n      });    */\n      /*\n    var editor = window.CodeMirror.fromTextArea(input, {\n        lineNumbers: true\n      });\n    */\n   onRendered(function () {\n        if (!ctrlKey) {\n            input.focus({\n                preventScroll: true\n            });\n        }\n        input.style.height = \"100%\";\n        window.CodeMirrorSpellChecker({\n            codeMirrorInstance: window.CodeMirror,\n        });        \n        editor = window.CodeMirror.fromTextArea(input, {\n            lineNumbers: true,\n            lineWrapping: true,\n            mode: \"spell-checker\",\n\t        backdrop: \"markdown\",\n            highlightFormatting: true\n          });\n        window.inlineAttachment.editors.codemirror4.attach(editor, {\n            uploadUrl: '/uploadAttachments', \n            urlText: '<img src=\"{filename}\" alt=\"{filename}\" width=\"100%\" height=\"100%\"/>', fileUrlText: '[{filename}]({filename})',\n            allowedTypes: '*',\n            extraParams: {\n                dsName: editorParams.dsName\n            }\n        });\n\n        let initialHeight = cell._cell.element.style.height;\n        initialHeight = initialHeight.replace('px', '');\n        initialHeight = parseInt(initialHeight);\n\n        let vh = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);\n        if (vh > 0) {\n            // Deduct some for browser header. \n            vh = vh - 70;\n        }\n        // Ensure the initialHeight is not more than the view port height. \n        // codemirror has an issue if this is the case. \n        initialHeight = Math.min(vh, initialHeight);\n\n        /*let h;\n        if (editor.getDoc().lineCount() === 1)\n            h = 25;\n        else \n            h = (editor.getDoc().lineCount() + 1) * 18;\n        */\n        cell._cell.setHeightSpecial(initialHeight);\n        cell.getRow().normalizeHeight();\n        editor.scrollIntoView({line: editor.getDoc().lineCount() - 1, ch: 0}, 50)\n        editor.getDoc().setCursor({line: editor.getDoc().lineCount() - 1, ch:0});\n        editor.refresh();\n        editor.on(\"keyup\", function (cm, e) {\n            if (true) {\n                //console.log(\"current input height:\", input.style.height);\n                //console.log(\"cell element: \", cell._cell.element);\n                //console.log(\"current input scroll height: \", input.scrollHeight);\n                //console.log(\"current input offsetheight: \", input.offsetHeight);\n                let h = cell._cell.element.style.height;\n                //console.log('h:', h);\n                //h = h.replace('px', '');\n                //h = parseInt(h) + 25;\n                if (editor.getDoc().lineCount() === 1)\n                    h = 25;\n                else \n                    h = (editor.getDoc().lineCount() + 1) * 18;\n                if (h > vh) h = vh;\n                cell._cell.setHeightSpecial(Math.max(h, initialHeight));\n                cell.getRow().normalizeHeight();\n                // refresh() was jarring the view sometimes. The scrollIntoView\n                // seems to be much more smoother. \n                editor.scrollIntoView();\n                //editor.refresh();\n            }\n            return;\n        });\n        editor.on(\"keydown\", function (cm, e) {\n            let pos = cm.getCursor();\n            switch (e.keyCode) {\n                case 13:\n                    if (e.ctrlKey) {\n                        onChange(e);\n                    }\n                    break;\n                case 27:\n                    cancel();\n                    break;    \n                case 38: //up arrow\n                    if (vertNav == \"editor\" || (vertNav == \"hybrid\" && (pos.line !== 0 || pos.ch !== 0) )) {\n                        e.stopImmediatePropagation();\n                        e.stopPropagation();\n                    }\n                    break;\n                case 40: //down arrow\n                    if (vertNav == \"editor\" || (vertNav == \"hybrid\" && pos.outside !== 1)) {\n                        e.stopImmediatePropagation();\n                        e.stopPropagation();\n                    }\n                    break;\n                default:\n                    e.stopImmediatePropagation();\n                    e.stopPropagation();        \n                    break;    \n            }\n        });\n        editor.on(\"blur\", function (e) {\n            if (!cell.mouseDownDate) cell.mouseDownDate = 0;\n            //console.log(\"Blur event. Date, mousedowndate: \", Date.now(), cell.mouseDownDate);\n            //console.log(\"Blur event diff: \", Date.now() - cell.mouseDownDate);\n            if (Date.now() - cell.mouseDownDate > 50) {\n                onChange(e);\n            }\n        });\n        /*\n        window.addEventListener(\"mousedown\", onChange); */\n\n        cell.getElement().addEventListener(\"mousedown\", function (e) {\n            cell.mouseDownDate = Date.now();\n            //console.log(\"mousedown element...: \", cell.mouseDownDate);\n            e.stopImmediatePropagation();\n            e.stopPropagation();\n        }) /*\n        editor.on(\"mousedown\", function (cm, e) {\n            cell.mouseDownDate = Date.now();\n            //console.log(\"mousedown editor: \", cell.mouseDownDate);\n            e.stopImmediatePropagation();\n            e.stopPropagation();\n        }) */\n        \n    });\n\n    function onChange(e) {\n        if (!editor) return;\n        let curValue = editor.getValue();\n        if (((cellValue === null || typeof cellValue === \"undefined\") && curValue !== \"\") || curValue !== cellValue) {\n            if (success(curValue)) {\n                cellValue = curValue; //persist value if successfully validated incase editor is used as header filter\n            }\n            /*\n            setTimeout(function () {\n                cell.getRow().normalizeHeight();\n            }, 300)\n            */\n        } else {\n            cancel();\n        }\n    }\n\n    //submit new value on blur or change\n    //input.addEventListener(\"change\", onChange);\n    //input.addEventListener(\"blur\", onChange);\n    //window.addEventListener(\"mousedown\", onChange);\n    //input.addEventListener(\"mousedown\", function (e) {\n    //    e.stopPropagation();\n    //})\n\n    /*\n    input.addEventListener(\"keyup\", function () {\n        console.log(\"keyup...\");\n        // Jayaram: 8/23 change, only set height if it is different in the\n        // below block. \n        //input.style.height = \"\";\n\n        var heightNow = input.scrollHeight;\n\n        input.style.height = heightNow + \"px\";\n\n        if (!scrollHeight) scrollHeight = heightNow;\n        if (heightNow != scrollHeight) {\n            console.log(\"ScrollHeight, heightNow\", scrollHeight, heightNow);\n            input.style.height = heightNow + \"px\";\n            scrollHeight = heightNow;\n            cell.getRow().normalizeHeight();\n        }\n    });\n\n\n    input.addEventListener(\"keydown\", function (e) {\n        console.log(\"Keydown here\")\n        switch (e.keyCode) {\n            case 27:\n                cancel();\n                break;\n\n            // Jayaram: Copied from 'textarea' handling within the source. \n            // Added the below keycodes (Home/End: 35/36) to not leave the editor. \n            case 33:\n            case 34:\n                //e.stopImmediatePropagation();\n                //e.stopPropagation();\n                e.preventDefault();\n                const cursorPosition = e.key === 'PageUp' ? 0 : e.target.textLength;\n                e.target.setSelectionRange(cursorPosition, cursorPosition);\n                // Intentional that break is commented here. To make sure you don't leave\n                // editing when you press pgup/pgdown. \n                //break;\n            case 35:\n            case 36:\n                e.stopImmediatePropagation();\n                e.stopPropagation();\n                break;\n\n            case 38: //up arrow\n            e.stopImmediatePropagation();\n            e.stopPropagation();\n                break;\n\n            case 40: //down arrow\n                e.stopImmediatePropagation();\n                e.stopPropagation();\n                break;\n            default:\n                break;\n\n        }\n    }); */\n\n    if (editorParams.mask) {\n        this.table.modules.edit.maskInput(input, editorParams);\n    }\n\n    return input;\n}\n\nexport default MyCodeMirror;","import React, { Component, useState } from \"react\";\nimport Select from 'react-select'\nimport CreatableSelect from 'react-select/creatable';\nimport { Button, Col, Row, Container, FormControl, DropdownButton, Dropdown } from \"react-bootstrap\";\nimport Form from 'react-bootstrap/Form'\n\nclass JiraForm extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            formData: {\n                ...this.props.formData\n            },\n        }\n        this.projectsMetaData = null\n        this.projects = []\n        this.projectName = null\n        this.fields = null\n        this.fieldsKey = null\n        this.allowedValues = {}\n    }\n\n    componentDidMount() {\n        this.projectsMetaData = this.props.projectsMetaData\n        for (let i = 0; i < this.projectsMetaData.issuetypes.length; i++) {\n            if (this.projectsMetaData.issuetypes[i].name === this.state.formData.Type) {\n                this.fields = this.projectsMetaData.issuetypes[i].fields\n                this.fieldsKey = Object.keys(this.fields)\n                for (let j = 0; j < this.fieldsKey.length; j++) {\n                    if ((this.fields[this.fieldsKey[j]].type === \"array\" || this.fields[this.fieldsKey[j]].type === \"creatableArray\") && this.fields[this.fieldsKey[j]].allowedValues) {\n                        this.allowedValues[this.fieldsKey[j]] = []\n                        for (let k = 0; k < this.fields[this.fieldsKey[j]].allowedValues.length; k++) {\n                            let currVal = this.fields[this.fieldsKey[j]].allowedValues[k]\n                            let obj = {};\n                            obj.label = currVal\n                            obj.value = currVal\n                            this.allowedValues[this.fieldsKey[j]].push(obj)\n                        }\n                    } else if (this.fields[this.fieldsKey[j]].type === \"searchableOption\" && this.fields[this.fieldsKey[j]].allowedValues) {\n                        this.allowedValues[this.fieldsKey[j]] = []\n                        for (let k = 0; k < this.fields[this.fieldsKey[j]].allowedValues.length; k++) {\n                            let currVal = this.fields[this.fieldsKey[j]].allowedValues[k]\n                            let obj = {};\n                            obj.value = currVal.key\n                            obj.label = `${currVal.key} - ${currVal.summary}`\n                            this.allowedValues[this.fieldsKey[j]].push(obj)\n                        }\n                    }\n                }\n                break\n            }\n        }\n        let obj = {};\n        obj[\"Project\"] = this.projectsMetaData.key\n        this.props.handleChange(obj)\n        this.setState({\n            ...this.state,\n            formData: {\n                ...this.state.formData,\n                Project: this.projectsMetaData.key\n            }\n        })\n    }\n\n    handleChange = (event) => {\n        if (event.target.name == \"Project\") {\n            this.projectName = event.target.value\n        } else if (event.target.name == \"Type\") {\n            for (let i = 0; i < this.projectsMetaData.issuetypes.length; i++) {\n                if (this.projectsMetaData.issuetypes[i].name === event.target.value) {\n                    this.fields = this.projectsMetaData.issuetypes[i].fields\n                    this.fieldsKey = Object.keys(this.fields)\n                    for (let j = 0; j < this.fieldsKey.length; j++) {\n                        if ((this.fields[this.fieldsKey[j]].type === \"array\" || this.fields[this.fieldsKey[j]].type === \"creatableArray\") && this.fields[this.fieldsKey[j]].allowedValues) {\n                            this.allowedValues[this.fieldsKey[j]] = []\n                            for (let k = 0; k < this.fields[this.fieldsKey[j]].allowedValues.length; k++) {\n                                let currVal = this.fields[this.fieldsKey[j]].allowedValues[k]\n                                let obj = {};\n                                obj.label = currVal\n                                obj.value = currVal\n                                this.allowedValues[this.fieldsKey[j]].push(obj)\n                            }\n                        } else if (this.fields[this.fieldsKey[j]].type === \"searchableOption\" && this.fields[this.fieldsKey[j]].allowedValues) {\n                            this.allowedValues[this.fieldsKey[j]] = []\n                            for (let k = 0; k < this.fields[this.fieldsKey[j]].allowedValues.length; k++) {\n                                let currVal = this.fields[this.fieldsKey[j]].allowedValues[k]\n                                let obj = {};\n                                obj.value = currVal.key\n                                obj.label = `${currVal.key} - ${currVal.summary}`\n                                this.allowedValues[this.fieldsKey[j]].push(obj)\n                            }\n                        }\n                    }\n                    break\n                }\n            }\n        }     \n        let obj = {}\n        obj[event.target.name] = event.target.value;\n        this.props.handleChange(obj)\n        if (event.target.name == \"Project\" || event.target.name == \"JIRA_AGILE_LABEL\" || event.target.name == \"Type\" || event.target.name == \"summary\" || event.target.name == \"description\") {\n            this.setState({\n                ...this.state,\n                formData: {\n                    ...this.state.formData,\n                    [event.target.name]: event.target.value\n                }\n            })\n        } else {\n            this.setState({\n                ...this.state,\n                formData: {\n                    ...this.state.formData,\n                    [this.state.formData.Type]: {\n                        ...this.state.formData[this.state.formData.Type],\n                        [event.target.name]: event.target.value\n                    }\n                }\n            })\n        }\n    };\n\n    handleMultiChange = (e, b, c, d) => {\n        let values = []\n        if (e) {\n            for (let i = 0; i < e.length; i++) {\n                values.push(e[i].value)\n            }\n        }\n        let obj = {};\n        obj[b.name] = values;\n        this.props.handleChange(obj)\n        this.setState({\n            ...this.state,\n            formData: {\n                ...this.state.formData,\n                [b.name]: values\n            }\n        })\n    }\n\n    handleCreate = (option, event) => {\n        try {\n            const newOption = { label: option.label, value: option.value };\n            this.allowedValues[event.name].push(newOption);\n            let obj = {}\n            obj[event.name] = option.value;\n            this.props.handleChange(obj)\n            this.setState({\n                ...this.state,\n                formData: {\n                    ...this.state.formData,\n                    [this.state.formData.Type]: {\n                        ...this.state.formData[this.state.formData.Type],\n                        [event.name]: option.value\n                    }\n                }\n            })\n        } catch (e) { }\n    };\n\n    handleSelectChange = (selectedOption, event) => {\n        let obj = {}\n        let selectedValue = \"\"\n        if (event.action == \"clear\") {\n            selectedValue = \"\"\n        } else if (event.action == \"create-option\") {\n            this.handleCreate(selectedOption, event)\n            return\n        } else if (event.action == \"select-option\") {\n            selectedValue = selectedOption.value;\n        }\n        obj[event.name] = selectedValue\n        this.props.handleChange(obj)\n        this.setState({\n            ...this.state,\n            formData: {\n                ...this.state.formData,\n                [this.state.formData.Type]: {\n                    ...this.state.formData[this.state.formData.Type],\n                    [event.name]: selectedValue\n                }\n            }\n        })\n    };\n\n    render() {\n    return (\n        <Container>\n            <Row className=\"justify-content-md-center\">\n                <Col sm={12}>\n                    <Form style={{ display: \"flex\", flexDirection: \"column\" }}>\n                        <Form.Group controlId=\"formProject\" style={{ marginBottom: \"10px\" }}>\n                            <Form.Row>\n                                <Form.Label column sm=\"4\">Project:</Form.Label>\n                                <Col sm=\"8\">\n                                    <Form.Control\n                                        as=\"select\"\n                                        name=\"Project\"\n                                        value={this.state.formData.Project}\n                                        onChange={this.handleChange}\n                                    >\n                                        <option key={this.props.projectsMetaData.key} value={`${this.props.projectsMetaData.key}`}>{this.props.projectsMetaData.key}</option>\n\n                                    </Form.Control>\n                                </Col>\n                            </Form.Row>\n                        </Form.Group>\n                        {this.props.jiraAgileEnabled && (\n                            <Form.Group controlId=\"formJIRA_AGILE_LABEL\" style={{ marginBottom: \"10px\" }}>\n                                <Form.Row>\n                                    <Form.Label column sm=\"4\">JIRA AGILE LABEL:</Form.Label>\n                                    <Col sm=\"8\">\n                                        <Form.Control\n                                            as=\"select\"\n                                            name=\"JIRA_AGILE_LABEL\"\n                                            value={this.state.formData.JIRA_AGILE_LABEL}\n                                            onChange={this.handleChange}\n                                        >\n                                            <option key={\"None\"} value=\"None\">None</option>\n                                            {this.props.jiraAgileBoard && <option key={this.props.jiraAgileBoard} value={`${this.props.jiraAgileBoard}`}>{this.props.jiraAgileBoard}</option>}\n                                        </Form.Control>\n                                    </Col>\n                                </Form.Row>\n                            </Form.Group>\n                        )}\n                        <Form.Group controlId=\"formType\" style={{ marginBottom: \"10px\" }}>\n                            <Form.Row>\n                                <Form.Label column sm=\"4\">Type:</Form.Label>\n                                <Col sm=\"8\">\n                                    <Form.Control\n                                        as=\"select\"\n                                        name=\"Type\"\n                                        value={this.state.formData.Type}\n                                        onChange={this.handleChange}\n                                    >\n                                        {this.props.jiraAgileEnabled && (<option key={\"Epic\"} value=\"Epic\">Epic</option>)}\n                                        {this.props.jiraAgileEnabled && (<option key={\"Story\"} value=\"Story\">Story</option>)}\n                                        {this.props.jiraAgileEnabled && (<option key={\"Story Task\"} value=\"Story Task\">Story Task</option>)}\n                                        {this.props.jiraEnabled && (<option key={\"Bug\"} value=\"Bug\">Bug</option>)}\n                                    </Form.Control>\n                                </Col>\n                            </Form.Row>\n                        </Form.Group>\n                        {this.state.formData.Type != \"\" && this.fieldsKey && this.fieldsKey.map((key) =>\n                        (\n                            <Form.Group key={`form${key}`} controlId={`form${key}`} style={{ marginBottom: \"10px\" }}>\n                                <Form.Row>\n                                    <Form.Label column sm=\"4\">{this.fields[key].name}:</Form.Label>\n                                    <Col sm=\"8\">\n                                        {key === \"issuelinks\" && <Form.Control\n                                            as=\"textarea\"\n                                            rows=\"1\"\n                                            name={`${key}`}\n                                            value={this.state.formData[this.state.formData.Type][key]}\n                                            onChange={this.handleChange}\n                                        />}\n                                        {key === \"customfield_25578\" && <Form.Control\n                                            as=\"textarea\"\n                                            rows=\"1\"\n                                            name={`${key}`}\n                                            value={this.state.formData[this.state.formData.Type][key]}\n                                            onChange={this.handleChange}\n                                        />}\n                                        {key === \"customfield_28101\" && <Form.Control\n                                            as=\"textarea\"\n                                            rows=\"1\"\n                                            name={`${key}`}\n                                            value={this.state.formData[this.state.formData.Type][key]}\n                                            onChange={this.handleChange}\n                                        />}\n                                        {key === \"customfield_28102\" && <Form.Control\n                                            as=\"textarea\"\n                                            rows=\"1\"\n                                            name={`${key}`}\n                                            value={this.state.formData[this.state.formData.Type][key]}\n                                            onChange={this.handleChange}\n                                        />}\n                                        {key === \"description\" && <Form.Control\n                                            as=\"textarea\"\n                                            rows=\"6\"\n                                            name={`${key}`}\n                                            value={this.state.formData[key]}\n                                            onChange={this.handleChange}\n                                        />}\n                                        {key === \"summary\" && <Form.Control\n                                            as=\"textarea\"\n                                            rows=\"1\"\n                                            name={`${key}`}\n                                            value={this.state.formData[key]}\n                                            onChange={this.handleChange}\n                                        />}\n                                        {this.fields[key].type === \"string\" && key !== \"description\" && key !== \"summary\" && <Form.Control\n                                            as=\"textarea\"\n                                            rows=\"1\"\n                                            name={`${key}`}\n                                            value={this.state.formData[this.state.formData.Type][key]}\n                                            onChange={this.handleChange}\n                                        />}\n                                        {this.fields[key].type === \"option\" && <Form.Control\n                                            as=\"select\"\n                                            name={`${key}`}\n                                            value={this.state.formData[this.state.formData.Type][key]}\n                                            onChange={this.handleChange}\n                                        >\n                                            {this.fields[key].allowedValues && this.fields[key].allowedValues.map((value) => <option key={value} value={`${value}`}>{value}</option>)}\n                                        </Form.Control>\n                                        }\n                                        {this.fields[key].type === \"number\" && <Form.Control\n                                            type=\"number\"\n                                            name={`${key}`}\n                                            value={this.state.formData[this.state.formData.Type][key]}\n                                            onChange={this.handleChange}\n                                        />\n                                        }\n                                        {this.fields[key].type === \"priority\" && <Form.Control\n                                            as=\"select\"\n                                            name={`${key}`}\n                                            value={this.state.formData[this.state.formData.Type][key]}\n                                            onChange={this.handleChange}\n                                        >\n                                            {this.fields[key].allowedValues && this.fields[key].allowedValues.map((value) => <option key={value} value={`${value}`}>{value}</option>)}\n                                        </Form.Control>\n                                        }\n                                        {\n                                            this.fields[key].type === \"array\" && this.allowedValues[key] &&\n                                            <Select\n                                                onChange={this.handleMultiChange}\n                                                defaultValue={this.state.formData[this.state.formData.Type][key].map((entry) => {\n                                                    return { label: entry, value: entry }\n                                                })}\n                                                isMulti\n                                                name={`${key}`}\n                                                options={this.allowedValues[key]}\n                                                className=\"basic-multi-select\"\n                                                classNamePrefix=\"select\"\n                                            />\n                                        }\n                                        {\n                                            this.fields[key].type === \"creatableArray\" && this.allowedValues[key] &&\n                                            <div key={`${this.state.formData[this.state.formData.Type][key]}`}>\n                                                <CreatableSelect\n                                                    defaultValue={(this.state.formData[this.state.formData.Type][key] != \"\") ? ({ label: this.state.formData[this.state.formData.Type][key], value: this.state.formData[this.state.formData.Type][key] }) : null}\n                                                    isClearable\n                                                    name={`${key}`}\n                                                    options={this.allowedValues[key]}\n                                                    onChange={this.handleSelectChange}\n                                                    placeholder=\"Type to search or add a new option...\"\n                                                />\n                                            </div>\n                                        }\n                                        {\n                                            this.fields[key].type === \"searchableOption\" && this.allowedValues[key] &&\n                                            <div key={`${this.state.formData[this.state.formData.Type][key]}`}>\n                                                <Select\n                                                    defaultValue={(this.state.formData[this.state.formData.Type][key] != \"\") ? ({ label: this.state.formData[this.state.formData.Type][key], value: this.state.formData[this.state.formData.Type][key] }) : null}\n                                                    isClearable\n                                                    isSearchable\n                                                    name={`${key}`}\n                                                    options={this.allowedValues[key]}\n                                                    onChange={this.handleSelectChange}\n                                                    placeholder=\"Type to search or add a new option...\"\n                                                />\n                                            </div>\n                                        }\n                                    </Col>\n                                </Form.Row>\n                            </Form.Group>\n                        )\n                        )}\n                    </Form>\n                </Col>\n            </Row>\n        </Container>\n    )\n    }\n}   \n\nexport default JiraForm;","import { authHeader } from '../helpers'\nconst FileSaver = require('file-saver');\n\nexport const dsService = {\n    loadColumnsForUserView,\n    editSingleAttribute,\n    insertOneDoc,\n    downloadXlsx,\n    getDsList, \n    getFilteredDsList,\n    deleteDs,\n    deleteOneDoc,\n    deleteManyDocs,\n    setViewDefinitions,\n    refreshJira,\n    addFilter,\n    editFilter,\n    deleteFilter,\n    doBulkEditRequest,\n    getProjectsMetaData,\n    getDefaultTypeFieldsAndValues,\n    convertToJira,\n    addJiraRow\n};\n\nconst config = {};\nif (process.env.NODE_ENV === 'development') {\n    config.apiUrl = \"http://in-mvlb52:8887\"\n    config.apiUrl = \"http://localhost:8887\"\n} else {\n    config.apiUrl = \"\"\n}\n\n\nasync function loadColumnsForUserView(dsName, dsView, dsUser) {\n    try {\n        console.log(\"Starting API call: \", dsName, dsView, dsUser);\n        let response = await fetch(`${config.apiUrl}/ds/view/columns/${dsName}/${dsView}/${dsUser}`, {\n            method: \"get\",\n            headers: new Headers({\n                ...authHeader()\n            }),\n            credentials: \"include\"\n        });\n        let responseJson = null;\n        console.log(\"Finished fetch\")\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('loadColumnsForUserView: ', responseJson);\n        }\n        return responseJson;\n    } catch(e) {\n        console.log(e);\n    }\n}\n\nasync function editSingleAttribute (body) {\n    try {\n        console.log(\"Starting API call: \", body);\n        let dataLen = JSON.stringify(body).length.toString();\n        let response = await fetch(`${config.apiUrl}/ds/view/editSingleAttribute`, {\n            method: \"post\",\n            body: JSON.stringify(body),\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Content-Length\": dataLen,\n                ...authHeader()\n            },\n            credentials: \"include\"  \n        });\n        let responseJson = null;\n        console.log(\"Finished API\")\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('editSingleAttribute: ', responseJson);\n        }\n        return responseJson;\n    } catch(e) {\n        console.log(e);\n    }\n}\n\nasync function insertOneDoc (body) {\n    try {\n        console.log(\"Starting API call: \", body);\n        let dataLen = JSON.stringify(body).length.toString();\n        let response = await fetch(`${config.apiUrl}/ds/view/insertOneDoc`, {\n            method: \"post\",\n            body: JSON.stringify(body),\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Content-Length\": dataLen,\n                ...authHeader()\n            },\n            credentials: \"include\"  \n        });\n        let responseJson = null;\n        console.log(\"Finished API\")\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('insertOneDoc: ', responseJson);\n        }\n        return responseJson;\n    } catch(e) {\n        console.log(e);\n    }\n}\n\nasync function downloadXlsx (dsName, dsView, dsUser) {\n    try {\n        console.log(\"Starting API call: \", dsName, dsView, dsUser);\n        let response = await fetch(`${config.apiUrl}/ds/downloadXlsx/${dsName}/${dsView}/${dsUser}`, {\n            method: \"get\",\n            headers: new Headers({\n                ...authHeader()\n            }),\n            credentials: \"include\"\n        });\n        console.log(\"Finished fetch\")\n        if (response.ok) {\n            let json = await response.json();\n            if (json.output !== \"\") {\n                let fileName = `export_${dsName}_${dsView}_${dsUser}.xlsx`;\n                var fc = new Buffer(json.output, 'base64');\n                let blob = new Blob([fc], { type: \"binary/octet-stream\" });\n                FileSaver.saveAs(blob, fileName);\n            } else {\n                console.log('downloadXlsx: file is empty');\n                throw new Error(\"downloadXlsx: file is empty\");\n            }\n        }\n    } catch(e) {\n        console.log(e);\n    }\n}\n\nasync function getDsList (dsUser) {\n    try {\n        console.log(\"Starting getDsList API call: \", dsUser);\n        let response = await fetch(`${config.apiUrl}/ds/dsList/${dsUser}`, {\n            method: \"get\",\n            credentials: \"include\",\n            headers: new Headers({\n                ...authHeader()\n            })\n        });\n        let responseJson = null;\n        console.log(\"Finished API\")\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('getDsList: ', responseJson);\n        }\n        return responseJson;\n    } catch(e) {\n        console.log(e);\n    }\n}\n\nasync function getFilteredDsList(body) {\n    try {\n        console.log(\"Starting getDsList API call: \", body.dsUser);\n        let dataLen = JSON.stringify(body).length.toString();\n        let response = await fetch(`${config.apiUrl}/ds/dsList/${body.dsUser}`, {\n            method: \"post\",\n            body: JSON.stringify(body),\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Content-Length\": dataLen,\n                ...authHeader()\n            },\n            credentials: \"include\"\n        });\n        let responseJson = null;\n        console.log(\"Finished API\")\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('getDsList: ', responseJson);\n        }\n        return responseJson;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nasync function deleteDs (body) {\n    try {\n        console.log(\"Starting deleteDs API call: \", body);\n        let dataLen = JSON.stringify(body).length.toString();\n        let response = await fetch(`${config.apiUrl}/ds/deleteDs`, {\n            method: \"post\",\n            body: JSON.stringify(body),\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Content-Length\": dataLen,\n                ...authHeader()\n            },\n            credentials: \"include\"   \n        });\n        let responseJson = null;\n        console.log(\"Finished API\")\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('deleteDs: ', responseJson);\n        }\n        return responseJson;\n    } catch(e) {\n        console.log(e);\n    }\n}\n\nasync function deleteOneDoc (body) {\n    try {\n        console.log(\"Starting API call: \", body);\n        let dataLen = JSON.stringify(body).length.toString();\n        let response = await fetch(`${config.apiUrl}/ds/view/deleteOneDoc`, {\n            method: \"post\",\n            body: JSON.stringify(body),\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Content-Length\": dataLen,\n                ...authHeader()\n            },\n            credentials: \"include\"   \n        });\n        let responseJson = null;\n        console.log(\"Finished API\")\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('deleteOneDoc: ', responseJson);\n        }\n        return responseJson;\n    } catch(e) {\n        console.log(e);\n    }\n}\n\nasync function deleteManyDocs (body) {\n    try {\n        console.log(\"Starting API call: \", body);\n        let dataLen = JSON.stringify(body).length.toString();\n        let response = await fetch(`${config.apiUrl}/ds/view/deleteManyDocs`, {\n            method: \"post\",\n            body: JSON.stringify(body),\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Content-Length\": dataLen,\n                ...authHeader()\n            },\n            credentials: \"include\"    \n        });\n        let responseJson = null;\n        console.log(\"Finished API\")\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('deleteManyDocs: ', responseJson);\n        }\n        return responseJson;\n    } catch(e) {\n        console.log(e);\n    }\n}\n\nasync function setViewDefinitions (body) {\n    try {\n        console.log(\"Starting API call: \", body);\n        let dataLen = JSON.stringify(body).length.toString();\n        let response = await fetch(`${config.apiUrl}/ds/view/setViewDefinitions`, {\n            method: \"post\",\n            body: JSON.stringify(body),\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Content-Length\": dataLen,\n                ...authHeader()\n            },\n            credentials: \"include\"     \n        });\n        let responseJson = null;\n        console.log(\"Finished API\")\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('setViewDefinition: ', responseJson);\n        }\n        return responseJson;\n    } catch(e) {\n        console.log(e);\n    }\n}\n\nasync function refreshJira (body) {\n    try {\n        console.log(\"Starting API call: \", body);\n        let dataLen = JSON.stringify(body).length.toString();\n        let response = await fetch(`${config.apiUrl}/ds/view/refreshJira`, {\n            method: \"post\",\n            body: JSON.stringify(body),\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Content-Length\": dataLen,\n                ...authHeader()\n            },\n            credentials: \"include\"     \n        });\n        let responseJson = null;\n        console.log(\"Finished API\")\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('refreshJira: ', responseJson);\n        }\n        return responseJson;\n    } catch(e) {\n        console.log(e);\n    }\n}\n\n\nasync function addFilter (body) {\n    try {\n        console.log(\"Starting API call: \", body);\n        let dataLen = JSON.stringify(body).length.toString();\n        let response = await fetch(`${config.apiUrl}/ds/view/addFilter`, {\n            method: \"post\",\n            body: JSON.stringify(body),\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Content-Length\": dataLen,\n                ...authHeader()\n            },\n            credentials: \"include\"    \n        });\n        let responseJson = null;\n        console.log(\"Finished API\")\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('addFilter: ', responseJson);\n        }\n        return responseJson;\n    } catch(e) {\n        console.log(e);\n    }\n}\n\n\nasync function editFilter (body) {\n    try {\n        console.log(\"Starting API call: \", body);\n        let dataLen = JSON.stringify(body).length.toString();\n        let response = await fetch(`${config.apiUrl}/ds/view/editFilter`, {\n            method: \"post\",\n            body: JSON.stringify(body),\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Content-Length\": dataLen,\n                ...authHeader()\n            },\n            credentials: \"include\"    \n        });\n        let responseJson = null;\n        console.log(\"Finished API\")\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('editFilter: ', responseJson);\n        }\n        return responseJson;\n    } catch(e) {\n        console.log(e);\n    }\n}\n\nasync function deleteFilter (body) {\n    try {\n        console.log(\"Starting API call: \", body);\n        let dataLen = JSON.stringify(body).length.toString();\n        let response = await fetch(`${config.apiUrl}/ds/view/deleteFilter`, {\n            method: \"post\",\n            body: JSON.stringify(body),\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Content-Length\": dataLen,\n                ...authHeader()\n            },\n            credentials: \"include\"     \n        });\n        let responseJson = null;\n        console.log(\"Finished API\")\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('deleteFilter: ', responseJson);\n        }\n        return responseJson;\n    } catch(e) {\n        console.log(e);\n    }\n}\n\n\nasync function doBulkEditRequest (body) {\n    try {\n        console.log(\"Starting API call: \", body);\n        let dataLen = JSON.stringify(body).length.toString();\n        let response = await fetch(`${config.apiUrl}/ds/doBulkEdit`, {\n            method: \"post\",\n            body: JSON.stringify(body),\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Content-Length\": dataLen,\n                ...authHeader()\n            },\n            credentials: \"include\"     \n        });\n        let responseJson = null;\n        console.log(\"Finished fetch\")\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('doBulkEditRequest: ', responseJson);\n        }\n        return responseJson;\n    } catch(e) {\n        console.log(e);\n    }\n}\n\nasync function getProjectsMetaData(body) {\n    try {\n        console.log(\"Starting getProjectsMetaData API call: \", body);\n        let dataLen = JSON.stringify(body).length.toString();\n        let response = await fetch(`${config.apiUrl}/ds/getProjectsMetadataForProject`, {\n            method: \"post\",\n            mode: 'cors',\n            cache: 'no-cache',\n            credentials: \"include\",\n            body: JSON.stringify(body),\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Content-Length\": dataLen,\n                ...authHeader()\n            }\n        });\n        let responseJson = null;\n        console.log(\"Finished API\")\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('projectsMetaData: ', responseJson);\n        }\n        return responseJson;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nasync function getDefaultTypeFieldsAndValues(body) {\n    try {\n        console.log(\"Starting getDefaultTypeFieldsAndValues API call: \", body);\n        let dataLen = JSON.stringify(body).length.toString();\n        let response = await fetch(`${config.apiUrl}/ds/getDefaultTypeFieldsAndValues`, {\n            method: \"post\",\n            mode: 'cors',\n            cache: 'no-cache',\n            credentials: \"include\",\n            body: JSON.stringify(body),\n            headers: new Headers(\n                {\n                    \"Content-Type\": \"application/json\",\n                    \"Content-Length\": dataLen,\n                    ...authHeader()\n                }\n            )\n        });\n        let responseJson = null;\n        console.log(\"Finished API\")\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('getDefaultTypeFieldsAndValues: ', responseJson);\n        }\n        return responseJson;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nasync function convertToJira(body) {\n    try {\n        console.log(\"Starting API call: \", body);\n        let dataLen = JSON.stringify(body).length.toString();\n        let response = await fetch(`${config.apiUrl}/ds/view/convertToJira`, {\n            method: \"post\",\n            body: JSON.stringify(body),\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Content-Length\": dataLen,\n                ...authHeader()\n            },\n            credentials: \"include\"\n        });\n        let responseJson = null;\n        console.log(\"Finished API\")\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('convertToJira: ', responseJson);\n        }\n        return responseJson;\n    } catch (e) {\n        console.log(e);\n    }\n}\n\nasync function addJiraRow(body) {\n    try {\n        console.log(\"Starting API call: \", body);\n        let dataLen = JSON.stringify(body).length.toString();\n        let response = await fetch(`${config.apiUrl}/ds/view/addJiraRow`, {\n            method: \"post\",\n            body: JSON.stringify(body),\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Content-Length\": dataLen,\n                ...authHeader()\n            },\n            credentials: \"include\"\n        });\n        let responseJson = null;\n        console.log(\"Finished API\")\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('addJiraRow: ', responseJson);\n        }\n        return responseJson;\n    } catch (e) {\n        console.log(e);\n    }\n}\n","import { dsConstants, allDsConstants } from '../constants';\nimport { dsService, uploadService } from '../services';\n\nexport const dsActions = {\n    loadColumnsForUserView,\n    clearViewDefs,\n    getProjectsMetaData,\n    getDefaultTypeFieldsAndValues,\n    editSingleAttribute,\n    insertOneDoc,\n    downloadXlsx, \n    getDsList,\n    getFilteredDsList,\n    deleteDs,\n    deleteOneDoc,\n    deleteManyDocs,\n    setViewDefinitions,\n    refreshJira,\n    addFilter,\n    editFilter,\n    deleteFilter, \n\n    clearBulkEditStore,\n    uploadBulkEditXlsFile,\n    setSelectedSheet,\n    loadHdrsFromRange,\n    doBulkEditRequest\n}\n\n\nfunction loadColumnsForUserView (dsName, dsView, dsUser) {\n    return async dispatch => {\n        try {\n            dispatch(request());\n            let responseJson = await dsService.loadColumnsForUserView(dsName, dsView, dsUser);\n            if (responseJson)\n                dispatch(success(responseJson));\n            else \n                dispatch(failure(\"loadColumnsForUserView failure\"));\n        } catch (error) {\n            dispatch(failure(\"loadColumnsForUserView failure\"));\n        }\n    }\n    function request() { return { type: dsConstants.LOAD_COLUMNS_REQUEST, dsName, dsView, dsUser } }\n    function success(columnsAndKeys) { return { type: dsConstants.LOAD_COLUMNS_SUCCESS, dsName, dsView, dsUser, columnsAndKeys } }\n    function failure(message) { return { type: dsConstants.LOAD_COLUMNS_FAILURE, dsName, dsView, dsUser, message } }\n}\n\nfunction clearViewDefs() {\n    return async dispatch => {\n        dispatch({ type: dsConstants.CLEAR_VIEW_DEFS_TRACER })\n    }\n}\n\nfunction getProjectsMetaData(dsName, dsView, dsUser) {\n    return async dispatch => {\n        try {\n            dispatch(request());\n            let responseJson = await dsService.getProjectsMetaData({ dsName, dsView, dsUser });\n            if (responseJson)\n                dispatch(success(responseJson));\n            else\n                dispatch(failure(\"getProjectsMetaData failure\"));\n        } catch (error) {\n            dispatch(failure(\"getProjectsMetaData failure\"));\n        }\n    }\n    function request() { return { type: dsConstants.GET_PROJECTS_METADATA_REQUEST, dsName, dsView, dsUser } }\n    function success(projectsMetaData) { return { type: dsConstants.GET_PROJECTS_METADATA_SUCCESS, dsName, dsView, dsUser, projectsMetaData } }\n    function failure(message) { return { type: dsConstants.GET_PROJECTS_METADATA_FAILURE, dsName, dsView, dsUser, message } }\n}\n\nfunction getDefaultTypeFieldsAndValues(dsName, dsView, dsUser) {\n    return async dispatch => {\n        try {\n            dispatch(request());\n            let responseJson = await dsService.getDefaultTypeFieldsAndValues({ dsName, dsView, dsUser });\n            if (responseJson)\n                dispatch(success(responseJson));\n            else\n                dispatch(failure(\"getDefaultTypeFieldsAndValues failure\"));\n        } catch (error) {\n            dispatch(failure(\"getDefaultTypeFieldsAndValues failure\"));\n        }\n    }\n    function request() { return { type: dsConstants.GET_DEFAULT_TYPE_FIELDS_VALUES_REQUEST, dsName, dsView, dsUser } }\n    function success(defaultTypeFieldsAndValues) { return { type: dsConstants.GET_DEFAULT_TYPE_FIELDS_VALUES_SUCCESS, dsName, dsView, dsUser, defaultTypeFieldsAndValues } }\n    function failure(message) { return { type: dsConstants.GET_DEFAULT_TYPE_FIELDS_VALUES_FAILURE, dsName, dsView, dsUser, message } }\n}\n\nfunction editSingleAttribute(dsName, dsView, dsUser, _id, column, oldVal, newVal, selectorObj, editObj, jiraConfig, jiraAgileConfig) {\n    return async dispatch => {\n        let editTracker = { _id, field: column, oldVal, newVal }\n        try {\n            //let selectorObj = {};\n            //selectorObj[\"_id\"] = _id;\n            //selectorObj[column] = oldVal;\n            //let editObj = {};\n            //editObj[column] = newVal;\n            dispatch(request(_id, editTracker));\n            let responseJson = await dsService.editSingleAttribute({ dsName, dsView, dsUser, column, selectorObj, editObj, jiraConfig, jiraAgileConfig });\n            if (responseJson)\n                dispatch(success(_id, editTracker, responseJson));\n            else \n                dispatch(failure(_id, editTracker, \"loadColumnsForUserView failure\"));\n        } catch (error) {\n            dispatch(failure(_id, editTracker, \"loadColumnsForUserView failure\"));\n        }\n    }\n    function request(_id, editTracker) { return { type: dsConstants.EDIT_SINGLE_REQUEST, dsName, dsView, dsUser, _id, editTracker } }\n    function success(_id, editTracker, serverStatus) { return { type: dsConstants.EDIT_SINGLE_SUCCESS, dsName, dsView, dsUser, _id, editTracker, serverStatus } }\n    function failure(_id, editTracker, message) { return { type: dsConstants.EDIT_SINGLE_FAILURE, dsName, dsView, dsUser, _id, editTracker, message } }\n}\n\nfunction insertOneDoc (dsName, dsView, dsUser, selectorObj, doc, uiRow) {\n    return async dispatch => {\n        try {\n            dispatch(request());\n            let responseJson = await dsService.insertOneDoc({dsName, dsView, dsUser, selectorObj, doc});\n            if (responseJson)\n                dispatch(success(responseJson));\n            else \n                dispatch(failure(\"insertOneDoc failure\"));\n        } catch (error) {\n            dispatch(failure(\"insertOneDoc failure\"));\n        }\n    }\n    function request() { return { type: dsConstants.SET_ROW_ADD_TRACKER, dsName, dsView, dsUser, status: 'inserting', uiRow } }\n    function success(serverStatus) { return { type: dsConstants.ROW_ADD_SUCCESS, dsName, dsView, dsUser, status: 'success', serverStatus } }\n    function failure(message) { return { type: dsConstants.ROW_ADD_FAILURE, dsName, dsView, dsUser, status: 'fail', message } }\n}\n\n\nfunction downloadXlsx (dsName, dsView, dsUser) {\n    return async dispatch => {\n        try {\n            dispatch(request());\n            await dsService.downloadXlsx(dsName, dsView, dsUser);\n            dispatch(success());\n        } catch (error) {\n            dispatch(failure(\"downloadXlsx failure\"));\n        }\n    }\n    function request() { return { type: dsConstants.DOWNLOAD_XLSX_REQUEST, dsName, dsView, dsUser } }\n    function success() { return { type: dsConstants.DOWNLOAD_XLSX_SUCCESS, dsName, dsView, dsUser } }\n    function failure(message) { return { type: dsConstants.DOWNLOAD_XLSX_FAILURE, dsName, dsView, dsUser, message } }\n}\n\nfunction getDsList ( dsUser ) {\n    return async dispatch => {\n        try {\n            dispatch(request());\n            let dsList = await dsService.getDsList(dsUser);\n            dispatch(success(dsList));\n        } catch (error) {\n            dispatch(failure(\"getDsList failure\"));\n        }\n    }\n    function request() { return { type: allDsConstants.LOAD_DSLIST_REQUEST, dsUser } }\n    function success(dsList) { return { type: allDsConstants.LOAD_DSLIST_SUCCESS, dsList } }\n    function failure(message) { return { type: allDsConstants.LOAD_DSLIST_FAILURE, message } }\n}\n\nfunction getFilteredDsList(dsUser, dsFilter) {\n    return async dispatch => {\n        try {\n            dispatch(request());\n            let dsList = await dsService.getFilteredDsList({ dsUser, dsFilter });\n            dispatch(success(dsList));\n        } catch (error) {\n            dispatch(failure(\"getDsList failure\"));\n        }\n    }\n    function request() { return { type: allDsConstants.LOAD_DSLIST_REQUEST, dsUser } }\n    function success(dsList) { return { type: allDsConstants.LOAD_DSLIST_SUCCESS, dsList } }\n    function failure(message) { return { type: allDsConstants.LOAD_DSLIST_FAILURE, message } }\n}\n\nfunction deleteDs ( dsName, dsUser ) {\n    return async dispatch => {\n        try {\n            dispatch(request());\n            let deleteStatus = await dsService.deleteDs({ dsName, dsUser });\n            dispatch(success(deleteStatus));\n        } catch (error) {\n            dispatch(failure(\"deleteDs failure\"));\n        }\n    }\n    function request() { return { type: allDsConstants.DELETE_DS_REQUEST, dsName } }\n    function success(deleteStatus) { return { type: allDsConstants.DELETE_DS_SUCCESS, dsName, deleteStatus } }\n    function failure(message) { return { type: allDsConstants.LOAD_DSLIST_FAILURE, dsName, message } }\n}\n\nfunction deleteOneDoc (dsName, dsView, dsUser, _id, row) {\n    return async dispatch => {\n        let deleteTracker = { _id, row }\n        try {\n            let selectorObj = {};\n            selectorObj[\"_id\"] = _id;\n            dispatch(request(_id, deleteTracker));\n            let responseJson = await dsService.deleteOneDoc({dsName, dsView, dsUser, selectorObj});\n            if (responseJson)\n                dispatch(success(_id, deleteTracker, responseJson));\n            else \n                dispatch(failure(_id, deleteTracker, \"deleteOneDoc failure\"));\n        } catch (error) {\n            dispatch(failure(_id, deleteTracker, \"deleteOneDoc failure\"));\n        }\n    }\n    function request(_id, deleteTracker) { return { type: dsConstants.DELETE_SINGLE_REQUEST, dsName, dsView, dsUser, _id, deleteTracker } }\n    function success(_id, deleteTracker, serverStatus) { return { type: dsConstants.DELETE_SINGLE_SUCCESS, dsName, dsView, dsUser, _id, deleteTracker, serverStatus } }\n    function failure(_id, deleteTracker, message) { return { type: dsConstants.DELETE_SINGLE_FAILURE, dsName, dsView, dsUser, _id, deleteTracker, message } }\n}\n\nfunction deleteManyDocs (dsName, dsView, dsUser, objects, rows) {\n    return async dispatch => {\n        let deleteTracker = { objects, rows }\n        try {\n            dispatch(request(deleteTracker));\n            let responseJson = await dsService.deleteManyDocs({dsName, dsView, dsUser, objects});\n            if (responseJson)\n                dispatch(success(deleteTracker, responseJson));\n            else \n                dispatch(failure(deleteTracker, \"deleteManyDocs failure\"));\n        } catch (error) {\n            dispatch(failure(deleteTracker, \"deleteManyDocs failure\"));\n        }\n    }\n    function request(deleteTracker) { return { type: dsConstants.DELETE_MANY_REQUEST, dsName, dsView, dsUser, deleteTracker } }\n    function success(deleteTracker, serverStatus) { return { type: dsConstants.DELETE_MANY_SUCCESS, dsName, dsView, dsUser, deleteTracker, serverStatus } }\n    function failure(deleteTracker, message) { return { type: dsConstants.DELETE_MANY_FAILURE, dsName, dsView, dsUser, deleteTracker, message } }\n}\n\n\nfunction setViewDefinitions(dsName, dsView, dsUser, viewDefs, jiraConfig, dsDescription, otherTableAttrs, aclConfig, jiraAgileConfig, jiraProjectName) {\n    return async dispatch => {\n        try {\n            dispatch(request());\n            let responseJson;\n            if (jiraConfig && jiraAgileConfig)\n                responseJson = await dsService.setViewDefinitions({ dsName, dsView, dsUser, viewDefs, jiraConfig, dsDescription, otherTableAttrs, aclConfig, jiraAgileConfig, jiraProjectName });\n            else if (jiraConfig)\n                responseJson = await dsService.setViewDefinitions({ dsName, dsView, dsUser, viewDefs, jiraConfig, dsDescription, otherTableAttrs, aclConfig, jiraProjectName });\n            else if (jiraAgileConfig)\n                responseJson = await dsService.setViewDefinitions({ dsName, dsView, dsUser, viewDefs, dsDescription, otherTableAttrs, aclConfig, jiraAgileConfig, jiraProjectName });\n            else \n                responseJson = await dsService.setViewDefinitions({ dsName, dsView, dsUser, viewDefs, dsDescription, otherTableAttrs, aclConfig, jiraProjectName });\n            if (responseJson)\n                dispatch(success(responseJson));\n            else \n                dispatch(failure(\"setViewDefinitions failure\"));\n        } catch (error) {\n            dispatch(failure(\"setViewDefinitions failure\"));\n        }\n    }\n    function request() { return { type: dsConstants.SET_VIEW_DEFS_REQUEST, dsName, dsView, dsUser } }\n    function success(serverStatus) { return { type: dsConstants.SET_VIEW_DEFS_SUCCESS, dsName, dsView, dsUser, serverStatus } }\n    function failure(message) { return { type: dsConstants.SET_VIEW_DEFS_FAILURE, dsName, dsView, dsUser, message } }\n}\n\n\nfunction refreshJira (dsName, dsView, dsUser) {\n    return async dispatch => {\n        try {\n            dispatch(request());\n            let responseJson = await dsService.refreshJira({dsName, dsView, dsUser});\n            if (responseJson)\n                dispatch(success(responseJson));\n            else \n                dispatch(failure(\"Jira refresh failure\"));\n        } catch (error) {\n            dispatch(failure(\"Jira refresh failure\"));\n        }\n    }\n    function request() { return { type: dsConstants.JIRA_REFRESH_REQUEST, dsName, dsView, dsUser } }\n    function success(serverStatus) { return { type: dsConstants.JIRA_REFRESH_SUCCESS, dsName, dsView, dsUser, serverStatus } }\n    function failure(message) { return { type: dsConstants.JIRA_REFRESH_FAILURE, dsName, dsView, dsUser, message } }\n}\n\n\nfunction addFilter (dsName, dsView, dsUser, filter) {\n    return async dispatch => {\n        try {\n            dispatch(request());\n            let responseJson = await dsService.addFilter({dsName, dsView, dsUser, filter});\n            if (responseJson)\n                dispatch(success(responseJson));\n            else \n                dispatch(failure(\"addFilter failure\"));\n        } catch (error) {\n            console.log(\"Error:\", error);\n            dispatch(failure(\"addFilter failure\"));\n        }\n    }\n    function request() { return { type: dsConstants.ADD_FILTER_REQUEST, dsName, dsView, dsUser, status: 'inserting', filter } }\n    function success(serverStatus) { return { type: dsConstants.ADD_FILTER_SUCCESS, dsName, dsView, dsUser, status: 'success', serverStatus } }\n    function failure(message) { return { type: dsConstants.ADD_FILTER__FAILURE, dsName, dsView, dsUser, status: 'fail', message } }\n}\n\nfunction editFilter (dsName, dsView, dsUser, filter) {\n    return async dispatch => {\n        try {\n            dispatch(request());\n            let responseJson = await dsService.editFilter({dsName, dsView, dsUser, filter});\n            if (responseJson)\n                dispatch(success(responseJson));\n            else \n                dispatch(failure(\"editFilter failure\"));\n        } catch (error) {\n            dispatch(failure(\"editFilter failure\"));\n        }\n    }\n    function request() { return { type: dsConstants.EDIT_FILTER_REQUEST, dsName, dsView, dsUser, status: 'editing', filter } }\n    function success(serverStatus) { return { type: dsConstants.EDIT_FILTER_SUCCESS, dsName, dsView, dsUser, status: 'success', serverStatus } }\n    function failure(message) { return { type: dsConstants.EDIT_FILTER__FAILURE, dsName, dsView, dsUser, status: 'fail', message } }\n}\n\nfunction deleteFilter (dsName, dsView, dsUser, filter) {\n    return async dispatch => {\n        try {\n            dispatch(request());\n            let responseJson = await dsService.deleteFilter({dsName, dsView, dsUser, filter});\n            if (responseJson)\n                dispatch(success(responseJson));\n            else \n                dispatch(failure(\"deleteFilter failure\"));\n        } catch (error) {\n            dispatch(failure(\"deleteFilter failure\"));\n        }\n    }\n    function request() { return { type: dsConstants.DELETE_FILTER_REQUEST, dsName, dsView, dsUser, status: 'deleting', filter } }\n    function success(serverStatus) { return { type: dsConstants.DELETE_FILTER_SUCCESS, dsName, dsView, dsUser, status: 'success', serverStatus } }\n    function failure(message) { return { type: dsConstants.DELETE_FILTER__FAILURE, dsName, dsView, dsUser, status: 'fail', message } }\n}\n\n// For bulk-edit operations\n\nfunction clearBulkEditStore () {\n    return async dispatch => {\n        dispatch(clear());\n    };\n\n    function clear() { return { type: dsConstants.CLEAR_DS } }\n}\n\nfunction uploadBulkEditXlsFile (fileName, formData) {\n    return async dispatch => {\n        dispatch(request(fileName));\n        try {\n            let responseJson = await uploadService.fileUpload(formData);\n            if (responseJson)\n                dispatch(success(fileName, responseJson));\n            else \n                dispatch(failure(\"Upload failure\"));\n        } catch (error) {\n            dispatch(failure(\"Uploading xls file failed\"));\n        }\n    };\n\n    function request(fileName) { return { type: dsConstants.UPLOAD_BULK_XLS_REQUEST, fileName } }\n    function success(fileName, sheetInfo) { return { type: dsConstants.UPLOAD_BULK_XLS_SUCCESS, fileName, sheetInfo } }\n    function failure(message) { return { type: dsConstants.UPLOAD_BULK_XLS_FAILURE, message } }\n}\n\nfunction setSelectedSheet (sheetName) {\n    return async dispatch => {\n        dispatch (setSheet(sheetName));\n    }\n    function setSheet (sheetName) { return { type: dsConstants.SET_BULK_SELECTED_SHEET, sheetName } }\n}\n\nfunction loadHdrsFromRange (fileName, sheetName, selectedRange) {\n    return async dispatch => {\n        try {\n            dispatch(request(selectedRange));\n            let responseJson = await uploadService.loadHdrsFromRange({fileName, sheetName, selectedRange});\n            if (responseJson)\n                dispatch(success(fileName, sheetName, responseJson));\n            else \n                dispatch(failure(\"Load Data from Range failure\"));\n        } catch (error) {\n            dispatch(failure(\"Load Data from Range failure\"));\n        }\n    }\n    function request(selectedRange) { return { type: dsConstants.LOAD_BULK_FROM_RANGE_REQUEST, selectedRange } }\n    function success(fileName, sheetName, loadStatus) { return { type: dsConstants.LOAD_BULK_FROM_RANGE_SUCCESS, fileName, sheetName, loadStatus } }\n    function failure(message) { return { type: dsConstants.LOAD_BULK_FROM_RANGE_FAILURE, message } }\n}\n\n\nfunction doBulkEditRequest(dsName, fileName, sheetName, selectedRange, setRowsFrmSheet, setColsFrmSheet, doIt, dsUser) {\n    return async dispatch => {\n        try {\n            dispatch(request(selectedRange));\n            let responseJson = await dsService.doBulkEditRequest({ dsName, fileName, sheetName, selectedRange, setRowsFrmSheet, setColsFrmSheet, doIt, dsUser });\n            if (responseJson)\n                dispatch(success(fileName, sheetName, responseJson));\n            else \n                dispatch(failure(\"validate BulkEdit request failed\"));\n        } catch (error) {\n            dispatch(failure(\"Validate BulkEdit request failure\"));\n        }\n    }\n    function request(selectedRange) { return { type: dsConstants.BULK_EDIT_REQUEST, selectedRange } }\n    function success(fileName, sheetName, loadStatus) { return { type: dsConstants.BULK_EDIT_SUCCESS, fileName, sheetName, loadStatus } }\n    function failure(message) { return { type: dsConstants.BULK_EDIT_FAILURE, message } }\n}\n","import React, { Component, ReactDOM } from 'react'\nimport { Route } from 'react-router-dom'\nimport { Row, Col, Button, Form } from 'react-bootstrap'\nimport { connect } from 'react-redux';\nimport { dsActions } from '../../actions/ds.actions';\nimport { dsConstants } from '../../constants';\nimport { Link } from 'react-router-dom'\n//import 'react-tabulator/lib/styles.css'; // required styles\n//import 'react-tabulator/lib/css/tabulator.css'; // theme\n//import { ReactTabulator } from 'react-tabulator';\nimport MyTabulator from './MyTabulator';\nimport MyTextArea from './MyTextArea';\nimport MyCodeMirror from './MyCodeMirror';\nimport MyModalCodeMirror from './MyModalCodeMirror';\nimport DateEditor from \"react-tabulator/lib/editors/DateEditor\";\nimport Select from 'react-select';\n//import 'highlight.js/styles/vs.css'\n//import 'highlight.js/styles/zenburn.css'\nimport 'highlight.js/styles/solarized-light.css'\nimport MyAutoCompleter from './MyAutoCompleter';\nimport MySingleAutoCompleter from './MySingleAutoCompleter';\nimport ColorPicker from './ColorPicker';\nimport Modal from './Modal';\nimport ModalEditor from './ModalEditor';\nimport FilterControls from './FilterControls';\nimport QueryParsers from './QueryParsers';\nimport \"reveal.js/dist/reveal.css\";\n//import \"reveal.js/dist/theme/white.css\";\nimport './rjs_white.css';\nimport JiraForm from './jiraForm.js'\nimport Reveal from 'reveal.js';\nimport Markdown from 'reveal.js/plugin/markdown/markdown.esm.js';\nimport RevealHighlight from 'reveal.js/plugin/highlight/highlight.esm'\nimport io from 'socket.io-client'\n//import '../../../../node_modules/react-tabulator/lib/styles.css'; // required styles\n//import '../../../../node_modules/react-tabulator/lib/css/tabulator.css';\nimport './simpleStyles.css';\nimport markdownItMermaid from \"@datatraccorporation/markdown-it-mermaid\";\nimport { dsService } from '../../services';\nimport { authHeader } from '../../helpers';\nlet MarkdownIt = new require('markdown-it')({\n    linkify: true,\n    html: true\n}).use(require('markdown-it-bracketed-spans')).use(require('markdown-it-attrs')).use(require('markdown-it-container'), 'code').use(require('markdown-it-container'), 'indent1').use(require('markdown-it-container'), 'indent2').use(require('markdown-it-container'), 'indent3').use(require('markdown-it-highlightjs')).use(markdownItMermaid).use(require('markdown-it-plantuml'), {imageFormat: 'png'}).use(require('markdown-it-container'), 'slide').use(require('markdown-it-fancy-lists').markdownItFancyListPlugin);\n\n\n// From: https://github.com/markdown-it/markdown-it/blob/master/docs/architecture.md#renderer\n// Remember old renderer, if overridden, or proxy to default renderer\nvar defaultRender = MarkdownIt.renderer.rules.link_open || function(tokens, idx, options, env, self) {\n    return self.renderToken(tokens, idx, options);\n  };\n\nMarkdownIt.renderer.rules.link_open = function (tokens, idx, options, env, self) {\n    // If you are sure other plugins can't add `target` - drop check below\n    var aIndex = tokens[idx].attrIndex('target');\n  \n    if (aIndex < 0) {\n      tokens[idx].attrPush(['target', '_blank']); // add new attribute\n    } else {\n      tokens[idx].attrs[aIndex][1] = '_blank';    // replace value of existing attr\n    }\n  \n    // pass token to default renderer.\n    return defaultRender(tokens, idx, options, env, self);\n};\n\nconst config = {};\nif (process.env.NODE_ENV === 'development') {\n    config.apiUrl = \"http://in-mvlb52:8887\"\n    config.apiUrl = \"http://localhost:8887\"\n} else {\n    config.apiUrl = \"\"\n}\n\n//TODO: should come from backend\nconst jiraCustomFieldMapping = {\n    'Story Points': \"customfield_11890\"\n}\n\nvar socket = null;\nclass DsView extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            firstTime: true,\n            filterButtonText: 'Enable Filters',\n            editingButtonText: 'Disable Editing',\n            pageSize: 30,\n            totalRecs: 0, \n            refresh: 0,\n            initialHeaderFilter: [],\n            initialSort: [],\n            filterColumnAttrs: {},\n            currentColumnAttrs: {}, // Unused, cleanup all uses of this one. \n            filter: '',\n            frozenCol: \"\",\n            showModal: false,\n            modalTitle: \"Title of modal\",\n            modalQuestion: \"\",\n            modalCallback: null,\n            modalStatus: '',\n            modalCancel: 'Cancel',\n            modalOk: 'Do It!',\n            toggleModalOnClose: true,\n            grayOutModalButtons: false,\n\n            showSecondaryModal: false,\n            secondaryModalTitle: \"Title of modal\",\n            secondaryModalQuestion: \"\",\n            secondaryModalCallback: null,\n            secondaryModalStatus: '',\n            secondaryModalCancel: 'Cancel',\n            secondaryModalOk: 'Do It!',\n\n            modalEditorOk: 'Done',\n            modalEditorCancel: 'Cancel',\n            modalEditorTitle: 'Edit cell', \n            modalEditorText: '',\n            modalEditorCallback: null,\n            showModalEditor: false,\n\n\n            chronologyDescending: false,\n            singleClickEdit: false,\n            showAllFilters: false,\n            disableEditing: false,\n            showColorPicker: false,\n            colorPickerLeft: 0,\n            colorPickerTop: 0,\n            color: 0,\n\n            connectedState: false,\n            dbconnectivitystate: false,\n        };\n        this.ref = null;\n        \n        this.timers = {};\n        this.lockedByOthersCells = {};\n        this.firstRenderCompleted = false;\n        this.cellImEditing = null;\n        this.mouseDownOnHtmlLink = false;\n        this.mouseDownOnBadgeCopyIcon = false;\n        this.reqCount = 0;\n\n        this.jiraFormData = {\n            Project: \"\",\n            JIRA_AGILE_LABEL: \"None\",\n            Type: \"Epic\",\n            summary: \"\",\n            description: \"\"\n        }\n\n        this.applyHtmlLinkAndBadgeClickHandlers = this.applyHtmlLinkAndBadgeClickHandlers.bind(this);\n        this.renderComplete = this.renderComplete.bind(this);\n        this.cellEditing = this.cellEditing.bind(this);\n        this.cellEdited = this.cellEdited.bind(this);\n        this.cellEditCancelled = this.cellEditCancelled.bind(this);\n        this.cellEditCheck = this.cellEditCheck.bind(this);\n        this.cellForceEditTrigger = this.cellForceEditTrigger.bind(this);\n        this.fixImgSizeForClipboard = this.fixImgSizeForClipboard.bind(this);\n        this.copyFormatted = this.copyFormatted.bind(this);\n\n        this.startPreso = this.startPreso.bind(this);\n        this.myCopyToClipboard = this.myCopyToClipboard.bind(this);\n        this.recordRef = this.recordRef.bind(this);\n        this.downloadXlsx = this.downloadXlsx.bind(this);\n        this.toggleFilters = this.toggleFilters.bind(this);\n        this.toggleEditing = this.toggleEditing.bind(this);\n        this.addRow = this.addRow.bind(this);\n        this.deleteRowHandler = this.deleteRowHandler.bind(this);\n        this.deleteRowQuestion = this.deleteRowQuestion.bind(this);\n        this.deleteAllRowsInViewQuestion = this.deleteAllRowsInViewQuestion.bind(this);\n        this.deleteAllRowsInView = this.deleteAllRowsInView.bind(this);\n        this.deleteAllRowsInQuery = this.deleteAllRowsInQuery.bind(this);\n        this.duplicateAndAddRowHandler = this.duplicateAndAddRowHandler.bind(this);\n        this.toggleSingleFilter = this.toggleSingleFilter.bind(this);\n        this.freezeColumn = this.freezeColumn.bind(this);\n        this.unfreezeColumn = this.unfreezeColumn.bind(this);\n        this.setFreezeColumn = this.setFreezeColumn.bind(this);\n        this.pageSizeChange = this.pageSizeChange.bind(this);\n        this.ajaxResponse = this.ajaxResponse.bind(this);\n        this.ajaxURLGenerator = this.ajaxURLGenerator.bind(this);\n        this.cellClickEvents = this.cellClickEvents.bind(this);\n        this.copyToClipboard = this.copyToClipboard.bind(this);\n        this.copyCellToClipboard = this.copyCellToClipboard.bind(this);\n        this.pickFillColorHandler = this.pickFillColorHandler.bind(this);\n        this.handleColorPickerClose = this.handleColorPickerClose.bind(this);\n        this.handleColorPickerOnChangeComplete = this.handleColorPickerOnChangeComplete.bind(this);\n        this.jiraRefreshHandler = this.jiraRefreshHandler.bind(this);\n        this.jiraRefreshStatus = this.jiraRefreshStatus.bind(this);\n        this.toggleModal = this.toggleModal.bind(this);\n        this.secondaryToggleModal = this.secondaryToggleModal.bind(this)\n        this.toggleModalEditor = this.toggleModalEditor.bind(this);\n        this.processFilterChange = this.processFilterChange.bind(this);\n        this.isKey = this.isKey.bind(this);\n        this.hideColumn = this.hideColumn.bind(this);\n        this.showAllCols = this.showAllCols.bind(this);\n        this.hideColumnFromCell = this.hideColumnFromCell.bind(this);\n        this.columnResized = this.columnResized.bind(this);\n        this.columnVisibilityChanged = this.columnVisibilityChanged.bind(this);\n        this.retainColumnAttrs = this.retainColumnAttrs.bind(this);\n        this.applyFilterColumnAttrs = this.applyFilterColumnAttrs.bind(this);\n        this.normalizeAllImgRows = this.normalizeAllImgRows.bind(this);\n        this.applyHighlightJsBadge = this.applyHighlightJsBadge.bind(this);\n        this.displayConnectedStatus = this.displayConnectedStatus.bind(this);\n\n        let chronologyDescendingFrmLocal = localStorage.getItem(\"chronologyDescending\");\n        chronologyDescendingFrmLocal = JSON.parse(chronologyDescendingFrmLocal);\n        this.state.chronologyDescending = chronologyDescendingFrmLocal;\n        let singleClickEditFrmLocal = localStorage.getItem(\"singleClickEdit\");\n        singleClickEditFrmLocal = JSON.parse(singleClickEditFrmLocal);\n        this.state.singleClickEdit = singleClickEditFrmLocal;\n        let showAllFiltersFrmLocal = localStorage.getItem(\"showAllFilters\");\n        showAllFiltersFrmLocal = JSON.parse(showAllFiltersFrmLocal);\n        this.state.showAllFilters = showAllFiltersFrmLocal;\n        let disableEditingFrmLocal = localStorage.getItem(\"disableEditing\");\n        disableEditingFrmLocal = JSON.parse(disableEditingFrmLocal);\n        this.state.disableEditing = disableEditingFrmLocal;\n\n\n        this.convertToJiraRow = this.convertToJiraRow.bind(this)\n        this.handleJiraFormChange = this.handleJiraFormChange.bind(this)\n        this.submitJiraFormChange = this.submitJiraFormChange.bind(this)\n        this.fillLocalStorageItemData = this.fillLocalStorageItemData.bind(this)\n        this.addJiraRow = this.addJiraRow.bind(this)\n        this.formFinalJiraFormData = this.formFinalJiraFormData.bind(this)\n    }\n    componentDidMount () {\n        const { dispatch, match, user, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n        if ( !Object.keys(dsHome).length || !dsHome.dsViews || !dsHome.dsViews[dsView] ) {\n            dispatch(dsActions.loadColumnsForUserView(dsName, dsView, user.user));\n            dispatch(dsActions.getDefaultTypeFieldsAndValues(dsName, dsView, user.user)); \n        }\n        let me = this;\n        // Send jwt token while making the initial connection to the server\n        socket = io(config.apiUrl, {\n            extraHeaders: {\n                Cookie: document.cookie\n            }\n        });\n\n        socket.on('connect', (data) => {\n            socket.emit('Hello', { user: user.user});\n            socket.emit('getActiveLocks', dsName);\n            me.setState({connectedState: true});\n        })\n        socket.on('disconnect', (data) => {\n            me.setState({connectedState: false});\n        })\n        socket.on('dbConnectivityState', (isDbConnected) => {\n            me.setState({dbconnectivitystate: isDbConnected.dbState});\n        });\n        socket.on('Hello', (helloObj) => {\n            ;\n        })\n        socket.on('activeLocks', (activeLocks) => {\n            me.setState({connectedState: true});\n            if (!me.ref || !me.ref.table) return;\n            activeLocks = JSON.parse(activeLocks);\n            console.log(\"Active locks: \", activeLocks);\n            let keys = Object.keys(activeLocks);\n            for (let i = 0; i < keys.length; i++) {\n                let _id = keys[i];\n                let rows = me.ref.table.searchRows(\"_id\", \"=\", _id);\n                if (!rows.length) continue;\n                console.log(\"Found row!\");\n                let fields = Object.keys(activeLocks[_id]);\n                for (let j = 0; j < fields.length; j++) {\n                    let field = fields[j];\n                    console.log(\"Field is: \",field);\n                    let cell = rows[0].getCell(field);\n                    console.log(\"Cell is: \", cell);\n                    activeLocks[_id][field] = cell;\n                    if (!cell) continue;\n                    if (me.cellImEditing === cell) {\n                        console.log(\"Whoops, someone else got there first..\");\n                        cell.cancelEdit();\n                    }\n                    cell.getElement().style.backgroundColor = 'lightGray';\n                }\n            }\n            this.lockedByOthersCells = activeLocks;\n        })\n        socket.on('locked', (lockedObj) => {\n            console.log('Received locked: ', lockedObj);\n            if (!me.ref || !me.ref.table) return;\n            if (dsName === lockedObj.dsName) {\n                let rows = me.ref.table.searchRows(\"_id\", \"=\", lockedObj._id);\n                // rows.length must be 1. \n                if (!rows.length) return;\n                let cell = rows[0].getCell(lockedObj.field);\n                if (!me.lockedByOthersCells[lockedObj._id]) {\n                    me.lockedByOthersCells[lockedObj._id] = {}\n                }\n                me.lockedByOthersCells[lockedObj._id][lockedObj.field] = cell;\n                if (me.cellImEditing === cell) {\n                    console.log(\"Whoops, someone else got there first..\");\n                    cell.cancelEdit();\n                }\n                cell.getElement().style.backgroundColor = 'lightGray';\n            }\n        })\n        socket.on('unlocked', (unlockedObj) => {\n            let adjustTableHeight = false;\n            try {\n                if (!me.ref || !me.ref.table) return;\n                if (dsName === unlockedObj.dsName && me.lockedByOthersCells[unlockedObj._id][unlockedObj.field]) {\n                    let cell = me.lockedByOthersCells[unlockedObj._id][unlockedObj.field];\n                    delete me.lockedByOthersCells[unlockedObj._id][unlockedObj.field];\n                    if (unlockedObj.newVal !== undefined && unlockedObj.newVal !== null) {\n                        let update = { _id: unlockedObj._id };\n                        update[unlockedObj.field] = unlockedObj.newVal;\n                        //console.log('Update1: ', update);\n                        me.ref.table.updateData([ update ]);\n                        adjustTableHeight = true;\n                    }\n                    // Delete the 'lightGray', then restore correct formatting\n                    cell.getElement().style.backgroundColor = '';\n                    //Restore correctly.\n                    let colDef = cell.getColumn().getDefinition();\n                    //console.log(\"colDef is: \", colDef);\n                    colDef.formatter(cell, colDef.formatterParams);\n                } else if (dsName === unlockedObj.dsName && unlockedObj.newVal) {\n                    let rows = me.ref.table.searchRows(\"_id\", \"=\", unlockedObj._id);\n                    // rows.length must be 1. \n                    if (!rows.length) return;\n                    let cell = rows[0].getCell(unlockedObj.field);\n                    let update = { _id: unlockedObj._id };\n                    update[unlockedObj.field] = unlockedObj.newVal;\n                    //console.log('Update2: ', update);\n                    me.ref.table.updateData([ update ]);\n                    adjustTableHeight = true;\n                }\n            } catch (e) {}\n            if (adjustTableHeight && !me.cellImEditing) {\n                if (me.timers[\"post-cell-edited\"]) {\n                    clearTimeout(me.timers[\"post-cell-edited\"]);\n                    me.timers[\"post-cell-edited\"] = null;\n                }\n                me.timers[\"post-cell-edited\"] = setTimeout(() => {\n                    if (!me.cellImEditing) {\n                        //cell.getRow().normalizeHeight();\n                        console.log(\"Doing adjusttablesize (unlockReq)... \");\n                        me.ref.table.rowManager.adjustTableSize(false);\n                        me.normalizeAllImgRows();\n                        me.applyHighlightJsBadge();\n                    } else {\n                        console.log(\"Skipping adjusttablesie (unlockReq)... \");\n                    }\n                }, 500);                    \n            }\n            console.log('Received unlocked: ', unlockedObj);\n        })\n        socket.on('exception', (msg) => {\n            console.log(\"GOT exception:\", msg);\n        })\n    }\n    componentWillUnmount () {\n        const { dispatch } = this.props;\n        socket.disconnect();\n        dispatch( { type: dsConstants.CLEAR_COLUMNS } );\n    }\n\n    renderComplete () {\n        const { match } = this.props;\n        let dsName = match.params.dsName; \n\n        //console.log(\"table data: \", this.ref.table.getData());\n\n        //if (this.firstRenderCompleted) return;\n        socket.emit('getActiveLocks', dsName);\n        //this.firstRenderCompleted = true;\n        this.normalizeAllImgRows();\n        // add HighlightJS-badge\n        this.applyHighlightJsBadge();\n    }\n\n    // Since we generate html after editing, we need to attach\n    // the handlers again. \n    applyHtmlLinkAndBadgeClickHandlers() {\n        let me = this;\n        let splElements = document.getElementById(\"tabulator\").getElementsByTagName('a');\n        for(var i = 0, len = splElements.length; i < len; i++) {\n            splElements[i].onclick = function (e) {\n                me.mouseDownOnHtmlLink = true;\n                // Caution: This is a must, otherwise you are getting the click after returning to the tab!\n                e.stopPropagation();\n                // Caution: To clear this out after a second to ensure that the next click is honored properly. \n                setTimeout(() => me.mouseDownOnHtmlLink = false, 1000);\n                return true;\n            }\n        }\n        // This querySelectorAll is borrowed from highlightjs-badge.js code\n        splElements = document.getElementById(\"tabulator\").querySelectorAll(\".code-badge-copy-icon\");\n        for(i = 0, len = splElements.length; i < len; i++) {\n            // Have to setup for 'focus' event because that fires first! And\n            // tabulator already has this setup on the cell.\n            splElements[i].setAttribute(\"tabindex\", 0);\n            splElements[i].addEventListener(\"focus\", \n                function(e) {\n                    let clickedEl = e.srcElement;\n                    console.log(`Classlist is: ${clickedEl.classList}`);\n                    if (clickedEl.classList.contains(\"code-badge-copy-icon\")) {    \n                        me.mouseDownOnBadgeCopyIcon = true;\n                        // Caution: To clear this out after a second to ensure that the next click is honored properly. \n                        setTimeout(() => me.mouseDownOnBadgeCopyIcon = false, 1000);\n                        return true;\n                    }\n                });\n        }\n    }\n    applyHighlightJsBadge() {\n        let me = this;\n        if (this.timers[\"applyHighlightJsBadge\"]) {\n            clearTimeout(this.timers[\"applyHighlightJsBadge\"]);\n            this.timers[\"applyHighlightJsBadge\"] = null;\n        }\n        this.timers[\"applyHighlightJsBadge\"] = setTimeout(() => {\n            window.highlightJsBadge();\n            this.applyHtmlLinkAndBadgeClickHandlers();\n        }, 1000);\n    }\n\n    fixImgSizeForClipboard(output) {\n\n        let imgList = document.querySelectorAll(\"img\");\n        let imgSizes = {};\n        for (let i = 0; i < imgList.length; i++) {\n            //console.log(`imgList[${i}]: `, imgList[i], imgList[i].width, imgList[i].height, imgList[i].naturalWidth, imgList[i].naturalHeight, imgList[i].getAttribute(\"src\"));\n            let img = {};\n            img.src = imgList[i].getAttribute(\"src\");\n            img.width = imgList[i].width;\n            img.height = imgList[i].height;\n            imgSizes[img.src] = img;\n        }\n        let e = [...output.matchAll(/<img src=\"(.*?)\"/gi)];\n        for (let i = 0; i < e.length; i++) {\n            let key = e[i][1];\n            if (!imgSizes[key]) continue;\n            if (/data:image/.test(key)) continue;\n            let str = `<img src=\"${key}\" alt=\"${key}\" width=\".*\" height=\".*\"`;\n            let rep = `<img src=\"${key}\" alt=\"${key}\" width=${imgSizes[key].width} height=${imgSizes[key].height}`;\n            output = output.replace(new RegExp(str), rep);\n        }\n        output = output.replaceAll('<img src=\"/attachments/', `<img src=\"${window.location.origin}/attachments/`);\n        return output;\n    }\n\n    normalizeAllImgRows() {\n        let me = this;\n        if (this.timers[\"normalizeAllImgRows\"]) {\n            clearInterval(this.timers[\"normalizeAllImgRows\"]);\n            this.timers[\"normalizeAllImgRows\"] = null;\n        }\n        let extraIters = 0;\n        this.timers[\"normalizeAllImgRows\"] = setInterval(function () {\n            //console.log(\"normalizeAllImgRows periodic fn...:\", extraIters);\n            if (document.readyState === 'complete') {\n                let imgList = document.querySelectorAll(\"img\");\n                let allImgsRead = true;\n                for (let i = 0; i < imgList.length; i++) {\n                    //console.log(`imgList[${i}]: `, imgList[i].complete, imgList[i].naturalHeight);\n                    if (!(imgList[i].complete /*&& imgList[i].naturalHeight !== 0*/)) {\n                        allImgsRead = false;\n                        extraIters = 0;\n                        break;\n                    }\n                }\n                if (allImgsRead) {\n                    // Basically, give it 600 ms before the new image is fetching and\n                    // allImgsRead is false...\n                    if (extraIters === 2) {\n                        if (imgList.length && !me.cellImEditing) {\n                            let rows = me.ref.table.getRows();\n                            for (let i = 0; i < rows.length; i++) {\n                                rows[i].normalizeHeight();\n                            }\n                            //console.log(\"Adjusting table size now.\");\n                            me.ref.table.rowManager.adjustTableSize(false);\n                        } else {\n                            console.log(\"Skipping normalize as there are no images or some editing in progress...\");\n                        }\n                    }\n                    if (extraIters >= 10) {\n                        //console.log(\"Cancelling timer after extraIters!\");\n                        extraIters = 0;\n                        clearInterval(me.timers[\"normalizeAllImgRows\"]);\n                        me.timers[\"normalizeAllImgRows\"] = null;\n                    }\n                    extraIters++;\n                }\n            }\n        }, 300);\n    }\n\n    showAllCols () {\n        let cols = this.ref.table.getColumns();\n        for (let i = 0; i < cols.length; i++) {\n            if (!cols[i].isVisible())\n                cols[i].show();\n        }\n    }\n\n    hideColumn (e, column) {\n        const { match, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n\n        if (!this.isKey(column.getField()))\n            column.hide();\n    }\n\n    hideColumnFromCell (e, cell) {\n        let column = cell.getColumn();\n        if (!this.isKey(column.getField()))\n            column.hide();\n    }\n\n    columnResized (column) {\n        let forField = this.state.currentColumnAttrs[column.getField()];\n        if (!forField) forField = {};\n        if (forField.width !== column.getWidth()) {\n            let currentColumnAttrs = { ...this.state.currentColumnAttrs };\n            forField.width = column.getWidth();\n            currentColumnAttrs[column.getField()] = forField;\n            this.setState({ currentColumnAttrs });\n        }\n    }\n\n    columnVisibilityChanged (column, visible) {\n        let forField = this.state.currentColumnAttrs[column.getField()];\n        if (!forField) forField = {};\n        if (forField.hidden !== !visible) {\n            let currentColumnAttrs = { ...this.state.currentColumnAttrs };\n            forField.hidden = !visible;\n            currentColumnAttrs[column.getField()] = forField;\n            this.setState({ currentColumnAttrs });\n        }\n    }\n\n    isKey (field) {\n        const { match, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n\n        //console.log(\"Field is: \", field);\n        if (dsHome.dsViews[dsView].keys && dsHome.dsViews[dsView].keys.length) {\n            for (let i = 0; i < dsHome.dsViews[dsView].keys.length; i++) {\n                let key = dsHome.dsViews[dsView].keys[i];\n                //console.log(\"key is: \", key);\n                if (field === key)\n                    return true;\n            }\n        }\n        return false;\n    }\n\n    toggleModal(confirmed, toggleModal) {\n        this.state.modalCallback(confirmed);\n        if (toggleModal != false) {\n            this.setState({ showModal: !this.state.showModal });\n        } else {\n            // If not toggling the modal, on any click just gray out the buttons to disable subsequent click\n            if (confirmed)\n                this.setState({ grayOutModalButtons: true })\n        }\n    }\n    secondaryToggleModal(confirmed) {\n        this.state.secondaryModalCallback(confirmed);\n        this.setState({ showSecondaryModal: !this.state.showSecondaryModal, grayOutModalButtons: false });\n    }\n    toggleModalEditor (confirmed, value) {\n        this.state.modalEditorCallback(confirmed, value);\n        this.setState({ showModalEditor: !this.state.showModalEditor });\n    }\n\n    cellClickEvents (e, cell) {\n        if (!this.state.connectedState || !this.state.dbconnectivitystate) {\n            return\n        }\n        if (e.type === \"dblclick\" && !this.state.singleClickEdit && !this.state.disableEditing && this.cellEditCheckForConflicts(cell)) {\n            // Force edit\n            cell.edit(true);\n        }\n    }\n    cellEditCheckForConflicts (cell) {\n        try {\n            let column = cell.getColumn().getField();\n            let _id = cell.getRow().getData()['_id'];\n            if (this.lockedByOthersCells[_id][column])\n                return false;\n        } catch (e) {}\n        if (this.mouseDownOnHtmlLink || this.mouseDownOnBadgeCopyIcon) {\n            return false;\n        }\n        return true;\n    }\n    cellEditCheck (cell) {      \n        if (!this.state.singleClickEdit)  return false;\n        if (this.state.disableEditing) return false;\n        if (!this.state.connectedState) return false;\n        if (!this.state.dbconnectivitystate) return false;\n        return this.cellEditCheckForConflicts(cell);\n    }\n    cellForceEditTrigger (cell) {\n        console.log(\"In cellForceEditTrigger\");\n        if (!this.state.singleClickEdit)  return false;\n        if (this.state.disableEditing) return false;\n        if (!this.state.connectedState) return false;\n        if (!this.state.dbconnectivitystate) return false;\n        let noConcurrentEdits = this.cellEditCheckForConflicts(cell);\n        if (noConcurrentEdits) {\n            setImmediate(() => {\n                cell.edit(true);\n                if (true) {\n                    /*\n                    let self = this, curValue = cell.getValue();\n                    this.setState({ modalEditorText: curValue,\n                                    modalEditorCallback: (confirmed, value) => {\n                                        self.setState({ showModalEditor: false });\n                                        if (confirmed) {\n                                            console.log(\"Value is: \", value);\n                                            cell.setValue(value);\n                                        } else {\n                                            cell.setValue(curValue);\n                                        }\n                                        //self.cellEdited(cell);\n                                    },\n                                    showModalEditor: true });\n                    \n                    this.cellEditing(cell);\n                    return false;\n                    */\n                }\n            });\n        }        \n    }\n\n    cellEditCancelled (cell) {\n        const { match } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n        let column = cell.getColumn().getField();\n        let _id = cell.getRow().getData()['_id'];\n        if (!_id) {\n            return;\n        }\n        let me = this;\n        if (this.cellImEditing === cell) {\n            this.cellImEditing = null;\n        } else {\n            console.log(\"Not nullifying cellImEditing as it is not me!\");\n        }\n        let unlockReq = { _id, field: column, dsName, dsView }\n        socket.emit('unlockReq', unlockReq);\n        if (this.timers[\"post-cell-edited\"]) {\n            clearTimeout(this.timers[\"post-cell-edited\"]);\n            this.timers[\"post-cell-edited\"] = null;\n        }\n        this.timers[\"post-cell-edited\"] = setTimeout(() => {\n            if (!me.cellImEditing) {\n                //cell.getRow().normalizeHeight();\n                console.log(\"Doing adjusttablesize (cellEditCancelled)... \");\n                this.ref.table.rowManager.adjustTableSize(false);\n                this.normalizeAllImgRows();\n                this.applyHighlightJsBadge();\n            } else {\n                console.log(\"Skipping adjusttablesize (cellEditCancelled)...\");\n            }\n        }, 500);\n        this.ref.table.element.focus({preventScroll: false});\n    }\n\n    cellEditing (cell) {\n        const { match } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n\n        let column = cell.getColumn().getField();\n        let _id = cell.getRow().getData()['_id'];\n        if (!_id) {\n            return;\n        }\n        this.cellImEditing = cell;\n        let lockReq = { _id, field: column, dsName, dsView }\n        socket.emit('lockReq', lockReq);\n        //cell.__dg__prevBgColor = cell.getElement().style.backgroundColor;\n        //cell.getElement().style.backgroundColor = cell.__dg__prevBgColor;\n        //delete cell.__dg__prevBgColor;\n        // If you have started editing some cell, don't fire this timer. \n        if (this.timers[\"post-cell-edited\"]) {\n            clearTimeout(this.timers[\"post-cell-edited\"]);\n            this.timers[\"post-cell-edited\"] = null;\n        }\n        \n        /*\n        {\n            let self = this, curValue = cell.getValue();\n            this.setState({ modalEditorText: curValue,\n                            modalEditorCallback: (confirmed, value) => {\n                                self.setState({ showModalEditor: false });\n                                if (confirmed) {\n                                    console.log(\"Value is: \", value);\n                                    cell.setValue(value);\n                                } else {\n                                    cell.setValue(curValue);\n                                }\n                                //self.cellEdited(cell);\n                            },\n                            showModalEditor: true });\n        } */\n    }\n\n    toggleFilters () {\n        const { dsHome, match } = this.props;\n        //let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n\n        this.ref.table.clearHeaderFilter();\n        let currentDefs = this.ref.table.getColumnDefinitions();\n        //console.log(\"Current definitions: \", currentDefs);\n        let newVal;\n        for (let j = 0; j < currentDefs.length; j++) {\n            newVal = currentDefs[j].headerFilter ? false : 'input';\n            try {\n                // If the headerFilter has to be set, then set it from the backend value. \n                if (newVal) {\n                    if (dsHome.dsViews[dsView].columnAttrs[j].headerFilterType)\n                        newVal = dsHome.dsViews[dsView].columnAttrs[j].headerFilterType;\n                }\n            } catch (e) {}\n            currentDefs[j].headerFilter = newVal;\n            //this.ref.table.updateColumnDefinition(currentDefs[j].field, {editor: newVal});\n        }\n        this.ref.table.setColumns(currentDefs);\n        this.setState( { filterButtonText: newVal ? 'Disable Filtering' : 'Enable Filtering'} );\n        //let row = this.ref.table.getRows();\n        //console.log(row);\n        //row.normalizeHeight();\n\n        //this.ref.table.redraw(true);\n    }\n\n    toggleEditing () {\n        const { dsHome, match } = this.props;\n        //let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n        let currentDefs = this.ref.table.getColumnDefinitions();\n        //console.log(\"Current definitions: \", currentDefs);\n        let newVal;\n        for (let j = 0; j < currentDefs.length; j++) {\n            newVal = currentDefs[j].editor ? false : 'input';\n            currentDefs[j].editor = newVal;\n            try {\n                // If the editor has to be set, then set it from the backend value. \n                if (newVal) {\n                    currentDefs[j].editor = dsHome.dsViews[dsView].columnAttrs[j].editor;\n                    if (currentDefs[j].editor === 'textarea') {\n                        currentDefs[j].editor = MyTextArea;\n                    } else if (currentDefs[j].editor === 'codemirror') {\n                        currentDefs[j].editor = MyCodeMirror;\n                    } else if (currentDefs[j].editor === 'date') {\n                        currentDefs[j].editor = DateEditor;\n                    }\n                    console.log(\"Field: \", currentDefs[j].field, \"editor: \", dsHome.dsViews[dsView].columnAttrs[j].editor);\n                }\n            } catch (e) {}\n        //this.ref.table.updateColumnDefinition(currentDefs[j].field, {editor: newVal});\n        }\n        let initialHeaderFilter = this.ref.table.getHeaderFilters();\n        this.ref.table.setColumns(currentDefs);\n        this.setState( { editingButtonText: newVal ? 'Disable Editing' : 'Enable Editing', initialHeaderFilter, refresh: this.state.refresh + 1 } );\n    }\n\n    async addRow (e, cell, data, pos) {\n        const { dispatch, match, dsHome } = this.props;\n        //let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n        if (!data) data = {};\n        try {\n            if (Object.keys(dsHome.dsRowAdds[dsView]).length) {\n                console.log(\"A row add is in progress..\");\n                return;\n            }\n        } catch (e) {}\n        // XXX: 20 is pagination size. Make it a constant. \n        //let row = await this.ref.table.addRow({}, false, 20);\n        let rowIdx = null;\n        if (cell) {\n            let _id = cell.getRow().getData()['_id'];\n            rowIdx = _id;\n        }\n        if (pos === undefined || pos === null)\n            pos = true;\n        let row = await this.ref.table.addRow(data, pos, rowIdx);\n        console.log(\"Row is: \", row);\n    }\n\n    startPreso () {\n        let slideFound = false;\n        let sectionHtml = \"\";\n        let slideList = document.querySelectorAll(\".slide\");\n        for (let i = 0; i < slideList.length; i++) {\n            let slide = slideList[i];\n            slideFound = true;\n            sectionHtml += `<section class=\"top\">${slide.innerHTML}</section>`;\n        }\n        if (!slideFound) return;\n\n        sectionHtml = sectionHtml.replace(/<pre class=\"code-badge-pre\"[\\s\\S]*?(<code [\\s\\S]*?<\\/code>)<\\/pre>/gi, '<pre>$1</pre>');\n        localStorage.setItem('revealjsSections', sectionHtml);\n        window.open('/revealjs', '_blank');\n    }\n\n    // The procedure we do in copyFormatted preserves all the styling! \n    // Thus, we will use the same html generation function, but copy it \n    // to clipboard with the tweaks as in copyFormatted. \n    // Ideally, the html for each cell should be copied from it's innerHTML. \n    // That will preserve the dynamically generated images like plantuml. See \n    // the copyCellToClipboard method. Since we don't have a hook, we are settling\n    // for now. Only plantuml images don't appear in table copy. \n    // Now fixed. Setting colVisProp to \"clipboard\" will call the correct \n    // formatter in which we clone and use the resolved images! See \n    // col.formatterClipboard function below!\n    myCopyToClipboard () {\n        let visible = true, style = true, colVisProp = \"clipboard\", \n            config = null;\n        let html = this.ref.table.modules.export.getHtml(visible, style, config, colVisProp);\n        this.copyFormatted(null, html);\n    }\n\n    copyToClipboard () {\n        // You have to also set 'clipboard' to true in table options.\n        //this.ref.table.copyToClipboard();\n        this.myCopyToClipboard();\n    }\n\n    // https://stackoverflow.com/questions/34191780/javascript-copy-string-to-clipboard-as-text-html\n    copyFormatted (element, html) {\n        // Create container for the HTML\n        var container = document.createElement('div')\n        // XXX: Try to see if you can get the html from the element. But this\n        // didn't do the job. Also messed up the styling it seems. Background color is lost etc. \n        if (element) html = element.innerHTML;\n        html = this.fixImgSizeForClipboard(html);\n        // To replace the markup due to the highlightjs badges. \n        // The regex arrived by looking at the generated markup \n        // and some clever regex as usual. \n        // This mostly is needed when html comes from innerHTML!\n        html = html.replace(/<pre class=\"code-badge-pre\"[\\s\\S]*?(<code [\\s\\S]*?<\\/code>)<\\/pre>/gi, '<pre>$1</pre>');\n\n        html = html.replace(/<code class=\"hljs\">/gi, '<code class=\"hljs\" style=\"background-color:white; font-size:12px\">');\n        container.innerHTML = html\n\n        // Hide element\n        container.style.position = 'fixed'\n        container.style.pointerEvents = 'none'\n        container.style.opacity = 0\n    \n        // Detect all style sheets of the page\n        var activeSheets = Array.prototype.slice.call(document.styleSheets)\n        .filter(function (sheet) {\n            return !sheet.disabled\n        })\n        //console.log(`ActiveSheets: `, activeSheets);\n    \n        // Mount the container to the DOM to make `contentWindow` available\n        document.body.appendChild(container)\n    \n        // Copy to clipboard\n        window.getSelection().removeAllRanges()    \n        var range = document.createRange()\n        range.selectNode(container)\n        window.getSelection().addRange(range)\n        document.execCommand('copy')\n    \n        \n        for (var i = 0; i < activeSheets.length; i++) {\n            //if (activeSheets[i].title === \"highlightJsBadge\" || /bootstrap|datagroom/.test(activeSheets[i].href))\n            if (!/static\\/css/.test(activeSheets[i].href))\n                activeSheets[i].disabled = true\n        }\n        \n        document.execCommand('copy')\n    \n        \n        for (var i = 0; i < activeSheets.length; i++) {\n            //if (activeSheets[i].title === \"highlightJsBadge\" || /bootstrap|datagroom/.test(activeSheets[i].href))\n            if (!/static\\/css/.test(activeSheets[i].href))\n                activeSheets[i].disabled = false\n\n        }\n        \n        // Remove the container\n        document.body.removeChild(container)\n    }\n\n    copyFormattedBetter (container) {\n        // Copy to clipboard\n        window.getSelection().removeAllRanges()    \n        var range = document.createRange()\n        range.selectNode(container)\n        window.getSelection().addRange(range)\n        document.execCommand('copy')    \n        window.getSelection().removeAllRanges();    \n    }\n\n\n    copyCellToClipboard (e, cell) {\n        let colDef = cell.getColumn().getDefinition();\n        let html = colDef.formatter(cell, colDef.formatterParams);\n        //this.copyFormatted(html);\n\n        // Now use the innerHTML! \n        this.copyFormatted(/*cell.getElement()*/ null, `<div style=\"font-family:verdana; font-size:12px; background-color: white\">${cell.getElement().innerHTML}</div>`);\n\n        //this.copyFormattedBetter(cell.getElement());\n    }\n\n    step1 () {\n        const { match, dsHome } = this.props;\n        //let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n\n        if ( !Object.keys(dsHome).length || !dsHome.dsViews || !dsHome.dsViews[dsView] ) {\n            //dispatch(dsActions.loadColumnsForUserView(dsName, dsView, user.user)); \n        }\n\n        let s1 = '';\n        try {\n            if (dsHome.dsViews[dsView].columns) {\n                //console.log(\"Column found!\");\n            }\n        } catch (e) {}\n        return s1;\n    }\n    recordRef (ref) {\n        // setting state is causing grief to the Tabulator component. \n        //this.setState({ ref });\n        this.ref = ref;\n        return true;\n    }\n\n    downloadXlsx () {\n        const { dispatch, match, user } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n        // XXX: Doesn't work from the front end. \n        // this.ref.table.download(\"xlsx\", \"data.xlsx\", { sheetName: \"export\" })\n\n        dispatch(dsActions.downloadXlsx(dsName, dsView, user.user));\n    }\n\n    addRowStatus () {\n        const { dispatch, match, dsHome } = this.props;\n        //let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n        let status = ''\n        try {\n            if (dsHome.dsRowAdds[dsView].status === 'filling') {\n                return '';\n            }\n            if (dsHome.dsRowAdds[dsView].status === 'fail') { \n                status = 'New row add api failed';\n            } else if (dsHome.dsRowAdds[dsView].serverStatus.status === 'fail') {\n                status = 'Row addition failed, key might already be used. Try a different key.';\n            } else if (dsHome.dsRowAdds[dsView].serverStatus.status === 'success') {\n                console.log(\"Updating with: \", dsHome.dsRowAdds[dsView].serverStatus._id);\n                dsHome.dsRowAdds[dsView].uiRow.update({_id: dsHome.dsRowAdds[dsView].serverStatus._id})\n                dispatch({ type: dsConstants.CLEAR_ROW_ADD_TRACKER });\n            }\n        } catch (e) {}\n        return <b style={{color: \"red\"}}> {status} </b>;\n    }\n\n    cellEditStatus () {\n        const { dispatch, match, user, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n        let modalStatus = this.state.modalStatus;\n        let showModal = false;\n        //console.log('In cellEditStatus');\n        try {\n            Object.entries(dsHome.dsEdits).map( (kv) => {\n                let k = kv[0];\n                if (dsHome.dsEdits[k].editStatus === 'done' && \n                    dsHome.dsEdits[k].serverStatus.status === 'fail' && \n                    dsHome.dsEdits[k].serverStatus.hasOwnProperty('value')) {\n                    // set the cell's value from the server.\n                    let update = { _id: k };\n                    update[dsHome.dsEdits[k].serverStatus.column] = dsHome.dsEdits[k].serverStatus.value;\n                    console.log('Update: ', update);\n                    this.ref.table.updateData([ update ]);\n                    modalStatus += `Update <b style=\"color:red\">failed</b>, [key, RejectedValue]: [${dsHome.dsEdits[k].serverStatus.column}, ${dsHome.dsEdits[k].editTracker.newVal}]<br/><br/>`\n                    showModal = true;\n                    // Release the lock\n                    this.cellImEditing = null;\n                    let column = dsHome.dsEdits[k].editTracker.field;\n                    let unlockReq = { _id: k, field: column, dsName, dsView }\n                    socket.emit('unlockReq', unlockReq);\n                    dispatch({ type: dsConstants.EDIT_SINGLE_DELETE_TRACKER, _id: k })\n                } else if (dsHome.dsEdits[k].editStatus === 'done' && \n                    dsHome.dsEdits[k].serverStatus.status === 'fail' && \n                    dsHome.dsEdits[k].serverStatus.hasOwnProperty('error')) {\n                    // when you are editing a key. You simply get an error. Restore old value. \n                    let update = { _id: k };\n                    update[dsHome.dsEdits[k].editTracker.field] = dsHome.dsEdits[k].editTracker.oldVal;\n                    this.ref.table.updateData([ update ]);\n                    modalStatus += `Update <b style=\"color:red\">failed</b><br/> <b style=\"color:red\">Error: ${dsHome.dsEdits[k].serverStatus.error})</b> <br/> Reverted [key, RejectedValue]: [${dsHome.dsEdits[k].editTracker.field}, ${dsHome.dsEdits[k].editTracker.newVal}]<br/><br/>`\n\n                    showModal = true;\n                    // Release the lock\n                    this.cellImEditing = null;\n                    let column = dsHome.dsEdits[k].editTracker.field;\n                    let unlockReq = { _id: k, field: column, dsName, dsView }\n                    socket.emit('unlockReq', unlockReq);\n                    dispatch({ type: dsConstants.EDIT_SINGLE_DELETE_TRACKER, _id: k })\n                } else if (dsHome.dsEdits[k].editStatus === 'done' &&\n                    dsHome.dsEdits[k].serverStatus.status === 'success' &&\n                    dsHome.dsEdits[k].serverStatus.hasOwnProperty('record')) {\n\n                    let updatedRec = dsHome.dsEdits[k].serverStatus.record\n                    let update = {\n                        _id: k,\n                        ...updatedRec\n                    }\n                    this.ref.table.updateData([update]);\n                    showModal = false;\n                    // Release the lock and publish new value to everyone\n                    this.cellImEditing = null;\n                    let column = dsHome.dsEdits[k].editTracker.field;\n                    let newVal = dsHome.dsEdits[k].editTracker.newVal;\n                    let unlockReq = { _id: k, field: column, dsName, dsView, newVal }\n                    socket.emit('unlockReq', unlockReq);\n                    dispatch({ type: dsConstants.EDIT_SINGLE_DELETE_TRACKER, _id: k })\n\n                } else if (dsHome.dsEdits[k].editStatus === 'done' && \n                    dsHome.dsEdits[k].serverStatus.status === 'success') {\n\n                    showModal = false;\n                    // Release the lock and publish new value to everyone\n                    this.cellImEditing = null;\n                    let column = dsHome.dsEdits[k].editTracker.field;\n                    let newVal = dsHome.dsEdits[k].editTracker.newVal;\n                    let unlockReq = { _id: k, field: column, dsName, dsView, newVal }\n                    socket.emit('unlockReq', unlockReq);\n                    dispatch({ type: dsConstants.EDIT_SINGLE_DELETE_TRACKER, _id: k })\n\n                } else if (dsHome.dsEdits[k].editStatus === 'fail') {\n                    let update = { _id: k };\n                    update[dsHome.dsEdits[k].editTracker.field] = dsHome.dsEdits[k].editTracker.oldVal;\n                    this.ref.table.updateData([ update ]);\n                    modalStatus += `Update <b style=\"color:red\">failed</b>, reverted [key, RejectedValue]: [${dsHome.dsEdits[k].editTracker.field}, ${dsHome.dsEdits[k].editTracker.newVal}]<br/><br/>`;\n                    showModal = true;\n                    // Release the lock\n                    this.cellImEditing = null;\n                    let column = dsHome.dsEdits[k].editTracker.field;\n                    let unlockReq = { _id: k, field: column, dsName, dsView }\n                    socket.emit('unlockReq', unlockReq);\n                    dispatch({ type: dsConstants.EDIT_SINGLE_DELETE_TRACKER, _id: k })\n                } else if (dsHome.dsEdits[k].editStatus === 'done' &&\n                    dsHome.dsEdits[k].serverStatus.status === 'silentFail') {\n                    let update = { _id: k };\n                    update[dsHome.dsEdits[k].editTracker.field] = dsHome.dsEdits[k].editTracker.oldVal;\n                    this.ref.table.updateData([update]);\n                    // Release the lock\n                    this.cellImEditing = null;\n                    let column = dsHome.dsEdits[k].editTracker.field;\n                    let unlockReq = { _id: k, field: column, dsName, dsView }\n                    socket.emit('unlockReq', unlockReq);\n                    dispatch({ type: dsConstants.EDIT_SINGLE_DELETE_TRACKER, _id: k })\n                } \n                // Revert the value for other failures also. \n            })\n        } catch (e) {}\n        //console.log(\"Status: \", status);\n        if (showModal /* && !this.state.showModal*/) {\n            let self = this;\n            let modalQuestion = modalStatus ? <div dangerouslySetInnerHTML={{__html: modalStatus}} /> : <div dangerouslySetInnerHTML={{__html: '<b style=\"color:green\">Edit Success</b>'}} />;\n            this.setState({ modalTitle: \"Edit Status\", \n                            modalQuestion: modalQuestion,\n                            modalStatus: modalStatus,\n                            modalOk: \"Dismiss\",\n                            modalCallback: (confirmed) => {self.setState({showModal: false, modalQuestion: '', modalStatus: ''})},\n                            showModal: true });\n        }\n        return <b style={{color: \"red\"}}> {''} </b>;\n    }\n\n    cellEdited (cell) {\n        const { dispatch, match, user, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n\n        // When I'm using MyAutoCompleter, we have to explicitly adjust the \n        // height. But added it everywhere. \n        cell.getRow().normalizeHeight();\n        // XXX: This below call makes you lose continuous editing. Maybe you can \n        // call this in a delayed fashion.\n        if (this.timers[\"post-cell-edited\"]) {\n            clearTimeout(this.timers[\"post-cell-edited\"]);\n            this.timers[\"post-cell-edited\"] = null;\n        }\n        this.timers[\"post-cell-edited\"] = setTimeout(() => {\n            //cell.getRow().normalizeHeight();\n            this.ref.table.rowManager.adjustTableSize(false);\n            this.normalizeAllImgRows();\n            this.applyHighlightJsBadge();\n        }, 500);\n\n        //This maybe too expensive? Not good because it loses scrolling position\n        //this.ref.table.redraw();\n        // This is the correct routine to call which doesn't lose your scrolling. \n        //this.ref.table.rowManager.adjustTableSize();\n        //this.normalizeAllImgRows();\n        //this.applyHighlightJsBadge();\n\n\n        let column = cell.getColumn().getField();\n        let _id = cell.getRow().getData()['_id'];\n        if (!_id) {\n            let keyObj = {};\n            console.log('Looks like new row edit... ');\n            let { oldVal, newVal } = this.fixValueType(cell, column, dsHome, dsView);\n            if (dsHome.dsViews[dsView].keys && dsHome.dsViews[dsView].keys.length) {\n                let atLeastOneKeyNotEmpty = false;\n                for (let i = 0; i < dsHome.dsViews[dsView].keys.length; i++) {\n                    let key = dsHome.dsViews[dsView].keys[i];\n                    if (cell.getRow().getData()[key]) {\n                        atLeastOneKeyNotEmpty = true;\n                    }\n                    keyObj[key] = cell.getRow().getData()[key];\n                }\n                if (!atLeastOneKeyNotEmpty) {\n                    console.log(\"Not ready, all keys empty\");\n                    return;\n                }\n            }\n            let rowData = cell.getRow().getData();\n            console.log('rowData: ', rowData);\n            let uiRow = cell.getRow();\n            dispatch(dsActions.insertOneDoc(dsName, dsView, user.user, keyObj, rowData, uiRow)); \n            return;\n        }\n        // Edit logic\n        let { oldVal, newVal } = this.fixValueType(cell, column, dsHome, dsView);\n\n        let selectorObj = {};\n        selectorObj[\"_id\"] = _id;\n        for (let i = 0; i < dsHome.dsViews[dsView].keys.length; i++) {\n            let key = dsHome.dsViews[dsView].keys[i];\n            selectorObj[key] = cell.getRow().getData()[key];\n        }\n        selectorObj[column] = oldVal;\n\n        let editObj = {};\n        editObj[column] = newVal;\n        let jiraConfig = dsHome.dsViews[dsView].jiraConfig;\n        let jiraAgileConfig = dsHome.dsViews[dsView].jiraAgileConfig;\n        dispatch(dsActions.editSingleAttribute(dsName, dsView, user.user, _id, column, oldVal, newVal, selectorObj, editObj, jiraConfig, jiraAgileConfig));\n\n    }\n    \n    fixValueType(cell, column, dsHome, dsView) {\n        let oldVal = cell.getOldValue();\n        let typeOfOldVal = 'tbd';\n        if (oldVal !== '')\n            typeOfOldVal = typeof oldVal;\n        console.log(\"Type of old val:\", typeOfOldVal);\n        console.log(\"oldvalue is: \", oldVal);\n        //if (oldVal !== '' && !Number.isNaN(Number(oldVal))) oldVal = Number(oldVal);\n        let newVal = cell.getValue();\n        // Old logic, now overridden below. Will get rid of this\n        // once I confirm the new logic works fine. \n        if (newVal !== '' && !Number.isNaN(Number(newVal)))\n            newVal = Number(newVal);\n        if (typeOfOldVal == 'string')\n            newVal = newVal.toString();\n\n        let configuredType = \"string\"; \n        try {\n            for (let i = 0; i < dsHome.dsViews[dsView].columnAttrs.length; i++) {\n                let col = dsHome.dsViews[dsView].columnAttrs[i];\n                if (col.field == column) {\n                    if (col.headerFilterType == 'number') {\n                        configuredType = 'number';\n                    }\n                    break; \n                }\n            }\n        } catch (e) {}\n\n        // This overrides the previous logic\n        if (configuredType == 'string') {\n            newVal = newVal.toString();\n        } else if (configuredType == 'number') {\n            if (newVal !== '' && !Number.isNaN(Number(newVal)))\n                newVal = Number(newVal);\n        }\n\n        // XXX: Tabulator always sets the value to string. \n        // This fixes it correctly.\n        cell.setValue(newVal);\n        return { oldVal, newVal };\n    }\n\n    duplicateAndAddRowHandler (e, cell, pos) {\n        const { match, dsHome } = this.props;\n        let self = this\n        let dsView = match.params.dsView;\n        let jiraConfig = dsHome.dsViews[dsView].jiraConfig;\n        let jiraAgileConfig = dsHome.dsViews[dsView].jiraAgileConfig;\n        let rowData = cell.getRow().getData()\n        if (this.isJiraRow(rowData, jiraConfig, jiraAgileConfig)) {\n            this.setState({\n                modalTitle: \"Duplicate Row status\",\n                modalQuestion: `Can't duplicate a JIRA/JIRA_AGILE row`,\n                modalOk: \"Dismiss\",\n                modalCallback: (confirmed) => { self.setState({ showModal: false, modalQuestion: '', modalStatus: '' }) },\n                showModal: true\n            })\n            return\n        }\n        console.log(\"Duplicate and add row called..\");\n        let newData = JSON.parse(JSON.stringify(cell.getData()));\n        delete newData._id;\n        console.log(\"newData: \", newData);\n        this.addRow(null, cell, newData, pos);\n        //cell.setValue(\"\");\n    }\n\n    /* Start: Handling of single row delete */\n    rowDeleteStatus () {\n        const { dispatch, dsHome } = this.props;\n        let status = ''\n        try {\n            Object.entries(dsHome.dsDeletes).map( (kv) => {\n                let k = kv[0];\n                if (dsHome.dsDeletes[k].deleteStatus === 'done' && \n                    dsHome.dsDeletes[k].serverStatus.status === 'fail') {\n                    //this.ref.table.updateData([ update ]);\n                    status += `Delete failed on server `\n                } else if (dsHome.dsDeletes[k].deleteStatus === 'done' && \n                    dsHome.dsDeletes[k].serverStatus.status === 'success') {\n                    let row = dsHome.dsDeletes[k].deleteTracker.row;\n                    row.delete();\n                    dispatch({ type: dsConstants.DELETE_SINGLE_DELETE_TRACKER, _id: k })\n                } else if (dsHome.dsDeletes[k].deleteStatus === 'fail') {\n                    status += `Delete API failed`;\n                }\n            })\n        } catch (e) {}\n        //console.log(\"Status: \", status);\n        return <b style={{color: \"red\"}}> {status} </b>;\n    }\n\n    deleteRowHandler (e, cell, confirmed) {\n        const { dispatch, match, user, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n\n        console.log(\"Delete row handler called...:\", confirmed);\n        if (confirmed) {\n            let _id = cell.getRow().getData()['_id'];\n            if (!_id) {\n                cell.getRow().delete();\n                return;\n            }\n            dispatch(dsActions.deleteOneDoc(dsName, dsView, user.user, _id, cell.getRow()));\n        }\n        this.setState({ showModal: !this.state.showModal });\n    }\n\n    deleteRowQuestion (e, cell) {\n        let me = this;\n        this.setState({\n            modalTitle: \"Delete current row?\",\n            modalQuestion: `This will delete the current row. Please confirm. Undoing support is not yet available!`,\n            modalOk: \"Delete\",\n            modalCallback: (confirmed) => me.deleteRowHandler(e, cell, confirmed),\n            showModal: !this.state.showModal\n        });\n    }\n\n    /* End: Handling of single row delete */\n\n    /* Start: Handling of delete all rows in view */\n\n    deleteAllRowsStatus () {\n        const { dispatch, dsHome } = this.props;\n        let status = ''\n        try {\n            Object.entries(dsHome.dsDeletes).map( (kv) => {\n                let k = kv[0];\n                if (dsHome.dsDeletes[k].deleteStatus === 'done' && \n                    dsHome.dsDeletes[k].serverStatus.status === 'fail') {\n                    status += `Delete failed on server `\n                } else if (dsHome.dsDeletes[k].deleteStatus === 'done' && \n                    dsHome.dsDeletes[k].serverStatus.status === 'success') {\n                    /*\n                    let rows = dsHome.dsDeletes[k].deleteTracker.rows;\n                    for (let i = 0; i < rows.length; i++)\n                        rows[i].delete();\n                    */\n                    this.ref.table.clearData();\n                    dispatch({ type: dsConstants.DELETE_MANY_DELETE_TRACKER, _id: k })\n                } else if (dsHome.dsDeletes[k].deleteStatus === 'fail') {\n                    status += `Delete API failed`;\n                }\n            })\n        } catch (e) {}\n        return <b style={{color: \"red\"}}> {status} </b>;\n    }\n\n    deleteAllRowsInView (confirmed) {\n        const { dispatch, match, user, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n\n        console.log(\"Confirmed is: \", confirmed);\n        if (confirmed) {\n            let rows = this.ref.table.getRows();\n            let objects = [];\n            console.log(\"Will now delete Rows: \", rows);\n            for (let i = 0; i < rows.length; i++) {\n                let _id = rows[i].getData()['_id'];\n                if (_id)\n                    objects.push(_id);\n            }\n            dispatch(dsActions.deleteManyDocs(dsName, dsView, user.user, objects, rows));\n        }\n        this.setState({ showModal: !this.state.showModal });\n    }\n\n    deleteAllRowsInViewQuestion () {\n        let rows = this.ref.table.getRows();\n        this.setState({\n            modalTitle: \"Delete all rows in view?\",\n            modalQuestion: `This will delete ${rows.length} rows. Please confirm. Undoing support is not yet available!`,\n            modalOk: \"Delete\",\n            modalCallback: this.deleteAllRowsInView,\n            showModal: !this.state.showModal\n        });\n    }\n\n    /* End: Handling of all rows in view */\n\n\n    /* Start: Handling of delete all rows in queries */\n    async deleteAllRowsInQuery() {\n        const { match, user } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n        let body = {};\n        let baseUrl = `${config.apiUrl}/ds/deleteFromQuery/${dsName}/${dsView}/${user.user}`\n        let filters = this.ref.table.getHeaderFilters();\n        let url = this.ajaxURLGenerator(baseUrl, {}, { filters, pretend: true });\n        let dataLen = JSON.stringify(body).length.toString();\n        let response = await fetch(url, {\n            method: \"post\",\n            body: JSON.stringify(body),\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Content-Length\": dataLen,\n                ...authHeader()\n            },\n            credentials: \"include\"  \n        });\n        let responseJson = null;\n        if (response.ok) {\n            responseJson = await response.json();\n            console.log('deleteFromQuery responseJson total: ', responseJson.total);\n            this.setState({\n                modalTitle: \"Delete all Rows in query?\",\n                modalQuestion: `This will delete ${responseJson.total} rows. Please confirm. Undoing support is not yet available!`,\n                modalOk: \"Delete\",\n                modalCallback: async (confirmed) => {\n                    if (confirmed) {\n                        url = this.ajaxURLGenerator(baseUrl, {}, { filters, pretend: false });\n                        let dataLen = JSON.stringify(body).length.toString();\n                        let response = await fetch(url, {\n                            method: \"post\",\n                            body: JSON.stringify(body),\n                            headers: {\n                                \"Content-Type\": \"application/json\",\n                                \"Content-Length\": dataLen,\n                                ...authHeader()\n                            },\n                            credentials: \"include\"\n                        });\n                        if (response.ok) {\n                            let delJson = await response.json();\n                            if (delJson.count == responseJson.total) {\n                                this.ref.table.clearData();\n                            }\n                        }\n                    }\n                },\n                showModal: !this.state.showModal\n            });            \n        }\n        return responseJson;\n    }\n\n    /* End: Handling of delete all rows in queries */\n\n    jiraRefreshStatus () {\n        const { dispatch, dsHome } = this.props;\n        if (dsHome && dsHome.dsJiraRefresh && dsHome.dsJiraRefresh.status === 'done') {\n            this.setState({ refresh: this.state.refresh + 1 });\n            dispatch({ type: dsConstants.JIRA_REFRESH_DELETE_TRACKER })\n        }\n\n    }\n\n    jiraRefreshHandler () {\n        const { dispatch, match, user } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n\n        let initialHeaderFilter = this.ref.table.getHeaderFilters();\n        this.setState({initialHeaderFilter});\n        dispatch(dsActions.refreshJira(dsName, dsView, user.user));\n    }\n\n    setFreezeColumn (e, column, freeze) {\n        const { match, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n\n        let currentDefs = this.ref.table.getColumnDefinitions();\n        // Last column freezing or unfreezing is no-op in our design. \n        if (currentDefs[currentDefs.length - 1].field === column.getField()) \n            return;\n\n        // Preserve the filters first. \n        let initialHeaderFilter = this.ref.table.getHeaderFilters();\n        this.setState({initialHeaderFilter});\n\n        if (freeze)\n            this.setState({frozenCol: column.getField(), refresh: this.state.refresh + 1});\n        else \n            this.setState({frozenCol: \"\", refresh: this.state.refresh + 1});\n        // Doesn't do the right thing. \n        // https://github.com/olifolkerd/tabulator/issues/2868\n        /*\n        let newVal;\n        for (let j = 0; j < currentDefs.length; j++) {\n            if (currentDefs[j].field === column.getField()) {\n                currentDefs[j].frozen = freeze;\n                this.ref.table.updateColumnDefinition(currentDefs[j].field, {frozen: freeze});\n                break;\n            }\n        } */\n    }\n    freezeColumn (e, column) {\n        this.setFreezeColumn(e, column, true);\n    }\n    unfreezeColumn (e, column) {\n        this.setFreezeColumn(e, column, false)\n    }\n\n    toggleSingleFilter (e, column) {\n        const { match, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n\n        let currentDefs = this.ref.table.getColumnDefinitions();\n        let newVal;\n        for (let j = 0; j < currentDefs.length; j++) {\n            if (currentDefs[j].field === column.getField()) {\n                newVal = currentDefs[j].headerFilter ? false : 'input';\n                try {\n                    // If the headerFilter has to be set, then set it from the backend value. \n                    if (newVal) {\n                        if (dsHome.dsViews[dsView].columnAttrs[j].headerFilterType)\n                            newVal = dsHome.dsViews[dsView].columnAttrs[j].headerFilterType;\n                        /*\n                        if (currentDefs[j].field === \"SlNo\") {\n                            currentDefs[j].headerFilter = 'number';\n                            newVal = 'number'\n                        }*/\n                    }\n                } catch (e) {}\n                currentDefs[j].headerFilter = newVal;\n                // Comment this line and uncomment couple of lines below to use setCOlumns\n                // if you don't like the header row width. \n                this.ref.table.updateColumnDefinition(currentDefs[j].field, {headerFilter: newVal});\n            }\n        }\n        // uncomment this and comment updatecolumnDefinition above if you don't like header width. \n        //this.ref.table.setColumns(currentDefs);\n    }\n\n    /**Start convert to JIRA row */\n    handleJiraFormChange(obj) {\n        let key = Object.keys(obj)[0]\n        if (key && key === \"Project\" || key == \"JIRA_AGILE_LABEL\" || key == \"Type\" || key === \"summary\" || key === \"description\") {\n            this.jiraFormData = {\n                ...this.jiraFormData,\n                [key]: obj[key]\n            }\n        } else {\n            this.jiraFormData = {\n                ...this.jiraFormData,\n                [this.jiraFormData.Type]: {\n                    ...this.jiraFormData[this.jiraFormData.Type],\n                    ...obj\n                }\n            }\n        }\n    }\n\n    formFinalJiraFormData() {\n        let jiraFormData = JSON.parse(JSON.stringify(this.jiraFormData));\n        for (let field of Object.keys(jiraFormData)) {\n            if (!jiraFormData[field]) continue;\n            if (typeof jiraFormData[field] !== 'object') continue;\n            jiraFormData[field].summary = jiraFormData.summary;\n            jiraFormData[field].description = jiraFormData.description;\n        }\n        delete jiraFormData.summary;\n        delete jiraFormData.description;\n        return jiraFormData;\n    }\n\n    async submitJiraFormChange(confirmed, _id, selectorObj) {\n        if (confirmed) {\n            const { dispatch, match, user, dsHome } = this.props;\n            let dsName = match.params.dsName;\n            let dsView = match.params.dsView;\n            let username = user.user;\n            let jiraConfig = dsHome.dsViews[dsView].jiraConfig;\n            let jiraAgileConfig = dsHome.dsViews[dsView].jiraAgileConfig;\n            let jiraFormData = this.formFinalJiraFormData()\n            this.updateLocalStorage(jiraFormData)\n            if (jiraFormData.Type == \"Bug\") {\n                //Just before sending change the value of key customfield_25578 to array\n                jiraFormData[jiraFormData.Type].customfield_25578 = jiraFormData[jiraFormData.Type].customfield_25578.split(\",\")\n            }\n            // dispatch(dsActions.convertToJira(dsName, dsView, user.user, _id, selectorObj, jiraFormData, jiraConfig, jiraAgileConfig));\n            //reset the jiraFormData value\n            let response = await dsService.convertToJira({ dsName, dsView, username, selectorObj, jiraFormData, jiraConfig, jiraAgileConfig })\n            let secondaryModalStatus = this.state.modalStatus;\n            let modalStatus = this.state.modalStatus;\n            let showSecondaryModal = false\n            if (response) {\n                if (response.status == 'success') {\n                    let fullUpdatedRec = response.record\n                    let update = {\n                        _id: _id,\n                        ...fullUpdatedRec\n                    }\n                    this.ref.table.updateData([update]);\n                    modalStatus += `Update <b style=\"color:green\">Update done</b> <br/> Jira issue Key for converted row: ${response.key}<br/><br/>`\n                    let modalQuestion = modalStatus ? <div dangerouslySetInnerHTML={{ __html: modalStatus }} /> : <div dangerouslySetInnerHTML={{ __html: '<b style=\"color:green\">Convert Success</b>' }} />;\n                    this.setState({\n                        modalTitle: \"Convert Status\",\n                        modalQuestion: modalQuestion,\n                        modalStatus: modalStatus,\n                        modalOk: \"Dismiss\",\n                        modalCallback: (confirmed) => { this.setState({ showModal: false, modalQuestion: '', modalStatus: '', grayOutModalButtons: false }) },\n                        showModal: true,\n                        toggleModalOnClose: true,\n                        grayOutModalButtons: false\n                    });\n                    let obj = {\n                        Project: \"\",\n                        JIRA_AGILE_LABEL: \"None\",\n                        Type: \"Epic\",\n                        summary: \"\",\n                        description: \"\"\n                    }\n                    this.jiraFormData = obj\n                    this.jiraFormData = {\n                        ...this.jiraFormData,\n                        ...dsHome.defaultTypeFieldsAndValues.value.projects[0].issuetypes\n                    }\n                } else {\n                    secondaryModalStatus += `Update <b style=\"color:red\">failed</b><br/> <b style=\"color:red\">Error: ${response.error}</b><br/><br/>`\n                    showSecondaryModal = true;\n                }\n            } else {\n                secondaryModalStatus += `Update <b style=\"color:red\">failed</b><br/><br/>`\n                showSecondaryModal = true;\n            }\n            if (showSecondaryModal /* && !this.state.showModal*/) {\n                let self = this;\n                let secondaryModalQuestion = secondaryModalStatus ? <div dangerouslySetInnerHTML={{ __html: secondaryModalStatus }} /> : <div dangerouslySetInnerHTML={{ __html: '<b style=\"color:green\">Convert Success</b>' }} />;\n                this.setState({\n                    secondaryModalTitle: \"Convert Status\",\n                    secondaryModalQuestion: secondaryModalQuestion,\n                    secondaryModalStatus: secondaryModalStatus,\n                    secondaryModalOk: \"Dismiss\",\n                    secondaryModalCallback: (confirmed) => { self.setState({ showSecondaryModal: false, secondaryModalQuestion: '', secondaryModalStatus: '', grayOutModalButtons: false }) },\n                    showSecondaryModal: true,\n                });\n            }\n        } else {\n            this.setState({ showModal: !this.state.showModal, toggleModalOnClose: true });\n        }\n    }\n\n    /**\n     * Given all the defaults defined in the backend, this function will return the default values for the given projectName\n     * @param {Array<Object>} defaultValuesOfAllProjects \n     * @param {string} jiraProjectName \n     * @returns {object}\n     */\n    getDefaultTypeFieldsAndValuesForProject(defaultValuesOfAllProjects, jiraProjectName) {\n        for (let projectObj of defaultValuesOfAllProjects) {\n            if (projectObj.key == jiraProjectName) {\n                return projectObj;\n            }\n        }\n        return null;\n    }\n\n    async convertToJiraRow(e, cell) {\n        let self = this\n        const { match, dsHome, user } = this.props;\n        let dsView = match.params.dsView;\n        let dsName = match.params.dsName;\n        let jiraConfig = dsHome.dsViews[dsView].jiraConfig;\n        let jiraAgileConfig = dsHome.dsViews[dsView].jiraAgileConfig;\n        let jiraProjectName = dsHome.dsViews[dsView].jiraProjectName;\n        let dsUser = user.user;\n        if (!jiraProjectName) {\n            this.setState({\n                modalTitle: \"Convert JIRA status\",\n                modalQuestion: `Jira Project Name not configured. Please go to \"Edit-view\" of the dataset and add Jira Project Name same as that in JIRA. Reload this page.`,\n                modalOk: \"Dismiss\",\n                modalCallback: (confirmed) => { self.setState({ showModal: false, modalQuestion: '', modalStatus: '' }) },\n                showModal: true\n            })\n            return\n        }\n        if ((!jiraConfig || !jiraConfig.jira) && (!jiraAgileConfig || !jiraAgileConfig.jira)) {\n            this.setState({\n                modalTitle: \"Convert JIRA status\",\n                modalQuestion: `Both JIRA/JIRA_AGILE config is disabled. Enable anyone or both to convert to JIRA row`,\n                modalOk: \"Dismiss\",\n                modalCallback: (confirmed) => { self.setState({ showModal: false, modalQuestion: '', modalStatus: '' }) },\n                showModal: true\n            })\n            return\n        }\n        let data = cell.getRow().getData()\n        if (this.isJiraRow(data, jiraConfig, jiraAgileConfig)) {\n            this.setState({\n                modalTitle: \"Convert JIRA status\",\n                modalQuestion: `Already a JIRA row. Cannot convert it further.!!`,\n                modalOk: \"Dismiss\",\n                modalCallback: (confirmed) => { self.setState({ showModal: false, modalQuestion: '', modalStatus: '' }) },\n                showModal: true\n            })\n            return\n        }\n        let projectsMetaData = await dsService.getProjectsMetaData({ dsName, dsView, dsUser, jiraAgileConfig, jiraConfig, jiraProjectName })\n        if (!projectsMetaData || Object.keys(projectsMetaData).length == 0) {\n            this.setState({\n                modalTitle: \"Convert JIRA status\",\n                modalQuestion: `Unable to fetch projects metaData. Update JiraSettings correctly to fetch metadata.`,\n                modalOk: \"Dismiss\",\n                modalCallback: (confirmed) => { self.setState({ showModal: false, modalQuestion: '', modalStatus: '' }) },\n                showModal: true\n            })\n            return\n        }\n        let copyOfDefaults = JSON.parse(JSON.stringify(this.getDefaultTypeFieldsAndValuesForProject(dsHome.defaultTypeFieldsAndValues.value.projects, jiraProjectName).issuetypes));\n        this.jiraFormData = {\n            ...this.jiraFormData,\n            ...copyOfDefaults\n        }\n        if (jiraAgileConfig && jiraAgileConfig.label) {\n            this.jiraFormData.JIRA_AGILE_LABEL = jiraAgileConfig.label\n        }\n        this.fillLocalStorageItemData(projectsMetaData.issuetypes)\n        let rowData = cell.getRow().getData()\n        this.formInitialJiraForm(rowData, jiraConfig, jiraAgileConfig)\n        if (this.jiraFormData.Type == \"Bug\" && (!jiraConfig || !jiraConfig.jira)) {\n            this.setState({\n                modalTitle: \"Convert JIRA status\",\n                modalQuestion: `Trying to convert Bug type without enabling the Jira. Please enable it first in edit-view`,\n                modalOk: \"Dismiss\",\n                modalCallback: (confirmed) => { self.setState({ showModal: false, modalQuestion: '', modalStatus: '' }) },\n                showModal: true\n            })\n            return\n        }\n        if ((this.jiraFormData.Type == \"Epic\" || this.jiraFormData.Type == \"Story\" || this.jiraFormData.Type == \"Story Task\") && (!jiraAgileConfig || !jiraAgileConfig.jira)) {\n            this.setState({\n                modalTitle: \"Convert JIRA status\",\n                modalQuestion: `Trying to convert ${this.jiraFormData.Type} type without enabling the Jira_Agile. Please enable it first in edit-view`,\n                modalOk: \"Dismiss\",\n                modalCallback: (confirmed) => { self.setState({ showModal: false, modalQuestion: '', modalStatus: '' }) },\n                showModal: true\n            })\n            return\n        }\n        if ((jiraConfig && jiraConfig.jira) || (jiraAgileConfig && jiraAgileConfig.jira)) {\n            let _id = cell.getRow().getData()['_id'];\n            let selectorObj = {};\n            selectorObj[\"_id\"] = _id;\n            for (let i = 0; i < dsHome.dsViews[dsView].keys.length; i++) {\n                let key = dsHome.dsViews[dsView].keys[i];\n                selectorObj[key] = cell.getRow().getData()[key];\n            }\n            let jiraAgileBoard = jiraAgileConfig.label\n            this.setState({\n                modalTitle: \"Jira row specifications:- \",\n                modalOk: \"Convert\",\n                modalQuestion: <JiraForm formData={this.jiraFormData} handleChange={this.handleJiraFormChange} jiraEnabled={dsHome.dsViews[dsView].jiraConfig && dsHome.dsViews[dsView].jiraConfig.jira} jiraAgileEnabled={dsHome.dsViews[dsView].jiraAgileConfig && dsHome.dsViews[dsView].jiraAgileConfig.jira} jiraAgileBoard={jiraAgileBoard} projectsMetaData={projectsMetaData} />,\n                modalCallback: (confirmed) => {\n                    self.submitJiraFormChange(confirmed, _id, selectorObj)\n                },\n                showModal: !this.state.showModal,\n                toggleModalOnClose: false,\n            })\n        } else {\n            this.setState({\n                modalTitle: \"Convert JIRA status\",\n                modalQuestion: `<b>Both JIRA/JIRA_AGILE config is disabled. Enable anyone or both to convert to JIRA row</b>`,\n                modalOk: \"Dismiss\",\n                modalCallback: (confirmed) => { self.setState({ showModal: false, modalQuestion: '', modalStatus: '' }) },\n                showModal: true\n            })\n        }\n    }\n\n    fillLocalStorageItemData(issueTypes) {\n        try {\n            for (let key of Object.keys(this.jiraFormData)) {\n                if (typeof this.jiraFormData[key] == \"object\") {\n                    let localStorageItem = localStorage.getItem(key)\n                    if (localStorageItem && localStorageItem != \"undefined\") {\n                        let parsedLocalItem = JSON.parse(localStorageItem)\n                        for (let parsedKey of Object.keys(parsedLocalItem)) {\n                            if (this.jiraFormData[key].hasOwnProperty(parsedKey)) {\n                                let { isValidated, defaultValue } = this.validateAndGetDefaultValue(issueTypes, key, parsedKey, parsedLocalItem[parsedKey])\n                                if (isValidated && defaultValue != null) {\n                                    this.jiraFormData[key][parsedKey] = defaultValue\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            if (localStorage.getItem('JIRA_AGILE_LABEL') && localStorage.getItem('JIRA_AGILE_LABEL') != \"undefined\") {\n                this.jiraFormData.JIRA_AGILE_LABEL = localStorage.getItem('JIRA_AGILE_LABEL')\n            }\n        } catch (e) { }\n    }\n\n    validateAndGetDefaultValue(issueTypes, issueType, field, value) {\n        let isValidated = false;\n        let defaultValue = null;\n        if (field === \"customfield_25578\") {\n            isValidated = true;\n            defaultValue = value;\n            return { isValidated, defaultValue }\n        }\n        for (let i = 0; i < issueTypes.length; i++) {\n            if (issueTypes[i].name != issueType) { continue }\n            let currIssueObj = issueTypes[i];\n            let fieldObj = currIssueObj.fields[field];\n            if (fieldObj) {\n                if (fieldObj.type == \"array\" && fieldObj.allowedValues) {\n                    for (let k = 0; k < value.length; k++) {\n                        if (!fieldObj.allowedValues.includes(value[k])) {\n                            isValidated = false;\n                            return { isValidated, defaultValue }\n                        }\n                    }\n                    isValidated = true\n                    defaultValue = value\n                    return { isValidated, defaultValue }\n                } else if (fieldObj.type == \"option\" && fieldObj.allowedValues) {\n                    if (fieldObj.allowedValues.includes(value)) {\n                        isValidated = true;\n                        defaultValue = value;\n                        return { isValidated, defaultValue }\n                    } else {\n                        isValidated = false;\n                        return { isValidated, defaultValue }\n                    }\n                } else if (fieldObj.type == \"creatableArray\" && fieldObj.allowedValues) {\n                    if (fieldObj.allowedValues.includes(value)) {\n                        isValidated = true;\n                        defaultValue = value;\n                        return { isValidated, defaultValue }\n                    } else {\n                        isValidated = false;\n                        return { isValidated, defaultValue }\n                    }\n                } else if (fieldObj.type == \"searchableOption\" && fieldObj.allowedValues) {\n                    let allowedValues = fieldObj.allowedValues.map((e) => e.key)\n                    if (allowedValues.includes(value)) {\n                        isValidated = true;\n                        defaultValue = value;\n                        return { isValidated, defaultValue }\n                    } else {\n                        isValidated = false;\n                        return { isValidated, defaultValue }\n                    }\n                } else {\n                    isValidated = true\n                    defaultValue = value\n                    return { isValidated, defaultValue }\n                }\n            } else {\n                return { isValidated, defaultValue }\n            }\n        }\n        return { isValidated, defaultValue }\n    }\n\n    formInitialJiraForm(rowData, jiraConfig, jiraAgileConfig) {\n        try {\n            let fieldMapping = null\n            if (jiraConfig && jiraConfig.jira) {\n                fieldMapping = jiraConfig.jiraFieldMapping\n            }\n            if (jiraAgileConfig && jiraAgileConfig.jira) {\n                fieldMapping = {\n                    ...fieldMapping,\n                    ...jiraAgileConfig.jiraFieldMapping\n                }\n            }\n            if (!fieldMapping) return\n            let summary = \"\"\n            let description = \"\"\n            let descriptionDone = false\n            let type = \"\"\n            let storyPoints = 0\n            if (fieldMapping[\"summary\"]) {\n                let value = rowData[fieldMapping[\"summary\"]]\n                let arr = value.split(\"\\n\")\n                if (arr.length >= 2) {\n                    let summaryLine = arr[0]\n                    let matchArr = summaryLine.match((/#+(.*)/))\n                    if (matchArr && matchArr.length >= 2) {\n                        summary = matchArr[1].trim()\n                    } else {\n                        summary = summaryLine\n                    }\n                    description = arr.join(\"\\n\").trim()\n                    descriptionDone = true\n                } else if (arr.length == 1) {\n                    let summaryLine = arr[0]\n                    let matchArr = summaryLine.match((/#+(.*)/))\n                    if (matchArr && matchArr.length >= 2) {\n                        summary = matchArr[1].trim()\n                    } else {\n                        summary = summaryLine\n                    }\n                }\n            }\n            if (fieldMapping[\"type\"]) {\n                if (rowData[fieldMapping[\"type\"]].match(/(t|T)ask/))\n                    type = \"Story Task\"\n                else if (rowData[fieldMapping[\"type\"]].match(/(b|B)ug/))\n                    type = \"Bug\"\n                else if (rowData[fieldMapping[\"type\"]].match(/(e|E)pic/))\n                    type = \"Epic\"\n                else if (rowData[fieldMapping[\"type\"]].match(/(s|S)tory/))\n                    type = \"Story\"\n            }\n            if (!descriptionDone && fieldMapping[\"description\"]) {\n                description = rowData[fieldMapping[\"description\"]].trim()\n            }\n            if (fieldMapping[\"Story Points\"]) {\n                if (typeof rowData[fieldMapping[\"Story Points\"]] == 'number')\n                    storyPoints = rowData[fieldMapping[\"Story Points\"]]\n                else if (typeof rowData[fieldMapping[\"Story Points\"]] == 'string')\n                    storyPoints = parseInt(rowData[fieldMapping[\"Story Points\"]])\n            }\n\n            if (type == \"Epic\" || type == \"Story\" || type == \"Bug\" || type == \"Story Task\") {\n                this.jiraFormData[\"Type\"] = type\n            }\n            this.jiraFormData['summary'] = summary\n            this.jiraFormData['description'] = description\n            for (let key of Object.keys(this.jiraFormData)) {\n                if (typeof this.jiraFormData[key] != 'object') continue\n                if (storyPoints != 0 && jiraCustomFieldMapping['Story Points']) {\n                    if (this.jiraFormData[key][jiraCustomFieldMapping['Story Points']] == 0 || this.jiraFormData[key][jiraCustomFieldMapping['Story Points']]) this.jiraFormData[key][jiraCustomFieldMapping['Story Points']] = storyPoints\n                }\n            }\n        } catch (e) { }\n    }\n\n    isJiraRow(data, jiraConfig, jiraAgileConfig) {\n        let fieldMapping = null\n        if (jiraConfig && jiraConfig.jira) {\n            fieldMapping = jiraConfig.jiraFieldMapping\n        }\n        if (jiraAgileConfig && jiraAgileConfig.jira) {\n            fieldMapping = {\n                ...fieldMapping,\n                ...jiraAgileConfig.jiraFieldMapping\n            }\n        }\n        if (!fieldMapping) return false\n        let key = data[fieldMapping['key']]\n        if (!key) return false\n        if (key.match(/https:(.*)\\/browse\\//)) return true\n        return false\n    }\n    /**End convert to JIRA row */\n\n    /**Start add a jira issue */\n    async addJiraRow(e, cell, type) {\n        let self = this\n        const { match, dsHome, user } = this.props;\n        let dsView = match.params.dsView;\n        let dsName = match.params.dsName;\n        let dsUser = user.user;\n        let jiraConfig = dsHome.dsViews[dsView].jiraConfig;\n        let jiraAgileConfig = dsHome.dsViews[dsView].jiraAgileConfig;\n        let jiraProjectName = dsHome.dsViews[dsView].jiraProjectName;\n        if (!jiraProjectName) {\n            this.setState({\n                modalTitle: \"Add JIRA status\",\n                modalQuestion: `Jira Project Name not configured. Please go to \"Edit-view\" of the dataset and add Jira Project Name same as that in JIRA. Reload this page.`,\n                modalOk: \"Dismiss\",\n                modalCallback: (confirmed) => { self.setState({ showModal: false, modalQuestion: '', modalStatus: '' }) },\n                showModal: true\n            })\n            return\n        }\n        if ((!jiraConfig || !jiraConfig.jira) && (!jiraAgileConfig || !jiraAgileConfig.jira)) {\n            this.setState({\n                modalTitle: \"Add JIRA status\",\n                modalQuestion: `Both JIRA/JIRA_AGILE config is disabled. Enable anyone or both to add a JIRA row`,\n                modalOk: \"Dismiss\",\n                modalCallback: (confirmed) => { self.setState({ showModal: false, modalQuestion: '', modalStatus: '' }) },\n                showModal: true\n            })\n            return\n        }\n        if (cell && type) {\n            let rowData = cell.getRow().getData()\n            if (!this.isJiraRow(rowData, jiraConfig, jiraAgileConfig)) {\n                this.setState({\n                    modalTitle: \"Add JIRA status\",\n                    modalQuestion: `Cannot add JIRA as child of non-Jira row`,\n                    modalOk: \"Dismiss\",\n                    modalCallback: (confirmed) => { self.setState({ showModal: false, modalQuestion: '', modalStatus: '' }) },\n                    showModal: true\n                })\n                return\n            }\n            let isValid = this.checkIfValid(rowData, type, jiraConfig, jiraAgileConfig)\n            if (!isValid) {\n                this.setState({\n                    modalTitle: \"Add JIRA status\",\n                    modalQuestion: `Can't add ${type} to current row.`,\n                    modalOk: \"Dismiss\",\n                    modalCallback: (confirmed) => { self.setState({ showModal: false, modalQuestion: '', modalStatus: '' }) },\n                    showModal: true\n                })\n                return\n            }\n\n        }\n        let projectsMetaData = await dsService.getProjectsMetaData({ dsName, dsView, dsUser, jiraAgileConfig, jiraConfig, jiraProjectName })\n        if (!projectsMetaData || Object.keys(projectsMetaData).length == 0) {\n            this.setState({\n                modalTitle: \"Add JIRA status\",\n                modalQuestion: `Unable to fetch projects metaData. Update JiraSettings correctly to fetch metadata.`,\n                modalOk: \"Dismiss\",\n                modalCallback: (confirmed) => { self.setState({ showModal: false, modalQuestion: '', modalStatus: '' }) },\n                showModal: true\n            })\n            return\n        }\n        let copyOfDefaults = JSON.parse(JSON.stringify(this.getDefaultTypeFieldsAndValuesForProject(dsHome.defaultTypeFieldsAndValues.value.projects, jiraProjectName).issuetypes))\n        this.jiraFormData = {\n            ...this.jiraFormData,\n            ...copyOfDefaults\n        }\n        if (jiraAgileConfig && jiraAgileConfig.label) {\n            this.jiraFormData.JIRA_AGILE_LABEL = jiraAgileConfig.label\n        }\n        this.fillLocalStorageItemData(projectsMetaData.issuetypes)\n        if (type)\n            this.jiraFormData.Type = type\n        if (this.jiraFormData.Type == \"Bug\" && (!jiraConfig || !jiraConfig.jira)) {\n            this.setState({\n                modalTitle: \"Convert JIRA status\",\n                modalQuestion: `Trying to add Bug type without enabling the Jira. Please enable it first in edit-view`,\n                modalOk: \"Dismiss\",\n                modalCallback: (confirmed) => { self.setState({ showModal: false, modalQuestion: '', modalStatus: '' }) },\n                showModal: true\n            })\n            return\n        }\n        if ((this.jiraFormData.Type == \"Epic\" || this.jiraFormData.Type == \"Story\" || this.jiraFormData.Type == \"Story Task\") && (!jiraAgileConfig || !jiraAgileConfig.jira)) {\n            this.setState({\n                modalTitle: \"Convert JIRA status\",\n                modalQuestion: `Trying to add ${this.jiraFormData.Type} type without enabling the Jira_Agile. Please enable it first in edit-view`,\n                modalOk: \"Dismiss\",\n                modalCallback: (confirmed) => { self.setState({ showModal: false, modalQuestion: '', modalStatus: '' }) },\n                showModal: true\n            })\n            return\n        }\n        if ((jiraConfig && jiraConfig.jira) || (jiraAgileConfig && jiraAgileConfig.jira)) {\n            let jiraAgileBoard = null\n            try {\n                jiraAgileBoard = jiraAgileConfig.label\n                this.jiraFormData.JIRA_AGILE_LABEL = jiraAgileBoard\n            } catch (e) { }\n            let jiraId = null\n            let selectorObj = null\n            if (type) {\n                jiraId = this.getJiraId(cell.getRow().getData(), jiraConfig, jiraAgileConfig)\n                if (this.jiraFormData.Type == 'Story') {\n                    this.jiraFormData[this.jiraFormData.Type].customfield_12790 = jiraId\n                } else if (this.jiraFormData.Type == \"Story Task\") {\n                    this.jiraFormData[this.jiraFormData.Type].parent = jiraId\n                }\n                let _id = cell.getRow().getData()['_id'];\n                selectorObj = {};\n                selectorObj[\"_id\"] = _id;\n            }\n            this.setState({\n                modalTitle: \"Jira specifications:- \",\n                modalOk: \"Add\",\n                modalQuestion: <JiraForm formData={this.jiraFormData} handleChange={this.handleJiraFormChange} jiraEnabled={dsHome.dsViews[dsView].jiraConfig && dsHome.dsViews[dsView].jiraConfig.jira} jiraAgileEnabled={dsHome.dsViews[dsView].jiraAgileConfig && dsHome.dsViews[dsView].jiraAgileConfig.jira} jiraAgileBoard={jiraAgileBoard} projectsMetaData={projectsMetaData} />,\n                modalCallback: (confirmed) => {\n                    self.submitAddJira(confirmed, jiraId, selectorObj)\n                },\n                showModal: !this.state.showModal,\n                toggleModalOnClose: false\n            })\n        } else {\n            this.setState({\n                modalTitle: \"Convert JIRA status\",\n                modalQuestion: `<b>Both JIRA/JIRA_AGILE config is disabled. Enable anyone or both to convert to JIRA row</b>`,\n                modalOk: \"Dismiss\",\n                modalCallback: (confirmed) => { self.setState({ showModal: false, modalQuestion: '', modalStatus: '' }) },\n                showModal: true\n            })\n        }\n    }\n\n    checkIfValid(rowData, type, jiraConfig, jiraAgileConfig) {\n        let fieldMapping = null\n        if (jiraConfig && jiraConfig.jira) {\n            fieldMapping = jiraConfig.jiraFieldMapping\n        }\n        if (jiraAgileConfig && jiraAgileConfig.jira) {\n            fieldMapping = {\n                ...fieldMapping,\n                ...jiraAgileConfig.jiraFieldMapping\n            }\n        }\n        if (!fieldMapping) return false\n        try {\n            if (type == 'Story' && rowData[fieldMapping['type']] == 'Epic') {\n                return true\n            } else if (type == 'Story Task' && rowData[fieldMapping['type']] == 'Story') {\n                return true\n            } else {\n                return false\n            }\n        } catch (e) { return false }\n    }\n\n    getJiraId(rowData, jiraConfig, jiraAgileConfig) {\n        let fieldMapping = null\n        if (jiraConfig && jiraConfig.jira) {\n            fieldMapping = jiraConfig.jiraFieldMapping\n        }\n        if (jiraAgileConfig && jiraAgileConfig.jira) {\n            fieldMapping = {\n                ...fieldMapping,\n                ...jiraAgileConfig.jiraFieldMapping\n            }\n        }\n        try {\n            let key = rowData[fieldMapping['key']]\n            let regex = new RegExp(`/browse/(.*)\\\\)`)\n            let jiraIssueIdMatchArr = key.match(regex)\n            if (jiraIssueIdMatchArr && jiraIssueIdMatchArr.length >= 2) {\n                key = jiraIssueIdMatchArr[1]\n            }\n            return key\n        } catch (e) { }\n        return \"\"\n    }\n\n    async submitAddJira(confirmed, parentKey, parentSelectorObj) {\n        if (confirmed) {\n            const { dispatch, match, user, dsHome } = this.props;\n            let dsName = match.params.dsName;\n            let dsView = match.params.dsView;\n            let username = user.user;\n            let jiraConfig = dsHome.dsViews[dsView].jiraConfig;\n            let jiraAgileConfig = dsHome.dsViews[dsView].jiraAgileConfig;\n            let jiraFormData = this.formFinalJiraFormData();\n            this.updateLocalStorage(jiraFormData)\n            if (jiraFormData.Type == \"Bug\") {\n                //Just before sending change the value of key customfield_25578 to array\n                jiraFormData[jiraFormData.Type].customfield_25578 = jiraFormData[jiraFormData.Type].customfield_25578.split(\",\")\n            }\n            //reset the jiraFormData value\n            let response = await dsService.addJiraRow({ dsName, dsView, username, jiraFormData, jiraConfig, jiraAgileConfig, parentKey, parentSelectorObj })\n            let secondaryModalStatus = this.state.modalStatus;\n            let modalStatus = this.state.modalStatus;\n            let showSecondaryModal = false\n            if (response) {\n                if (response.status == 'success') {\n                    let fullUpdatedRec = response.record\n                    let update = {\n                        _id: response._id,\n                        ...fullUpdatedRec\n                    }\n                    this.ref.table.addRow(update, true, null)\n                    if (response.parentRecord) {\n                        let fullParentUpdatedRec = response.parentRecord\n                        let update = {\n                            _id: parentSelectorObj._id,\n                            ...fullParentUpdatedRec\n                        }\n                        this.ref.table.updateData([update]);\n                    }\n                    modalStatus += `<b style=\"color:green\">Update done</b> <br/> Jira issue Key for converted row: ${response.key}<br/><br/>`\n                    let modalQuestion = modalStatus ? <div dangerouslySetInnerHTML={{ __html: modalStatus }} /> : <div dangerouslySetInnerHTML={{ __html: '<b style=\"color:green\">Convert Success</b>' }} />;\n                    this.setState({\n                        modalTitle: \"Convert Status\",\n                        modalQuestion: modalQuestion,\n                        modalStatus: modalStatus,\n                        modalOk: \"Dismiss\",\n                        modalCallback: (confirmed) => { this.setState({ showModal: false, modalQuestion: '', modalStatus: '' }) },\n                        showModal: true,\n                        toggleModalOnClose: true,\n                        grayOutModalButtons: false\n                    });\n                    let obj = {\n                        Project: \"\",\n                        JIRA_AGILE_LABEL: \"None\",\n                        Type: \"Epic\",\n                    }\n                    this.jiraFormData = obj\n                    this.jiraFormData = {\n                        ...this.jiraFormData,\n                        ...dsHome.defaultTypeFieldsAndValues.value.projects[0].issuetypes\n                    }\n                } else {\n                    secondaryModalStatus += `Update <b style=\"color:red\">failed</b><br/> <b style=\"color:red\">Error: ${response.error})</b><br/><br/>`\n                    showSecondaryModal = true;\n                }\n            } else {\n                secondaryModalStatus += `Update <b style=\"color:red\">failed</b><br/><br/>`\n                showSecondaryModal = true;\n            }\n            if (showSecondaryModal /* && !this.state.showModal*/) {\n                let self = this;\n                let secondaryModalQuestion = secondaryModalStatus ? <div dangerouslySetInnerHTML={{ __html: secondaryModalStatus }} /> : <div dangerouslySetInnerHTML={{ __html: '<b style=\"color:green\">Convert Success</b>' }} />;\n                this.setState({\n                    secondaryModalTitle: \"Convert Status\",\n                    secondaryModalQuestion: secondaryModalQuestion,\n                    secondaryModalStatus: secondaryModalStatus,\n                    secondaryModalOk: \"Dismiss\",\n                    secondaryModalCallback: (confirmed) => { self.setState({ showSecondaryModal: false, secondaryModalQuestion: '', secondaryModalStatus: '', grayOutModalButtons: false }) },\n                    showSecondaryModal: true\n                });\n            }\n        } else {\n            this.setState({ showModal: !this.state.showModal, toggleModalOnClose: true });\n        }\n    }\n\n    updateLocalStorage(jiraFormData) {\n        try {\n            localStorage.setItem(\"JIRA_AGILE_LABEL\", jiraFormData.JIRA_AGILE_LABEL)\n            for (let key of Object.keys(jiraFormData)) {\n                if (typeof jiraFormData[key] == \"object\") {\n                    let objStringified;\n                    let obj = {\n                        ...jiraFormData[key]\n                    }\n                    if (obj[\"summary\"]) obj[\"summary\"] = \"\"\n                    if (obj[\"description\"]) obj[\"description\"] = \"\"\n                    if (obj[\"customfield_12791\"]) obj[\"customfield_12791\"] = \"\"\n                    objStringified = JSON.stringify(obj)\n                    localStorage.setItem(key, objStringified)\n                }\n            }\n        } catch (e) { }\n    }\n\n    /**End add a jira issue */\n\n    handleColorPickerClose () {\n        this.setState({ showColorPicker: false });\n    }\n    handleColorPickerOnChangeComplete (color) {\n        console.log(\"Got back color: \", color);\n        this.setState({ showColorPicker: true, color: color.hex });\n    }\n    pickFillColorHandler (e, cell) {\n        const { dispatch, match, user, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n\n        console.log(\"pickFillColorHandler called: \", e);\n        let _id = cell.getRow().getData()['_id'];\n        this.setState({ showColorPicker: true, colorPickerLeft: e.pageX, colorPickerTop: e.pageY });\n    }\n\n    \n    setColumnDefinitions () {\n        const { match, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n        let me = this;\n        let headerMenuWithoutHide = [\n            {\n                label:\"Toggle Filters\",\n                action: this.toggleSingleFilter\n            },\n            {\n                label:\"Freeze\",\n                action: this.freezeColumn\n            },\n            {\n                label:\"Unfreeze\",\n                action: this.unfreezeColumn\n            }\n        ];\n        let headerMenuWithHide = [\n            {\n                label:\"Toggle Filters\",\n                action: this.toggleSingleFilter\n            },\n            {\n                label:\"Freeze\",\n                action: this.freezeColumn\n            },\n            {\n                label:\"Unfreeze\",\n                action: this.unfreezeColumn\n            },\n            {\n                label:\"<i class='fas fa-eye-slash'></i> Hide Column\",\n                action: this.hideColumn\n            },            \n            {\n                label:\"<i class='fas fa-eye'></i> Unhide all Columns\",\n                action: this.showAllCols\n            },            \n        ];\n        let cellContextMenu = [ \n            {\n                label:\"Copy cell to clipboard...\",\n                action: this.copyCellToClipboard\n            },\n            {\n                label:\"Generate slides...\",\n                action: this.startPreso\n            },\n            {\n                separator: true\n            },\n            {\n                label: \"Hide/Unhide column...\",\n                menu: [\n                    {\n                        label: \"<i class='fas fa-eye-slash'></i> Hide Column\",\n                        action: this.hideColumnFromCell\n                    },\n                    {\n                        label: \"<i class='fas fa-eye'></i> Unhide all Columns\",\n                        action: this.showAllCols\n                    },            \n                ]\n            },\n            /*\n            {\n                label:\"Pick fill color...\",\n                action: this.pickFillColorHandler\n            },\n            {\n                separator: true\n            },*/\n            {\n                label: \"Add row.....\",\n                menu: [\n                    {\n                        label: \"Duplicate row & add (above)\",\n                        action: function (e, cell) {\n                            me.duplicateAndAddRowHandler(e, cell, true)\n                        }\n                    },\n                    {\n                        label: \"Duplicate row & add (below)\",\n                        action: function (e, cell) {\n                            me.duplicateAndAddRowHandler(e, cell, false)\n                        }\n                    },\n                    {\n                        label: \"Add empty row...\",\n                        action: function (e, cell) {\n                            me.addRow(e, cell, null, true)\n                        }\n                    },\n                ]\n            },\n            {\n                label: \"Delete row....\",\n                menu: [\n                    {\n                        label: \"Delete all rows in view...\",\n                        action: this.deleteAllRowsInViewQuestion\n                    },\n                    {\n                        label: \"Delete all rows in query...\",\n                        action: this.deleteAllRowsInQuery\n                    },\n                    {\n                        label: \"Delete row...\",\n                        action: this.deleteRowQuestion\n                    }\n                ]\n            },\n            {\n                label: \"JIRA Menu....\",\n                menu: [\n                    {\n                        label: \"Convert to JIRA row...\",\n                        action: this.convertToJiraRow\n                    },\n                    {\n                        label: \"Add new JIRA...\",\n                        action: function (e, cell) {\n                            me.addJiraRow(e, cell, null)\n                        }\n                    },\n                    {\n                        label: \"Add Story to Epic\",\n                        action: function (e, cell) {\n                            me.addJiraRow(e, cell, 'Story')\n                        }\n                    },\n                    {\n                        label: \"Add a Story Task to Story\",\n                        action: function (e, cell) {\n                            me.addJiraRow(e, cell, 'Story Task')\n                        }\n                    }\n                ]\n            }\n        ];        \n        let columns = [];\n        for (let i = 0; i < dsHome.dsViews[dsView].columnAttrs.length; i++) {\n            let col = JSON.parse(JSON.stringify(dsHome.dsViews[dsView].columnAttrs[i]));\n            if (!this.isKey(col.field)) {\n                col.headerMenu = headerMenuWithHide;\n            } else {\n                col.headerMenu = headerMenuWithoutHide;\n                col.titleFormatter = (t, titleFormatterParams) => {\n                    return `<u>${t.getValue()}</u>`;\n                }\n            }\n            col.contextMenu = cellContextMenu;\n            col.editable = this.cellEditCheck;\n            // This handles all editing trigger logic. We always use \n            // the force edit feature here. \n            col.cellForceEditTrigger = this.cellForceEditTrigger;\n\n            if (this.state.showAllFilters) {\n                col.headerFilter = \"input\";\n                if (col.headerFilterType)\n                    col.headerFilter = col.headerFilterType;\n            }\n            // Do in a function so that you can attach to all formatters.\n            function doConditionalFormatting (cell, formatterParams) {\n                if (formatterParams && formatterParams.conditionalFormatting) {\n                    let rowData = cell.getRow().getData();\n                    for (let i = 0; i < formatterParams.conditionalExprs.length; i++) {\n                        // XXX: Add more error checking here\n                        let exprStr = formatterParams.conditionalExprs[i].split('->')[0].trim();\n                        let expr = QueryParsers.parseExpr(exprStr);\n                        if (QueryParsers.evalExpr(expr, rowData)) {\n                            let values = formatterParams.conditionalExprs[i].split('->')[1].trim();\n                            values = JSON.parse(values);\n                            if (values.backgroundColor) {\n                                cell.getElement().style.backgroundColor = values.backgroundColor;\n                            }\n                            if (values.color) {\n                                cell.getElement().style.color = values.color;\n                            }\n                            break;\n                        }\n                    }\n                }            \n            }\n            if (col.editor === \"input\") {\n                col.formatter = (cell, formatterParams) => {\n                    let value = cell.getValue();\n                    doConditionalFormatting(cell, formatterParams);\n                    if (value === undefined) return \"\";\n                    return value;\n                }\n                /* // This loses conditional formatting!\n                col.formatterClipboard = (cell, formatterParams) => {\n                    let value = cell.getValue();\n                    doConditionalFormatting(cell, formatterParams);\n                    if (value === undefined) return \"\";\n                    return value;\n                } */\n            }\n            if (col.editor === \"textarea\" || col.editor === \"codemirror\" || (col.editor === false && col.formatter === \"textarea\") || (col.editor === \"autocomplete\")) {\n                // By default, all textareas support markdown now. \n                col.formatter = (cell, formatterParams) => {\n                    //console.log(\"html formatter\");\n                    let value = cell.getValue();\n                    doConditionalFormatting(cell, formatterParams);\n                    if (value === undefined) return \"\";\n                    if (typeof value != \"string\") return value;\n                    value = MarkdownIt.render(value);\n                    return `<div style=\"white-space:normal;word-wrap:break-word;margin-bottom:-12px;\">${value}</div>`;\n                }\n                // Control comes here during full table clipboard copy.\n                // from this.myCopyToClipboard function call. \n                col.formatterClipboard = (cell, formatterParams) => {\n                    //console.log(\"html clipboard\");\n                    //console.log(\"cell element: \", cell.getElement());\n                    //console.log(\"cell field is: \", cell.getField());\n                    //console.log(\"cell cell is: \", cell.getRow().getCell(cell.getField())._cell.element);\n                    let h = cell.getRow().getCell(cell.getField())._cell.element;\n                    h = h.cloneNode(true);\n                    // Setting the color of the original cell on the encapsulating\n                    // element during copy-to-clipboard. \n                    cell.getElement().style.backgroundColor = h.style.backgroundColor;\n                    cell.getElement().style.color = h.style.color;\n                    //console.log(\"Returning, h: \", h);\n                    return h;\n                }\n\n                /* // This loses conditional formatting! (Solved above!)\n                col.formatterClipboard = (cell, formatterParams) => {\n                    let value = cell.getValue();\n                    console.log(\"Coming to formatterClipboard\");\n                    doConditionalFormatting(cell, formatterParams);\n                    if (value === undefined) return \"\";\n                    if (typeof value != \"string\") return value;\n                    value = MarkdownIt.render(value);\n                    return `<div style=\"white-space:normal;word-wrap:break-word;\">${value}</div>`;\n                }*/\n                col.variableHeight = true;\n                if (col.editor === \"textarea\" || col.editor === \"codemirror\") {\n                    col.editorParams.dsName = dsName;\n                    if (col.editor === \"textarea\")\n                        col.editor = MyTextArea;\n                    else \n                        col.editor = MyCodeMirror;\n                    //col.editor = MyModalCodeMirror;\n                    let me = this;\n                    col.cellEditCancelled = (cell) => {\n                        if (!me.cellImEditing) {\n                            console.log(\"Normalize, Inside second editcancelled..\")\n                            cell.getRow().normalizeHeight();\n                        } else {\n                            console.log(\"Skipping normalize, Inside second editcancelled\");\n                        }\n                    }\n                }\n            }\n\n            if (col.editor === \"autocomplete\" && col.editorParams.multiselect) {\n                col.editor = MyAutoCompleter;\n                if (!col.editorParams.verticalNavigation) {\n                    col.editorParams.verticalNavigation = \"table\"\n                }\n            } else if (col.editor === \"autocomplete\" && !col.editorParams.multiselect) {\n                // To support conditional values, I'm using a copy. \n                col.editor = MySingleAutoCompleter;\n                if (!col.editorParams.verticalNavigation) {\n                    col.editorParams.verticalNavigation = \"table\"\n                }\n            }\n            if (col.editor === \"date\") {\n                col.editor = DateEditor;\n                col.editorParams = { format: \"MM/DD/YYYY\" };\n            }\n            columns.push(col);\n        }\n        // One more iteration to deal with frozen columns. \n        if (this.state.frozenCol) {\n            let beforeFrozen = true;\n            for (let i = 0; i < columns.length; i++) {\n                let col = columns[i];\n                if (beforeFrozen)\n                    col.frozen = true;\n                else\n                    delete col.frozen;\n                if (col.field === this.state.frozenCol) {\n                    beforeFrozen = false;\n                }\n            }\n        } else {\n            for (let i = 0; i < columns.length; i++) {\n                let col = columns[i];\n                delete col.frozen;\n            }\n        }\n        return columns;\n    }\n\n    ajaxResponse (url, params, response) {\n        //console.log(`In ajaxResponse, params: ${JSON.stringify(params, null, 4)}, url: ${url},  response.total: ${response.total}, response.reqCount: ${response.reqCount}, state.initialHeaderFilter: ${JSON.stringify(this.state.initialHeaderFilter, null, 4)}`);\n        if ((response.reqCount == this.reqCount) || (response.reqCount == 0)) {\n            this.setState({ totalRecs: response.total});\n        } else {\n            console.log(`In ajaxResponse, avoided stale setting of response.total!`);\n        }\n        return response; \n    }\n\n    // From tabulator\n    generateParamsList (data, prefix) {\n        var self = this,\n        output = [];\n    \n        prefix = prefix || \"\";\n    \n        if ( Array.isArray(data) ) {\n            data.forEach(function(item, i){\n                output = output.concat(self.generateParamsList(item, prefix ? prefix + \"[\" + i + \"]\" : i));\n            });\n        }else if (typeof data === \"object\"){\n            for (var key in data){\n                output = output.concat(self.generateParamsList(data[key], prefix ? prefix + \"[\" + key + \"]\" : key));\n            }\n        }else{\n            output.push({key:prefix, value:data});\n        }\n    \n        return output;    \n    }\n\n    serializeParams (params) {\n        var output = this.generateParamsList(params),\n        encoded = [];\n    \n        output.forEach(function(item){\n            encoded.push(encodeURIComponent(item.key) + \"=\" + encodeURIComponent(item.value));\n        });\n    \n        return encoded.join(\"&\");    \n    }\n\n    ajaxURLGenerator (url, config, params) {\n        if(url){\n            if(params && Object.keys(params).length) {\n                // Pick this from a checkbox. \n                params.chronology = this.state.chronologyDescending ? 'desc' : 'asc';\n                params.reqCount = ++(this.reqCount);\n                if(!config.method || config.method.toLowerCase() == \"get\"){\n                    config.method = \"get\";\n    \n                    url += (url.includes(\"?\") ? \"&\" : \"?\") + this.serializeParams(params);\n                }\n            }\n        }\n        return url;    \n    }\n\n    step2 () {\n        const { match, user, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n        let s2 = '';\n        let fixedHeight = false, vh = undefined;\n        try {\n            fixedHeight = dsHome.dsViews[dsView].otherTableAttrs.fixedHeight;\n        } catch (e) {};\n        if (fixedHeight) {\n            vh = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);\n            if (vh) { \n                vh -= 50;\n                vh = vh + \"px\"; \n            } else {\n                vh = undefined;\n            }\n        }\n        if (dsHome && dsHome.dsViews && dsHome.dsViews[dsView] && dsHome.dsViews[dsView].columns) {\n            let columns = this.setColumnDefinitions();\n            let me = this;\n            s2 = <Row>\n                        <div id=\"tabulator\">\n                            <MyTabulator\n                                columns={columns}\n                                data={[]}\n                                options={{\n                                    ajaxURL: `${config.apiUrl}/ds/view/${this.props.match.params.dsName}/${dsView}/${user.user}`,\n                                    ajaxConfig: {\n                                        headers: {\n                                            ...authHeader(),\n                                            \"Content-Type\": \"application/json\",\n                                        },\n                                        credentials: 'include'\n                                    },\n                                    ajaxURLGenerator:this.ajaxURLGenerator,\n                                    chronology: this.state.chronologyDescending,\n                                    forceRefresh: this.state.refresh,\n                                    //ajaxProgressiveLoad:\"load\",\n                                    //ajaxProgressiveLoadDelay: 200,\n                                    pagination:\"remote\",\n                                    paginationDataSent: {\n                                        page: 'page',\n                                        size: 'per_page' // change 'size' param to 'per_page'\n                                    },\n                                    paginationDataReceived: {\n                                        last_page: 'total_pages'\n                                    },\n                                    current_page: 1,\n                                    paginationSize: this.state.pageSize,\n                                    paginationSizeSelector: [5, 10, 25, 30, 50, 100, 500, 1000, 2000, 5000, true],\n                                    ajaxResponse: this.ajaxResponse,\n                                    ajaxError: function (error) {\n                                        console.log('ajaxError', error);\n                                    },\n                                    //movableColumns: true,\n                                    //keybindings: {\"navRight\": 39, \"navLeft\": 37},\n                                    cellEdited: this.cellEdited,\n                                    cellEditing: this.cellEditing,\n                                    cellEditCancelled: this.cellEditCancelled,\n                                    cellClick: this.cellClickEvents,\n                                    cellDblClick: this.cellClickEvents,\n                                    index: \"_id\",\n                                    ajaxSorting: true,\n                                    ajaxFiltering: true,\n                                    initialHeaderFilter: this.state.initialHeaderFilter,\n                                    initialSort: JSON.parse(JSON.stringify(this.state.initialSort)), // it'll mess up the state otherwise!\n                                    //columnResized: this.columnResized,\n                                    //columnVisibilityChanged: this.columnVisibilityChanged,\n                                    height: vh,\n                                    //virtualDomBuffer: 500,\n                                    //selectable: true,\n                                    //persistence: { columns: true },\n                                    //persistenceID: `${dsName}_${dsView}`,\n                                    clipboard: \"fullTableCopyOnly\",\n                                    clipboardCopyFormatter: (type, output) => {\n                                        if (type === 'html') {\n                                            output = me.fixImgSizeForClipboard(output);\n                                            \n                                            output=output.replaceAll('<th>', '<th style=\"border: 1px solid #ddd; padding: 8px; padding-top: 12px; padding-bottom: 12px; text-align: left; background-color: darkgreen;color: white;\">');\n                                            \n                                            output=output.replaceAll('<td>', '<td style=\"border: 1px solid #ddd; padding: 8px;\">')\n                                            // To replace the markup due to the highlightjs badges. The regex arrived by looking at the generated markup and some clever regex as usual. \n                                            //console.log(\"Output: \", output);\n                                            output=output.replace(/<pre class=\"code-badge-pre\"[\\s\\S]*?(<code [\\s\\S]*?<\\/code>)<\\/pre>/gi, '<pre>$1</pre>');\n                                            //console.log(\"Output: \", output);\n                                        }\n                                        return output;\n                                    },\n                                    rowFormatter: (row) => {\n                                        if(!row.getData()._id){\n                                            row.getElement().style.backgroundColor = \"lightGray\";\n                                        } else {\n                                            row.getElement().style.backgroundColor = \"white\";\n                                        }  \n                                    },\n                                    cellMouseEnter: (e, cell) => {\n                                        if (cell.getElement().style.backgroundColor !== \"#fcfcfc\") \n                                            cell.__dg__prevBgColor = cell.getElement().style.backgroundColor;\n                                        //cell.getElement().style.backgroundColor = \"#fcfcfc\";\n                                    },\n                                    cellMouseLeave: (e, cell) => {\n                                        //cell.getElement().style.backgroundColor = cell.__dg__prevBgColor;\n                                        delete cell.__dg__prevBgColor;\n                                    },\n                                    renderComplete: this.renderComplete\n                                }}\n                                innerref={this.recordRef}\n                                />\n                        </div>\n                    </Row>            \n        }\n        return s2;\n    }\n\n    processFilterChange (filter) {\n        const { match, history, dsHome } = this.props;\n        let dsView = match.params.dsView;\n        let newUrl = match.url;\n        \n        let urlWords = match.url.split('/');\n        //console.log('in processFilterChange: ', filter);\n        //console.log('urlWords: ', urlWords);\n        newUrl = '/' + urlWords[1] + '/' + urlWords[2] + '/' + urlWords[3];\n        if (filter) newUrl += '/' + filter;\n        let initialHeaderFilter = [], initialSort = [], filterColumnAttrs = {};\n        if (filter) {\n            try {\n                // Tabulator messes up the hdrSorters, so we give it a copy. \n                initialHeaderFilter = JSON.parse(JSON.stringify(dsHome.dsViews[dsView].filters[filter].hdrFilters));\n                initialSort = JSON.parse(JSON.stringify(dsHome.dsViews[dsView].filters[filter].hdrSorters));\n                if (dsHome.dsViews[dsView].filters[filter].filterColumnAttrs) {\n                    filterColumnAttrs = JSON.parse(JSON.stringify(dsHome.dsViews[dsView].filters[filter].filterColumnAttrs));\n                }\n                if (JSON.stringify(this.state.initialHeaderFilter) !== JSON.stringify(initialHeaderFilter) || JSON.stringify(this.state.initialSort) !== JSON.stringify(initialSort) || JSON.stringify(this.state.filterColumnAttrs) !== JSON.stringify(filterColumnAttrs)) {\n                    this.setState({ showAllFilters: true, filter, initialHeaderFilter, initialSort, filterColumnAttrs, refresh: this.state.refresh + 1});\n                    console.log('moving to :', newUrl);\n                    history.push(newUrl);\n                }\n            } catch (e) { \n                console.log(\"I am getting an exception...: \", e)\n                // At least note it down... \n                if (this.state.filter !== filter) {\n                    this.setState({ filter });\n                    history.push(newUrl);\n                }\n            }\n        } else {\n            initialHeaderFilter = [];\n            initialSort = [];\n            filterColumnAttrs = {};\n            if (this.state.initialHeaderFilter.length === 0 && this.state.initialSort.length === 0 && Object.keys(this.state.filterColumnAttrs).length === 0) {\n                console.log(\"should not be coming here\");\n            } else /*if (this.state.initialHeaderFilter !== initialHeaderFilter || this.state.initialSort !== initialSort)*/ {\n                // Don't set showAllFilters to true here. This is the fix for\n                // navigating correctly when you click on 'show filters' checkbox. \n                this.setState({ /*showAllFilters: true,*/ filter, initialHeaderFilter, initialSort, filterColumnAttrs, refresh: this.state.refresh + 1});\n            }\n            //console.log(\"match:\", match);\n            //console.log(\"location:\", this.props.location)\n            if (newUrl !== this.props.location.pathname)\n                history.push(newUrl);\n        }\n\n        this.applyFilterColumnAttrs();\n    }\n\n    applyFilterColumnAttrs () {\n        try {\n            console.log(\"Applying for: \", this.state.filter);\n            // process filterColumnAttrs\n            let cols = this.ref.table.getColumns();\n            if (Object.keys(this.state.filterColumnAttrs)) {\n                for (let field in this.state.filterColumnAttrs) {\n                    let fieldAttrs = this.state.filterColumnAttrs[field];\n                    for (let i = 0; i < cols.length; i++) {\n                        if (cols[i].getField() === field) {\n                            if (fieldAttrs.hidden && cols[i].isVisible()) {\n                                cols[i].hide();\n                            }\n                            if (cols[i].getWidth() !== fieldAttrs.width) {\n                                cols[i].setWidth(fieldAttrs.width);\n                            }\n                        }\n                    }\n                }\n            } else {\n                // When you clear a filter, filterColumnAttrs will be empty object.\n                // Then, you have to unhide everything. \n                this.showAllCols();\n            }\n        } catch (e) { console.log(\"Exception while applying for: \", this.state.filter, e) }\n    }\n\n    // Unused. \n    retainColumnAttrs () {\n        try {\n            let cols = this.ref.table.getColumns();\n            for (let field in this.state.currentColumnAttrs) {\n                let fieldAttrs = this.state.currentColumnAttrs[field];\n                for (let i = 0; i < cols.length; i++) {\n                    if (cols[i].getField() === field) {\n                        if (fieldAttrs.hidden && cols[i].isVisible()) {\n                            cols[i].hide();\n                        }\n                        if (cols[i].getWidth() !== fieldAttrs.width) {\n                            cols[i].setWidth(fieldAttrs.width);\n                        }\n                    }\n                }\n            }\n        } catch (e) {}\n    }\n\n    fixOneTimeLocalStorage () {\n        const { match } = this.props;\n        // We don't want to store editor and headerFilter status in localStorage\n        // Only width is what we care about. Storing too much causes inconsistencies\n        // in initialization of the tabulator table. \n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n        let lsKey = `tabulator-${dsName}_${dsView}-columns`;\n        let lsValue = localStorage.getItem(lsKey);\n        lsValue = JSON.parse(lsValue);\n        if (this.state.firstTime && lsValue && lsValue.length) {\n            this.setState({ firstTime: false });\n            lsValue.forEach(element => {\n                delete element.editor;\n                delete element.headerFilter;\n                delete element.editorParams;\n                delete element.headerMenu;\n                delete element.contextMenu;\n            });\n            localStorage.setItem(lsKey, JSON.stringify(lsValue));\n        }\n    }\n    pageSizeChange (value) {\n        if (value && value.value) {\n            console.log(\"Setting pageSize to: \", value.value);\n            this.setState({pageSize: value.value});\n        } else {\n            console.log(\"Setting pageSize to: \", 20);\n            this.setState({pageSize: 20});\n        }\n    }\n\n    displayConnectedStatus(){\n        if ( this.state.connectedState ) {\n            if ( this.state.dbconnectivitystate ){\n                return <span><i class='fas fa-server'></i> <b>Connection Status:</b> <b style={{ 'color': 'darkgreen' }}>Connected</b></span>\n            } else {\n                return <span><i class='fas fa-server'></i> <b>Connection Status:</b> <b style={{ 'color': 'red' }}>Disconnected</b> <i>(Database connectivity is down)</i></span>\n            }\n        } else{\n            return <span><i class='fas fa-server'></i> <b>Connection Status:</b> <b style={{ 'color': 'red' }}>Disconnected</b><i>(Server connectivity is down)</i></span>\n\n        }\n    }\n\n    render () {\n        const { match, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n\n        let me = this; \n        this.fixOneTimeLocalStorage();\n        let jiraRefreshButton = \"\";\n        console.log(\"In DsView render..\");\n        if (document.title != dsName) {\n            document.title = dsName;\n        }        \n        try {\n            if ((dsHome.dsViews[dsView].jiraConfig && dsHome.dsViews[dsView].jiraConfig.jira) || (dsHome.dsViews[dsView].jiraAgileConfig && dsHome.dsViews[dsView].jiraAgileConfig.jira)) {\n                //jiraRefreshButton = <Button size=\"sm\" onClick={this.jiraRefreshHandler}> Refresh Jira </Button>\n                jiraRefreshButton = <> | <button className=\"btn btn-link\" onClick={this.jiraRefreshHandler}> <i class='fas fa-redo'></i> Refresh Jira </button> </>\n                if (dsHome && dsHome.dsJiraRefresh && dsHome.dsJiraRefresh.status === 'refreshing')\n                    //jiraRefreshButton = <Button size=\"sm\" onClick={this.jiraRefreshHandler}> Refresh Jira </Button>\n                    jiraRefreshButton = <> | <button className=\"btn btn-link\" onClick={this.jiraRefreshHandler} disabled> <i class='fas fa-redo'></i> Refresh Jira </button> </>\n            }\n        } catch (e) {};\n        let dsDescription = \"\"; \n        try {\n            let value = MarkdownIt.render(dsHome.dsViews[dsView].dsDescription.dsDescription);\n            dsDescription = <div dangerouslySetInnerHTML={{ __html: value }}/>\n        } catch (e) {};\n        this.processFilterChange(this.state.filter);\n        //this.retainColumnAttrs();\n        return (\n            <div>\n                <Row>\n                    <Col md={12} sm={12} xs={12}> \n                        <h3 style={{ 'float': 'center' }}> {match.params.dsName}</h3>\n                    </Col>\n                </Row>\n                <Row>\n                    <Col md={10} sm={10} xs={10}> \n                        {dsDescription}\n                    </Col>\n                </Row>\n                {this.step1()}\n                <br/>\n                <Row>\n                    <button className=\"btn btn-link\" onClick={this.downloadXlsx}> <i class='fas fa-file-export'></i> Get xlsx </button> | \n                    <button className=\"btn btn-link\" onClick={this.copyToClipboard}> <i class='fas fa-clipboard'></i> Copy-to-clipboard </button> | \n                    <button className=\"btn btn-link\" onClick={this.addRow}> <i class='fas fa-plus'></i> Add Row </button>\n                    {/* \n                    <Button size=\"sm\" onClick={this.downloadXlsx}> Get xlsx </Button>\n                    <Button size=\"sm\" onClick={this.toggleFilters}> {this.state.filterButtonText} </Button>\n                    <Button size=\"sm\" onClick={this.toggleEditing}> {this.state.editingButtonText} </Button>\n                    <Button size=\"sm\" onClick={this.copyToClipboard}> Copy-to-clipbard </Button>\n                    <Button size=\"sm\" onClick={this.addRow}> Add Row </Button>\n                    */}\n                    {jiraRefreshButton}\n                    {this.cellEditStatus()}\n                    {this.addRowStatus()}\n                    {this.rowDeleteStatus()}\n                    {this.deleteAllRowsStatus()}\n                    {this.jiraRefreshStatus()}\n                </Row>\n                {/* \n                <Row>\n                    <Col md={2} sm={2} xs={2}> \n                    <Form.Check inline type=\"checkbox\" label=\"&nbsp;Desc order\" checked={this.state.chronologyDescending} onChange={(event) => {\n                                    let checked = event.target.checked;\n                                    let initialHeaderFilter = me.ref.table.getHeaderFilters();\n                                    me.setState({chronologyDescending: checked, initialHeaderFilter});\n                                    localStorage.setItem(\"chronologyDescending\", JSON.stringify(checked));\n                                }}/>\n                    </Col>\n                    <Col md={2} sm={2} xs={2}> \n                    <Form.Check inline type=\"checkbox\" label=\"&nbsp;1-click editing\" checked={this.state.singleClickEdit} onChange={(event) => {\n                                    let checked = event.target.checked;\n                                    me.setState({singleClickEdit: checked});\n                                    localStorage.setItem(\"singleClickEdit\", JSON.stringify(checked));\n                                }}/>\n                    </Col>\n                    <Col md={2} sm={2} xs={2}> \n                    <Form.Check inline type=\"checkbox\" label=\"&nbsp;Show filters\" checked={this.state.showAllFilters} onChange={(event) => {\n                                    let checked = event.target.checked;\n                                    me.setState({showAllFilters: checked});\n                                    localStorage.setItem(\"showAllFilters\", JSON.stringify(checked));\n                                    me.toggleFilters();\n                                }}/>\n                    </Col>\n                    <Col md={3} sm={3} xs={3}> \n                    <Form.Check inline type=\"checkbox\" label=\"&nbsp;Disable Editing\" checked={this.state.disableEditing} onChange={(event) => {\n                                    let checked = event.target.checked;\n                                    me.setState({disableEditing: checked});\n                                    localStorage.setItem(\"disableEditing\", JSON.stringify(checked));\n                                    me.toggleEditing();\n                                }}/>\n                    </Col>\n                </Row>\n                */}\n                <Row>\n                    <Col md={12} sm={12} xs={12}> \n                    <input type=\"checkbox\" checked={this.state.chronologyDescending} onChange={(event) => {\n                                    let checked = event.target.checked;\n                                    let initialHeaderFilter = me.ref.table.getHeaderFilters();\n                                    me.setState({chronologyDescending: checked, initialHeaderFilter});\n                                    localStorage.setItem(\"chronologyDescending\", JSON.stringify(checked));\n                                }}/>\n                    &nbsp; Desc order <i class='fas fa-level-down-alt'></i>&nbsp;&nbsp;| &nbsp;\n\n                    <input type=\"checkbox\" label=\"&nbsp;1-click editing\" checked={this.state.singleClickEdit} onChange={(event) => {\n                                    let checked = event.target.checked;\n                                    me.setState({singleClickEdit: checked});\n                                    localStorage.setItem(\"singleClickEdit\", JSON.stringify(checked));\n                                }}/>\n                    &nbsp; 1-click editing <i class='fas fa-bolt'></i>&nbsp;&nbsp;| &nbsp;\n\n                    <input type=\"checkbox\" label=\"&nbsp;Show filters\" checked={this.state.showAllFilters} onChange={(event) => {\n                                    let checked = event.target.checked;\n                                    me.setState({showAllFilters: checked});\n                                    localStorage.setItem(\"showAllFilters\", JSON.stringify(checked));\n                                    me.toggleFilters();\n                                }}/>\n                    &nbsp; Show filters <i class='fas fa-filter'></i>&nbsp;&nbsp;| &nbsp;\n\n                    <input type=\"checkbox\" label=\"&nbsp;Disable Editing\" checked={this.state.disableEditing} onChange={(event) => {\n                                    let checked = event.target.checked;\n                                    me.setState({disableEditing: checked});\n                                    localStorage.setItem(\"disableEditing\", JSON.stringify(checked));\n                                    me.toggleEditing();\n                                }}/>\n                    &nbsp; Disable Editing <i class='fas fa-ban'></i>&nbsp;&nbsp;\n\n                    </Col>\n                </Row>\n\n                {\n                    <Route exact path={`${match.path}/:filter`} render={(props) => {\n                        let filter = props.match.params.filter;\n                        if (filter !== me.state.filter) {\n                            me.processFilterChange(filter);\n                        }\n                    }} />\n                }\n                <FilterControls show={me.state.showAllFilters} dsName={dsName} dsView={dsView} tableRef={me.ref} onFilterChange={me.processFilterChange} defaultValue={me.state.filter}/>    \n                <br/>\n                <Row>\n                <Col md={12} sm={12} xs={12}> \n                    <b><i class='fas fa-clone'></i> Total records: {this.state.totalRecs} | </b>\n                    <Link to={`/dsEditLog/${match.params.dsName}`} target=\"_blank\"><i class='fas fa-file-alt'></i> <b>Edit-log</b></Link> |&nbsp;\n                    <Link to={`/dsViewEdit/${match.params.dsName}/${match.params.dsView}`} target=\"_blank\"><i class='fas fa-edit'></i> <b>Edit-view</b></Link> |&nbsp;\n                    <Link to={`/dsBulkEdit/${match.params.dsName}`} target=\"_blank\"><i class='fas fa-edit'></i> <b>Bulk-edit</b></Link> |&nbsp;\n                    <Link to={`/dsAttachments/${match.params.dsName}`} target=\"_blank\"><i class='fas fa-file-alt'></i> <b>Attachments</b></Link> |&nbsp;\n                    {this.displayConnectedStatus()}\n                </Col>\n                </Row>\n                {this.step2()}\n                <Modal show={this.state.showModal}\n                    onClose={this.toggleModal} title={this.state.modalTitle} cancel={this.state.modalCancel} ok={this.state.modalOk} toggleModalOnClose={this.state.toggleModalOnClose} grayOutModalButtons={this.state.grayOutModalButtons}>\n                    {this.state.modalQuestion}\n                </Modal>\n                <Modal show={this.state.showSecondaryModal}\n                    onClose={this.secondaryToggleModal} title={this.state.secondaryModalTitle} cancel={this.state.secondaryModalCancel} ok={this.state.secondaryModalOk}>\n                    {this.state.secondaryModalQuestion}\n                </Modal>\n                <ModalEditor show={this.state.showModalEditor} \n                            title={this.state.modalEditorTitle} text={this.state.modalEditorText} onClose={this.toggleModalEditor}\n                            cancel={this.state.modalEditorCancel} ok={this.state.modalEditorOk}>\n                </ModalEditor>\n                {this.state.showColorPicker ? <ColorPicker left={this.state.colorPickerLeft} top={this.state.colorPickerTop} color={this.state.color} onChangeComplete={this.handleColorPickerOnChangeComplete} handleClose={this.handleColorPickerClose}/>: ''}\n            </div>\n        );\n    }\n\n}\n\nfunction mapStateToProps(state) {\n    const { user } = state.authentication;\n    const { home } = state;\n    const { dsHome } = state;\n    return {\n        user,\n        home,\n        dsHome\n    }\n}\n\nconst cDsView = connect(mapStateToProps)(DsView);\n\n\nexport default cDsView\n","'use strict'\n\nimport React from 'react'\nimport { ChromePicker, SketchPicker, GithubPicker, PhotoshopPicker, CompactPicker, SwatchesPicker } from 'react-color'\n\nclass ColorPicker extends React.Component {\n\n  render() {\n    let { left, top, color, handleClose, onChangeComplete } = this.props;\n    console.log(\"left, top: \", left, top);\n    const popover = {\n      position: 'absolute',\n      zIndex: 2,\n      left,\n      top\n    }\n    const cover = {\n      position: 'fixed',\n      top: '0px',\n      right: '0px',\n      bottom: '0px',\n      left: '0px',\n    }\n    return (\n      <div>\n        <div style={ popover }>\n          <div style={ cover } onClick={ handleClose }/>\n          <SketchPicker color={ color } onChangeComplete={ onChangeComplete }/>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default ColorPicker","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Row, Col, Form, Button } from 'react-bootstrap'\nimport { dsActions } from '../../actions/ds.actions';\nimport Select from 'react-select';\nimport { dsConstants } from '../../constants';\n\nclass FilterControls extends React.Component {\n    constructor (props) {\n        super (props)\n        this.state = {\n            save: false, \n            saveName: null,\n            saveErrorMsg: '', \n            saveDescription: null,\n\n            saveAsNew: false,\n            saveAsNewName: '',\n            saveAsNewDescription: '',\n            saveAsNewErrorMsg: '',\n\n            deleteFilter: false,\n            deleteFilterErrorMsg: ''\n        };\n        this.deleteFilterControls = this.deleteFilterControls.bind(this);\n        this.saveControls = this.saveControls.bind(this);\n        this.saveAsNewControls = this.saveAsNewControls.bind(this);\n    }\n\n    deleteFilterControls () {\n        let returnJsx = \"\";\n        let me = this;\n        const { dispatch, dsName, dsView, user, dsHome } = this.props;\n        let name = this.props.defaultValue;\n\n        if (this.state.deleteFilter) {\n            try {\n                if (dsHome.dsFilterDeletes[dsView].status === 'success' && dsHome.dsFilterDeletes[dsView].serverStatus.status === 'success' && this.state.deleteFilter) {\n                    dispatch({ type: dsConstants.CLEAR_DELETE_FILTER_TRACKER });\n                    this.setState({ deleteFilter: false });\n                }\n            } catch (e) {}\n\n            returnJsx = \n            <>\n            <Row>\n                <Col md={4} sm={4} xs={4}> \n                    <b>Delete:</b> {name} ? &nbsp;&nbsp; \n                    <Button size=\"sm\" onClick={() => {\n                        if (!me.props.tableRef) return;\n                        if (!this.props.defaultValue) {\n                            // Set an error message to first select from dropdown\n                            return;\n                        }\n                        me.setState({ deleteFilterErrorMsg: '' });\n                        console.log(\"State: \", me.state);\n                        dispatch(dsActions.deleteFilter(dsName, dsView, user.user, { name }));\n                        setTimeout(() => {dispatch(dsActions.loadColumnsForUserView(dsName, dsView, user.user));}, 500);\n\n                        me.setState({ saveName: null, saveDescription: null })\n                        me.props.onFilterChange(null);\n                    }}> \n                        Confirm delete\n                    </Button>\n                    {this.state.deleteFilterErrorMsg && \n                    <b style={{color: \"red\"}}> {this.state.deleteFilterErrorMsg} </b>}\n                </Col>\n            </Row>\n            </>\n        }\n        return returnJsx;\n    }\n\n\n    saveControls () {\n        let returnJsx = \"\";\n        let me = this;\n        const { dispatch, dsName, dsView, user, dsHome } = this.props;\n        let name = this.props.defaultValue;\n\n        if (this.state.save) {\n            try {\n                // This is way too subtle. Initially, we set saveDescription to 'null. \n                // Then, we initialize it just once when we have the store ready. \n                if (this.state.saveName !== name) {\n                    this.setState({ saveName: name, saveDescription: dsHome.dsViews[dsView].filters[name].description});\n                }\n            } catch (e) { return \"\" }\n            try {\n                if (dsHome.dsFilterEdits[dsView].status === 'fail' || dsHome.dsFilterEdits[dsView].serverStatus.status === 'fail') {\n                    let errMsg = 'save failed';\n                    if (this.state.saveErrorMsg !== errMsg)\n                        this.setState({ saveErrorMsg: errMsg });\n                }\n            } catch (e) {}\n            try {\n                if (dsHome.dsFilterEdits[dsView].status === 'success' && dsHome.dsFilterEdits[dsView].serverStatus.status === 'success' && this.state.save) {\n                    dispatch({ type: dsConstants.CLEAR_EDIT_FILTER_TRACKER });\n                    this.setState({ save: false });\n                }\n            } catch (e) {}\n            returnJsx = \n            <>\n            <Row>\n                <Col md={2} sm={2} xs={2}> \n                    <b>Saving to:</b>\n                </Col>\n                <Col md={4} sm={4} xs={4}> \n                    {name}\n                </Col>\n            </Row> <br/>\n            <Row>\n                <Col md={2} sm={2} xs={2}> \n                    <b>Description: </b>\n                </Col>\n                <Col md={4} sm={4} xs={4}> \n                    <Form.Control as=\"textarea\" size=\"sm\" rows=\"3\" value={this.state.saveDescription} onChange={(event) => {\n                        let value = event.target.value;\n                        me.setState({saveDescription: value})\n                    }} />\n                </Col>\n                <Col md={4} sm={4} xs={4}> \n                    <Button size=\"sm\" onClick={() => {\n                        if (!me.props.tableRef) return;\n                        if (!this.props.defaultValue) {\n                            // Set an error message to first select from dropdown\n                            return;\n                        }\n                        me.setState({ saveErrorMsg: '' });\n                        let hdrFilters = me.props.tableRef.table.getHeaderFilters();\n                        let hdrSortersTmp = me.props.tableRef.table.getSorters();\n                        let hdrSorters = [];\n                        for (let i = 0; i < hdrSortersTmp.length; i++) {\n                            let sorter = {};\n                            sorter.column = hdrSortersTmp[i].field;\n                            sorter.dir = hdrSortersTmp[i].dir;\n                            hdrSorters.push(sorter);\n                        }\n                        let filterColumnAttrs = {};\n                        let cols = me.props.tableRef.table.getColumns();\n                        for (let i = 0; i < cols.length; i++) {\n                            let field = cols[i].getField();\n                            let attrsForField = {};\n                            if (!cols[i].isVisible()) {\n                                attrsForField.hidden = true;\n                            }\n                            attrsForField.width = cols[i].getWidth();\n                            filterColumnAttrs[field] = attrsForField;\n                        }\n                \n                        console.log(\"State: \", me.state);\n                        let newFilter = {};\n                        newFilter.name = name; \n                        newFilter.description = me.state.saveDescription;\n                        newFilter.hdrFilters = hdrFilters;\n                        newFilter.hdrSorters = hdrSorters;\n                        newFilter.filterColumnAttrs = filterColumnAttrs;\n                        console.log(\"Save Filter object: \", newFilter);\n                        dispatch(dsActions.editFilter(dsName, dsView, user.user, newFilter));\n                        setTimeout(() => {dispatch(dsActions.loadColumnsForUserView(dsName, dsView, user.user));}, 500);\n                    }}> \n                        Save\n                    </Button>\n                    {this.state.saveErrorMsg && \n                    <b style={{color: \"red\"}}> {this.state.saveErrorMsg} </b>}\n                </Col>\n            </Row>\n            </>\n\n        }\n        return returnJsx;\n    }\n\n    saveAsNewControls () {\n        let returnJsx = \"\";\n        let me = this;\n        const { dispatch, dsName, dsView, user, dsHome } = this.props;\n\n        if (this.state.saveAsNew) {\n\n            try {\n                if (dsHome.dsFilterAdds[dsView].status === 'fail' || dsHome.dsFilterAdds[dsView].serverStatus.status === 'fail') {\n                    let errMsg = 'save as new failed, try with new name maybe. Or try \"save\" instead';\n                    if (this.state.saveAsNewErrorMsg !== errMsg)\n                        this.setState({ saveAsNewErrorMsg: errMsg });\n                }\n            } catch (e) {}\n            try {\n                if (dsHome.dsFilterAdds[dsView].status === 'success' && dsHome.dsFilterAdds[dsView].serverStatus.status === 'success' && this.state.saveAsNew) {\n                    dispatch({ type: dsConstants.CLEAR_ADD_FILTER_TRACKER });\n                    this.setState({ saveAsNew: false, saveAsNewName: '', saveAsNewDescription: '' });\n                }\n            } catch (e) {}\n\n            returnJsx = \n            <>\n            <Row>\n                <Col md={2} sm={2} xs={2}> \n                    <b>Filter name:</b>\n                </Col>\n                <Col md={4} sm={4} xs={4}> \n                    <Form.Control type=\"text\" size=\"sm\" value={this.state.saveAsNewName} onChange={(event) => {        \n                        let value = event.target.value;\n                        if (!value || (value.match(/^[a-zA-Z][a-zA-Z0-9_-]*$/g) && value.length <= 64)) {\n                            me.setState({ saveAsNewName: event.target.value });\n                        }\n                    }} />\n                </Col>\n                <Col md={4} sm={4} xs={4}> \n                    <Button size=\"sm\" onClick={() => {\n                        if (!me.props.tableRef) return;\n                        if (!this.state.saveAsNewName) {\n                            me.setState({ saveAsNewErrorMsg: 'Name is mandatory' });\n                            return;\n                        }\n                        me.setState({ saveAsNewErrorMsg: '' });\n                        let hdrFilters = me.props.tableRef.table.getHeaderFilters();\n                        let hdrSortersTmp = me.props.tableRef.table.getSorters();\n                        let hdrSorters = [];\n                        for (let i = 0; i < hdrSortersTmp.length; i++) {\n                            let sorter = {};\n                            sorter.column = hdrSortersTmp[i].field;\n                            sorter.dir = hdrSortersTmp[i].dir;\n                            hdrSorters.push(sorter);\n                        }\n                        let filterColumnAttrs = {};\n                        let cols = me.props.tableRef.table.getColumns();\n                        for (let i = 0; i < cols.length; i++) {\n                            let field = cols[i].getField();\n                            let attrsForField = {};\n                            if (!cols[i].isVisible()) {\n                                attrsForField.hidden = true;\n                            }\n                            attrsForField.width = cols[i].getWidth();\n                            filterColumnAttrs[field] = attrsForField;\n                        }\n                \n                        let newFilter = {};\n                        newFilter.name = this.state.saveAsNewName;\n                        newFilter.description = this.state.saveAsNewDescription;\n                        newFilter.hdrFilters = hdrFilters;\n                        newFilter.hdrSorters = hdrSorters;\n                        newFilter.filterColumnAttrs = filterColumnAttrs;\n                        console.log(\"New Filter object: \", newFilter);\n                        dispatch(dsActions.addFilter(dsName, dsView, user.user, newFilter)); \n                        setTimeout(() => {dispatch(dsActions.loadColumnsForUserView(dsName, dsView, user.user));}, 500);\n\n                        // XXX: Make this a function pls and reuse it. \n                        // This is needed so that we set this again for new selection\n                        me.setState({ saveName: null, saveDescription: null })\n                        console.log(\"Calling onFilterChange with:\", this.state.saveAsNewName)\n                        me.props.onFilterChange(this.state.saveAsNewName);\n\n                        }}> \n                        Create \n                    </Button>\n                    {this.state.saveAsNewErrorMsg && \n                    <b style={{color: \"red\"}}> {this.state.saveAsNewErrorMsg} </b>}\n                </Col>\n            </Row>\n            <Row>\n                <Col md={2} sm={2} xs={2}> \n                    <b>Description: </b>\n                </Col>\n                <Col md={4} sm={4} xs={4}> \n                    <Form.Control as=\"textarea\" size=\"sm\" rows=\"3\" value={this.state.saveAsNewDescription} onChange={(event) => {\n                        let value = event.target.value;\n                        me.setState({saveAsNewDescription: value})\n                    }} />\n                </Col>\n            </Row>\n            </>\n        }\n        return returnJsx;\n    }\n\n    render () {\n        const { dispatch, dsName, dsView, user, dsHome } = this.props;\n        let me = this;\n        if (!this.props.show) {\n            me.props.onFilterChange(null);\n            return null;\n        }\n        let filterOptions = [];\n        let defaultValueIdx = -1;\n        let filterDescription = \"\";\n        try {\n            let keys = Object.keys(dsHome.dsViews[dsView].filters);\n            for (let i = 0; i < keys.length; i++) {\n                if (keys[i] === '_id') continue;\n                let row = {};\n                row.value = keys[i];\n                row.label = keys[i];\n                if (this.props.defaultValue === keys[i]) {\n                    defaultValueIdx = i - 1; // because we are skipping _id\n                    console.log(\"Setting defaultValueIdx to:\", defaultValueIdx);\n                    filterDescription = dsHome.dsViews[dsView].filters[keys[i]].description;\n                }\n                filterOptions.push(row);\n            }\n        } catch (e) {}\n        // https://reactjs.org/blog/2017/11/28/react-v16.2.0-fragment-support.html\n        return (\n            <>\n            <br/>\n            <Row>\n                    <Col md={1} sm={1} xs={1}> \n                    <b>Filters:</b>\n                    </Col>\n                    <Col md={8} sm={8} xs={8}> \n                    <Select key={`my_unique_select_key__${JSON.stringify(filterOptions[defaultValueIdx])}`} className=\"basic-single\" classNamePrefix=\"select\" isClearable={true} name=\"sheetOptions\" defaultValue={filterOptions[defaultValueIdx]} value={filterOptions[defaultValueIdx]} options={filterOptions} onChange={(value) => { \n                        // This is needed so that we set this again for new selection\n                        me.setState({ saveName: null, saveDescription: null })\n                        if (value) {\n                            me.props.onFilterChange(value.value)\n                        } else {\n                            me.setState({ saveAsNew: false, save: false });\n                            me.props.onFilterChange(null);\n                        }\n                    }}/>\n                    </Col>\n            </Row>\n            {filterDescription && <br/>}\n            <Row>\n                {filterDescription && \n                    <Col md={1} sm={1} xs={1}> \n                    <b>Filter Desc:</b>\n                    </Col>\n                }\n                {filterDescription &&\n                    <Col md={8} sm={8} xs={8}>\n                        {filterDescription}\n                    </Col>\n                }\n            </Row>\n            {filterDescription && <br/>}\n            <Row>\n                <button className=\"btn btn-link\" onClick={() => { me.setState({ saveAsNew: !this.state.saveAsNew, save: false, deleteFilter: false }) }}> <i class='fas fa-filter'></i> Save-as-new-filter </button> | \n                <button className=\"btn btn-link\" onClick={() => { me.setState({ save: !this.state.save, saveAsNew: false, deleteFilter: false }) }}> <i class='fas fa-save'></i> Save </button> | \n                <button className=\"btn btn-link\" onClick={() => { me.setState({ deleteFilter: !this.state.deleteFilter, save: false, saveAsNew: false }) }}> <i class='fas fa-trash-alt'></i> Delete-filter </button>\n            </Row>\n            {this.saveAsNewControls()}\n            {this.saveControls()}\n            {this.deleteFilterControls()}\n            </>\n        );\n    }\n}\n\nFilterControls.propTypes = {\n    onClose: PropTypes.func.isRequired,\n    onFilterChange: PropTypes.func.isRequired,\n    tableRef: PropTypes.object.isRequired,\n    show: PropTypes.bool,\n    dsName: PropTypes.string.isRequired,\n    dsView: PropTypes.string.isRequired,\n    children: PropTypes.node,\n    defaultValue: PropTypes.string\n};\n\nfunction mapStateToProps(state) {\n    const { user } = state.authentication;\n    const { home } = state;\n    const { dsHome } = state;\n    return {\n        user,\n        home,\n        dsHome\n    }\n}\n\nconst cFilterControls = connect(mapStateToProps)(FilterControls);\n\nexport default cFilterControls;","import { uploadService } from '../../services';\n\n// Constants section\n\nexport const newDsConstants = {\n    CLEAR_DS: 'CLEAR_DS',\n    UPLOAD_XLS_REQUEST: 'UPLOAD_XLS_REQUEST', \n    UPLOAD_XLS_SUCCESS: 'UPLOAD_XLS_SUCCESS',\n    UPLOAD_XLS_FAILURE: 'UPLOAD_XLS_FAILURE',\n\n    UPLOAD_CSV_REQUEST: 'UPLOAD_CSV_REQUEST', \n    UPLOAD_CSV_SUCCESS: 'UPLOAD_CSV_SUCCESS',\n    UPLOAD_CSV_FAILURE: 'UPLOAD_CSV_FAILURE',\n\n    SET_SELECTED_SHEET: 'SET_SELECTED_SHEET',\n    SET_SELECTED_KEYS: 'SET_SELECTED_KEYS', \n    FIND_HDRS_INXLS_REQUEST: 'FIND_HDRS_INXLS_REQUEST',\n    FIND_HDRS_INXLS_SUCCESS: 'FIND_HDRS_INXLS_SUCCESS',\n    FIND_HDRS_INXLS_FAILURE: 'FIND_HDRS_INXLS_FAILURE',\n\n    LOAD_FROM_RANGE_REQUEST: 'LOAD_FROM_RANGE_REQUEST',\n    LOAD_FROM_RANGE_SUCCESS: 'LOAD_FROM_RANGE_SUCCESS',\n    LOAD_FROM_RANGE_FAILURE: 'LOAD_FROM_RANGE_FAILURE',\n\n    CREATE_DS_REQUEST: 'CREATE_DS_REQUEST',\n    CREATE_DS_SUCCESS: 'CREATE_DS_SUCCESS',\n    CREATE_DS_FAILURE: 'CREATE_DS_FAILURE'\n};\n\n\n// Reducer section\n\nconst initialState = {};\n\nexport function newDs(state = initialState, action) {\n  switch (action.type) {\n    case newDsConstants.CLEAR_DS:\n        return { };\n    case newDsConstants.UPLOAD_XLS_REQUEST:\n    case newDsConstants.UPLOAD_CSV_REQUEST:\n        return {\n            uploadStatus: 'uploading',\n            fileName: action.fileName\n        };\n    case newDsConstants.UPLOAD_XLS_SUCCESS:\n        return {\n            uploadStatus: 'success',\n            fileName: action.fileName,\n            sheetInfo: action.sheetInfo\n        };\n    case newDsConstants.UPLOAD_CSV_SUCCESS:\n        return {\n            uploadStatus: 'success',\n            fileName: action.fileName,\n            hdrs: action.hdrs\n        };\n        \n    case newDsConstants.UPLOAD_XLS_FAILURE:\n    case newDsConstants.UPLOAD_CSV_FAILURE:\n        return {\n            uploadStatus: 'fail',\n            uploadError: action.message\n        };\n    case newDsConstants.SET_SELECTED_SHEET:\n        return {\n            ...state,\n            selectedSheet: action.sheetName\n        }\n    case newDsConstants.LOAD_FROM_RANGE_REQUEST:\n        return {\n            ...state,\n            selectedRange: action.selectedRange\n        }\n    case newDsConstants.LOAD_FROM_RANGE_SUCCESS:\n        return {\n            ...state,\n            loadStatus: action.loadStatus\n        }\n    case newDsConstants.LOAD_FROM_RANGE_FAILURE:\n        return {\n            ...state,\n            loadStatus: action.loadStatus,\n        }\n    case newDsConstants.SET_SELECTED_KEYS:\n        return {\n            ...state,\n            selectedKeys: action.selectedKeys\n        }\n    case newDsConstants.CREATE_DS_REQUEST:\n        return {\n            ...state,\n            dsName: action.dsName\n        }\n    case newDsConstants.CREATE_DS_SUCCESS:\n        return {\n            ...state,\n            createStatus: action.createStatus\n        }\n    case newDsConstants.CREATE_DS_FAILURE:\n        return {\n            ...state,\n            createStatus: { status: 'fail', error: action.message }\n        }\n    \n    default:\n      return state\n  }\n}\n\n\n\n// Actions section \n\nexport const newDsActions = {\n    clearReduxStore,\n    uploadXlsFile,\n    setSelectedSheet,\n    findHeadersInSheet,\n    loadHdrsFromRange,\n    setSelectedKeys,\n    createDs,\n    uploadCsvFile,\n    createDsViaCsv,\n    createDsFromDs\n}\n\nfunction clearReduxStore () {\n    return async dispatch => {\n        dispatch(clear());\n    };\n\n    function clear() { return { type: newDsConstants.CLEAR_DS } }\n}\n\nfunction uploadXlsFile (fileName, formData) {\n    return async dispatch => {\n        dispatch(request(fileName));\n        try {\n            let responseJson = await uploadService.fileUpload(formData);\n            if (responseJson)\n                dispatch(success(fileName, responseJson));\n            else \n                dispatch(failure(\"Upload failure\"));\n        } catch (error) {\n            dispatch(failure(\"Uploading xls file failed\"));\n        }\n    };\n\n    function request(fileName) { return { type: newDsConstants.UPLOAD_XLS_REQUEST, fileName } }\n    function success(fileName, sheetInfo) { return { type: newDsConstants.UPLOAD_XLS_SUCCESS, fileName, sheetInfo } }\n    function failure(message) { return { type: newDsConstants.UPLOAD_XLS_FAILURE, message } }\n}\n\nfunction setSelectedSheet (sheetName) {\n    return async dispatch => {\n        dispatch (setSheet(sheetName));\n    }\n    function setSheet (sheetName) { return { type: newDsConstants.SET_SELECTED_SHEET, sheetName } }\n}\n\n// Not used currently. \nfunction findHeadersInSheet (fileName, sheetName) {\n    return async dispatch => {\n        try {\n            dispatch(request(fileName, sheetName));\n            let responseJson = await uploadService.findHeadersInSheet({fileName, sheetName});\n            if (responseJson)\n                dispatch(success(fileName, sheetName, responseJson));\n            else \n                dispatch(failure(\"Upload failure\"));\n        } catch (error) {\n            dispatch(failure(\"Finding Hdrs failed failed\"));\n        }\n    }\n    function request() { return { type: newDsConstants.FIND_HDRS_INXLS_REQUEST } }\n    function success(fileName, sheetName, hdrsInSheet) { return { type: newDsConstants.FIND_HDRS_INXLS_SUCCESS, fileName, sheetName, hdrsInSheet } }\n    function failure(message) { return { type: newDsConstants.FIND_HDRS_INXLS_FAILURE, message } }\n}\n\nfunction loadHdrsFromRange (fileName, sheetName, selectedRange) {\n    return async dispatch => {\n        try {\n            dispatch(request(selectedRange));\n            let responseJson = await uploadService.loadHdrsFromRange({fileName, sheetName, selectedRange});\n            if (responseJson)\n                dispatch(success(fileName, sheetName, responseJson));\n            else \n                dispatch(failure(\"Load Data from Range failure\"));\n        } catch (error) {\n            dispatch(failure(\"Load Data from Range failure\"));\n        }\n    }\n    function request(selectedRange) { return { type: newDsConstants.LOAD_FROM_RANGE_REQUEST, selectedRange } }\n    function success(fileName, sheetName, loadStatus) { return { type: newDsConstants.LOAD_FROM_RANGE_SUCCESS, fileName, sheetName, loadStatus } }\n    function failure(message) { return { type: newDsConstants.LOAD_FROM_RANGE_FAILURE, message } }\n}\n\nfunction setSelectedKeys (selectedKeys) {\n    return async dispatch => {\n        dispatch (setKeys(selectedKeys));\n    }\n    function setKeys (selectedKeys) { return { type: newDsConstants.SET_SELECTED_KEYS, selectedKeys } }\n}\n\nfunction createDs (fileName, sheetName, selectedRange, selectedKeys, dsName, dsUser) {\n    return async dispatch => {\n        try {\n            dispatch(request(dsName));\n            let responseJson = await uploadService.createDs({fileName, sheetName, selectedRange, selectedKeys, dsName, dsUser});\n            if (responseJson)\n                dispatch(success(responseJson));\n            else \n                dispatch(failure(\"Create Ds failure\"));\n        } catch (error) {\n            dispatch(failure(\"Create Ds exception\"));\n        }\n    }\n    function request(dsName) { return { type: newDsConstants.CREATE_DS_REQUEST, dsName } }\n    function success(createStatus) { return { type: newDsConstants.CREATE_DS_SUCCESS, fileName, sheetName, selectedRange, selectedKeys, dsName, createStatus } }\n    function failure(message) { return { type: newDsConstants.CREATE_DS_FAILURE, message } }\n}\n\n\n\nfunction uploadCsvFile (fileName, formData) {\n    return async dispatch => {\n        dispatch(request(fileName));\n        try {\n            let responseJson = await uploadService.csvFileUpload(formData);\n            if (responseJson)\n                dispatch(success(fileName, responseJson));\n            else \n                dispatch(failure(\"Upload failure\"));\n        } catch (error) {\n            dispatch(failure(\"Uploading csv file failed\"));\n        }\n    };\n\n    function request(fileName) { return { type: newDsConstants.UPLOAD_CSV_REQUEST, fileName } }\n    function success(fileName, hdrs) { return { type: newDsConstants.UPLOAD_CSV_SUCCESS, fileName, hdrs } }\n    function failure(message) { return { type: newDsConstants.UPLOAD_CSV_FAILURE, message } }\n}\n\nfunction createDsViaCsv (fileName, selectedKeys, dsName, dsUser) {\n    return async dispatch => {\n        try {\n            dispatch(request(dsName));\n            let responseJson = await uploadService.createDsViaCsv({fileName, selectedKeys, dsName, dsUser});\n            if (responseJson)\n                dispatch(success(responseJson));\n            else \n                dispatch(failure(\"Create Ds failure\"));\n        } catch (error) {\n            dispatch(failure(\"Create Ds exception\"));\n        }\n    }\n    function request(dsName) { return { type: newDsConstants.CREATE_DS_REQUEST, dsName } }\n    function success(createStatus) { return { type: newDsConstants.CREATE_DS_SUCCESS, fileName, selectedKeys, dsName, createStatus } }\n    function failure(message) { return { type: newDsConstants.CREATE_DS_FAILURE, message } }\n}\n\n\nfunction createDsFromDs (fromDsName, toDsName, dsUser, retainData) {\n    return async dispatch => {\n        try {\n            dispatch(request(toDsName));\n            let responseJson = await uploadService.createDsFromDs({fromDsName, toDsName, dsUser, retainData});\n            if (responseJson)\n                dispatch(success(responseJson));\n            else \n                dispatch(failure(\"Create DsFromDs failure\"));\n        } catch (error) {\n            dispatch(failure(\"Create DsFromDs exception\"));\n        }\n    }\n    function request(dsName) { return { type: newDsConstants.CREATE_DS_REQUEST, dsName } }\n    function success(createStatus) { return { type: newDsConstants.CREATE_DS_SUCCESS, fromDsName, toDsName, createStatus } }\n    function failure(message) { return { type: newDsConstants.CREATE_DS_FAILURE, message } }\n}\n","import ModalEditor from './ModalEditor';\nconst React = require('react');\nconst ReactDOM = require('react-dom');\n\nfunction MyModalCodeMirror(cell, onRendered, success, cancel, editorParams, ctrlKey) {\n    var self = this,\n        cellValue = cell.getValue(),\n        vertNav = editorParams.verticalNavigation || \"hybrid\",\n        value = String(cellValue !== null && typeof cellValue !== \"undefined\" ? cellValue : \"\"),\n        count = (value.match(/(?:\\r\\n|\\r|\\n)/g) || []).length + 1,\n        input = document.createElement(\"textarea\"),\n        scrollHeight = 0;\n\n    //create and style input\n    input.style.display = \"block\";\n    input.style.padding = \"2px\";\n    input.style.height = \"100%\";\n    input.style.width = \"100%\";\n    input.style.boxSizing = \"border-box\";\n    input.style.whiteSpace = \"pre-wrap\";\n    input.style.resize = \"none\";\n    input.value = value;\n\n    console.log(\"ctrlKey: \", ctrlKey);\n    if (ctrlKey) {\n        let cellWidth = cell._cell.element.style.width;\n        let div = document.createElement(\"div\");\n        document.body.appendChild(div);\n        let cmRef = {};\n        const PopupContent = () => {\n            return (\n                <ModalEditor show={true} \n                    title={\"Edit\"} text={value} onClose={clear} editorParams={editorParams}\n                    cancel={\"Cancel\"} ok={\"Done\"} cmRef={cmRef} width={cellWidth}>\n                </ModalEditor>\n            );\n        };\n        \n        const clear = (ok, value) => {\n            ReactDOM.unmountComponentAtNode(div);\n            div.remove();\n            if (ok && (input.value != value)) {\n                success(value);\n                cellValue = value;\n            } else {\n                cancel();\n            }\n        }\n        ReactDOM.render(<PopupContent/>, div);\n    }\n    onRendered(function () {\n        /*\n        input.focus({\n            preventScroll: true\n        });\n        input.style.height = \"100%\"; */\n        /*\n        if (cmRef.ref) {\n            cmRef.ref.refresh();\n        }\n        */\n    });\n\n    function onChange(e) {\n\n        if (((cellValue === null || typeof cellValue === \"undefined\") && input.value !== \"\") || input.value !== cellValue) {\n\n            if (success(input.value)) {\n                cellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n            }\n            /*\n            setTimeout(function () {\n                cell.getRow().normalizeHeight();\n            }, 300) */\n        } else {\n            cancel();\n        }\n    }\n\n    //submit new value on blur or change\n    //input.addEventListener(\"change\", onChange);\n\n    if (editorParams.mask) {\n        this.table.modules.edit.maskInput(input, editorParams);\n    }\n\n    return input;\n}\n\nexport default MyModalCodeMirror;","\nfunction parseExpr (exprStr) {\n    let expr = {};\n    // Example strings. \n    // '\"Team\" = \"VIT\"'\n    // ' \"Team\" = \"SIT\" '\n    // \"Team\" = \"VIT\" (simpler)\n    exprStr = exprStr.replace(/^\\s*'/, '');\n    exprStr = exprStr.replace(/\\s*'$/, '');\n    let m = exprStr.match(/^\\s*\"(.*?)\"\\s*=\\s*\"(.*?)\"\\s*$/);\n    if (m && (m.length >= 2)) {\n        expr[\"=\"] = {};\n        let key = m[1], value = m[2];\n        expr[\"=\"].key = key;\n        expr[\"=\"].value = value;\n    }\n    m = exprStr.match(/^\\s*\"(.*?)\"\\s*=~\\s*\"(.*?)\"\\s*$/);\n    if (m && (m.length >= 2)) {\n        expr[\"=~\"] = {};\n        let key = m[1], regex = m[2];\n        expr[\"=~\"].key = key;\n        expr[\"=~\"].regex = regex;\n    }\n    return expr;\n}\n\nfunction evalExpr (expr, data) {\n    for (let key in expr) {\n        if (key === \"=\") {\n            let equalsExpr = expr[key];\n            let rowValue = data[equalsExpr[\"key\"]];\n            if (rowValue === equalsExpr[\"value\"]) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n        if (key === \"=~\") {\n            let equalsExpr = expr[key];\n            let rowValue = data[equalsExpr[\"key\"]];\n            let regex = new RegExp(equalsExpr[\"regex\"], \"i\");\n            if (regex.test(rowValue)) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n        // For other operators like 'and', 'or' - recurse here. \n    }\n}\n\nexport default {\n    parseExpr, \n    evalExpr\n}","var map = {\n\t\"./locale\": 289,\n\t\"./locale.js\": 289\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 645;","import React, { Component } from 'react'\nimport { ReactTabulator } from 'react-tabulator';\n\nclass MyTabulator extends Component {\n    constructor (props) {\n        super(props);\n        this.recordTabRef = this.recordTabRef.bind(this);\n        this.ref = null;\n    }\n    // Without this, an edit of a cell used to lose the\n    // scroll position of the ReactTabulator. Paging is not an issue\n    shouldComponentUpdate (nextProps, nextState) {\n        //console.log(\"Current Options: \", this.props.options);\n        //console.log(\"Next options: \", nextProps.options);\n        if (this.props.options.paginationSize !== nextProps.options.paginationSize || \n            this.props.options.chronology !== nextProps.options.chronology || \n            this.props.options.forceRefresh !== nextProps.options.forceRefresh ||\n            this.props.options.height !== nextProps.options.height) {\n            return true;\n        }\n        return false;\n    }\n    componentDidUpdate () {\n        //console.log(\"Component did update...: \", this.props.options);\n    }\n    componentWillUnmount () {\n        this.ref = null;\n    }\n    recordTabRef (ref) {\n        // innerref is there purely to forward the ref back to caller. \n        const { innerref } = this.props;\n        this.ref = ref;\n        innerref(ref);\n        return true;\n    }\n    render () {\n        return <ReactTabulator {...this.props} ref={this.recordTabRef} />\n    }\n}\n\nexport default MyTabulator","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, Button } from 'react-bootstrap'\n//import './codemirror.css';\n\nclass ModalEditor extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: \"\",\n            textareaRef: null\n        }\n        this.inactivityTimeout = 300 * 1000;\n        this.inactivityTimer = null;    \n    }\n\tcomponentDidMount () {\n        if (this.codeMirror) {\n            this.codeMirror.focus();\n        }\n\t}\n\tcomponentWillUnmount () {\n    }\n\n  render() {\n    let me = this;\n    // Render nothing if the \"show\" prop is false\n    if(!this.props.show) {\n        // is there a lighter-weight way to remove the cm instance?\n        if (this.codeMirror) {\n            let value = this.codeMirror.getValue();\n            this.codeMirror.toTextArea();\n            this.codeMirror = null;\n            this.setState({textareaRef: null, value });\n        }\n        return null;\n    }\n    {\n        console.log(\"Ref value: \", this.state.textareaRef);\n        if (this.state.textareaRef && !this.codeMirror) {\n            this.codeMirror = window.CodeMirror.fromTextArea(this.state.textareaRef, {\n                lineNumbers: true,\n                lineWrapping: true,\n                mode: \"spell-checker\",\n                backdrop: \"markdown\",\n                highlightFormatting: true,\n                scrollbarStyle: \"null\"\n            });\n            window.inlineAttachment.editors.codemirror4.attach(this.codeMirror, {\n                uploadUrl: '/uploadAttachments', \n                urlText: '<img src=\"{filename}\" alt=\"{filename}\" width=\"100%\" height=\"100%\"/>', fileUrlText: '[{filename}]({filename})',\n                allowedTypes: '*',\n                extraParams: {\n                    dsName: this.props.editorParams.dsName\n                }\n            });\n            let h = (this.codeMirror.getDoc().lineCount() + 10) * 18;\n            this.codeMirror.setSize(\"100%\", `${h}px`);\n            this.codeMirror.scrollIntoView({line: this.codeMirror.getDoc().lineCount() - 1, ch: 0}, 50)\n            this.codeMirror.getDoc().setCursor({line: this.codeMirror.getDoc().lineCount() - 1, ch:0});\n            //let me = this;\n            //setTimeout(me.codeMirror.refresh, 1000);\n            this.codeMirror.refresh();\n            this.codeMirror.focus();\n            if (this.props.cmRef) {\n                this.props.cmRef.ref = this.codeMirror;\n            }\n            me.inactivityTimer = setTimeout(() => {\n                                    if (me.inactivityTimer) {\n                                        me.props.onClose(true, me.codeMirror.getValue());\n                                        me.inactivityTimer = null;\n                                    }\n                                }, me.inactivityTimeout);\n            this.codeMirror.on(\"keyup\", function (cm, e) {\n                h = (me.codeMirror.getDoc().lineCount() + 10) * 18;\n                //if (h > vh) h = vh;\n                me.codeMirror.setSize(\"100%\", `${h}px`);\n                // refresh() was jarring the view sometimes. The scrollIntoView\n                // seems to be much more smoother. \n                me.codeMirror.scrollIntoView(me.codeMirror.getDoc().getCursor(), 10);\n                //me.codeMirror.refresh();\n            });    \n            this.codeMirror.on(\"keydown\", function (cm, e) {\n                clearTimeout(me.inactivityTimer);\n                switch (e.keyCode) {\n                    case 13:\n                        if (e.ctrlKey) {\n                            me.props.onClose(true, me.codeMirror.getValue());\n                            me.inactivityTimer = null;\n                        } else {\n                            me.inactivityTimer = setTimeout(() => {\n                                if (me.inactivityTimer) {\n                                    me.props.onClose(true, me.codeMirror.getValue());\n                                    me.inactivityTimer = null;\n                                }\n                            }, me.inactivityTimeout);\n                        }\n                        break;\n                    case 27:\n                        me.props.onClose(false, me.codeMirror.getValue())\n                        me.inactivityTimer = null;\n                        break;    \n                    default:\n                        e.stopImmediatePropagation();\n                        e.stopPropagation();        \n                        me.inactivityTimer = setTimeout(() => {\n                            if (me.inactivityTimer) {\n                                me.props.onClose(true, me.codeMirror.getValue());\n                                me.inactivityTimer = null;\n                            }\n                        }, me.inactivityTimeout);\n                        break;    \n                }\n            });\n            this.codeMirror.on(\"scroll\", function(cm, e){\n                clearTimeout(me.inactivityTimer);\n                me.inactivityTimer = setTimeout(() => {\n                    if (me.inactivityTimer) {\n                        me.props.onClose(true, me.codeMirror.getValue());\n                        me.inactivityTimer = null;\n                    }\n                }, me.inactivityTimeout);\n            });\n        }\n    }\n\n    // The gray background\n    const backdropStyle = {\n        position: 'fixed',\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0,\n        backgroundColor: 'rgba(0,0,0,0.3)',\n        padding: 10\n  \n    };\n  \n      // The modal \"window\"\n    const modalStyle = {\n        backgroundColor: '#fff',\n        borderRadius: 5,\n        maxWidth: \"55%\",\n        height: \"100%\",\n        margin: '0 auto',\n        padding: 5\n    };\n    const bodyStyle = {\n      height: \"80%\",\n      overflowY: 'auto'\n    }\n    const textareaStyle = {\n        // Makes no difference\n    }\n    let width = this.props.width.replace('px', '');\n    width = Number(width);\n    if (width > 450) {\n        console.log(`Width is: `, width);\n        modalStyle.maxWidth = `${width}px`;\n    }\n    return (\n        <div style={ backdropStyle }>\n            <div style={ modalStyle }>\n            <Modal.Header>\n                <Modal.Title>{this.props.title}</Modal.Title>\n            </Modal.Header>\n            <div style={ bodyStyle }>\n                <Modal.Body><textarea ref={ref => { \n                                                    if (!me.state.textareaRef)\n                                                        me.setState({ textareaRef: ref })\n                                                   }} \n                                      style={ textareaStyle } value={ this.props.text } onChange={ (e) => {me.setState({value: e.target.value})} }></textarea></Modal.Body>\n            </div>\n            <Modal.Footer>\n                <span><b style={{ 'color': 'green' }}>ESC</b> to cancel. <b style={{ 'color': 'green' }}>Ctrl+Enter</b> to save and close. </span>\n                <Button variant=\"secondary\" onClick={() => \n                    {\n                        clearTimeout(me.inactivityTimer);\n                        me.props.onClose(false, me.codeMirror.getValue());\n                        me.inactivityTimer = null;\n                    }}>\n                    {this.props.cancel ? this.props.cancel : \"Cancel\"}\n                </Button>\n                <Button variant=\"primary\" onClick={() => \n                    {\n                        clearTimeout(me.inactivityTimer);\n                        me.props.onClose(true, me.codeMirror.getValue());\n                        me.inactivityTimer = null;\n                    }}>\n                    {this.props.ok ? this.props.ok: \"Do It!\"}\n                </Button>\n            </Modal.Footer>\n            </div>\n      </div>        \n    );\n  }\n}\n\nModalEditor.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  show: PropTypes.bool,\n  children: PropTypes.node\n};\n\nexport default ModalEditor;","function SharedState (component, more) {\n  return {\n    setState: state => component.setState(state),\n    getState: () => component.state,\n    ...more\n  }\n}\n\nexport default SharedState","import React from 'react'\n\nconst childrenWithProps = (children, props) => React.Children.map(children, c => React.cloneElement(c, props))\n\nexport default childrenWithProps\n","import React, { Component } from 'react'\nimport cn from 'classnames'\nimport childrenWithProps from '../childrenWithProps'\n\nclass Item extends Component {\n  render() {\n    const { shared, className, children } = this.props\n    const { opened } = shared.getState()\n    const open = opened === this.element\n    const toggleMenu = (e) => shared.toggle(this.element, e)\n\n    return (\n      <li role=\"presentation\" ref={ li => this.element = li } className={ cn(className, { open }) }>\n        { childrenWithProps(children, { opened, toggleMenu }) }\n      </li>\n    )\n  }\n}\n\nfunction Content({ children, className, open, toggleMenu }) {\n  return (\n    <a href=\"#!\" className={ cn('dropdown-toggle', className) } aria-expanded={ open } onClick={ toggleMenu }>\n      { children }\n    </a>\n  )\n}\n\nfunction SubMenu({ children, className }) {\n  return (\n    <ul className={ cn('dropdown-menu', className) } role=\"menu\">\n      { children }\n    </ul>\n  )\n}\n\nItem.Content = Content\nItem.SubMenu = SubMenu\n\nexport default Item\n","// the hacky part of this nice library :(\nconst body = window.document.body\n\n// and cross browser when? it's almost 2018 dude!\nfunction bodyNextClick(cb, isOn = true) {\n  const self = { on, off, target }\n  let status = false\n  let current_target = null\n\n  return isOn ? on() : self\n\n  function on () {\n    if (!status) {\n      window.document.body.addEventListener('click', handler)\n      status = true\n    }\n\n    return self\n  }\n\n  function off () {\n    if (status) {\n      body.removeEventListener('click', handler)\n      status = false\n    }\n\n    return self\n  }\n\n  function target(element) {\n    current_target = element\n    return element ? on() : off()\n  }\n\n  function handler (e) {\n    console.log(e.path.indexOf(current_target))\n    // TODO: unless ul.dropdown-menu is on the path\n    // which means that user clicked on an item of dropdown.\n    if (e.path.indexOf(current_target) === -1) {\n      cb(e, off)\n    }\n  }\n}\n\nexport {\n  bodyNextClick\n} ","import React, { Component } from 'react'\nimport SharedState from '../SharedState'\nimport childrenWithProps from '../childrenWithProps'\nimport Item from './Item'\nimport { bodyNextClick } from '../domUtils'\n\nclass TopNavBar extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      opened: null\n    }\n\n    this.shared = SharedState(this, {\n      toggle: (item, e) => {\n        if (e) e.preventDefault()\n        const opened = item === this.state.opened ? null : item\n        console.log('opened', opened)\n        this.setState({ opened })\n        this.closeOnClick.target(opened)\n      }\n    })\n\n    this.closeOnClick = bodyNextClick(e => this.shared.toggle(null), false)\n  }\n\n  render () {\n    const { shared } = this\n\n    return (\n      <ul className=\"nav navbar-nav navbar-right\">\n        { childrenWithProps(this.props.children, { shared }) }\n      </ul>\n    )\n  }\n}\n\nTopNavBar.Item = Item\n\nexport default TopNavBar","import TopNavBar from './TopNavBar'\nimport Item from './Item'\n\nexport default TopNavBar\n\nexport {\n  Item\n}","import { userConstants } from '../constants';\nimport { userService } from '../services';\nimport { alertActions } from './';\nimport { history } from '../helpers';\n\nexport const userActions = {\n    login,\n    logout,\n    register,\n    getAll,\n    delete: _delete,\n    sessionCheck\n};\n\nfunction login(username, password) {\n    return /* There was no async here */ async dispatch => {\n        dispatch(request({ username }));\n        dispatch(alertActions.clear());\n        try {\n            let obj = await userService.login(username, password);\n            console.log(\"user\", obj.user);\n            dispatch(success(obj.user));\n            if (obj.redirectUrl) {\n                console.log(\"redirectUrl\", obj.redirectUrl);\n                window.location.href = obj.redirectUrl;\n            }\n            //history.push('/ui');\n        } catch (error) {\n            //dispatch(failure(error.toString()));\n            //dispatch(alertActions.error(error.toString()));\n            dispatch(failure(\"Login incorrect: username or password is wrong\"));\n            dispatch(alertActions.error(\"Login incorrect: username or password is wrong\"));\n        }\n    };\n\n    function request(user) { return { type: userConstants.LOGIN_REQUEST, user } }\n    function success(user) { return { type: userConstants.LOGIN_SUCCESS, user } }\n    function failure(error) { return { type: userConstants.LOGIN_FAILURE, error } }\n}\n\nfunction logout() {\n    return async dispatch => {\n        try {\n            let response = await userService.logout();\n            if (response) {\n                dispatch(userLogout());\n            }\n        } catch (e) {\n            console.log(\"logging out error:\", e);\n        }\n    }\n    function userLogout() { return { type: userConstants.LOGOUT } }\n}\n\nfunction register(user) {\n    return dispatch => {\n        dispatch(request(user));\n\n        userService.register(user)\n            .then(\n                user => { \n                    dispatch(success());\n                    history.push('/login');\n                    dispatch(alertActions.success('Registration successful'));\n                },\n                error => {\n                    dispatch(failure(error.toString()));\n                    dispatch(alertActions.error(error.toString()));\n                }\n            );\n    };\n\n    function request(user) { return { type: userConstants.REGISTER_REQUEST, user } }\n    function success(user) { return { type: userConstants.REGISTER_SUCCESS, user } }\n    function failure(error) { return { type: userConstants.REGISTER_FAILURE, error } }\n}\n\nfunction getAll() {\n    return dispatch => {\n        dispatch(request());\n\n        userService.getAll()\n            .then(\n                users => dispatch(success(users)),\n                error => dispatch(failure(error.toString()))\n            );\n    };\n\n    function request() { return { type: userConstants.GETALL_REQUEST } }\n    function success(users) { return { type: userConstants.GETALL_SUCCESS, users } }\n    function failure(error) { return { type: userConstants.GETALL_FAILURE, error } }\n}\n\n// prefixed function name with underscore because delete is a reserved word in javascript\nfunction _delete(id) {\n    return dispatch => {\n        dispatch(request(id));\n\n        userService.delete(id)\n            .then(\n                user => dispatch(success(id)),\n                error => dispatch(failure(id, error.toString()))\n            );\n    };\n\n    function request(id) { return { type: userConstants.DELETE_REQUEST, id } }\n    function success(id) { return { type: userConstants.DELETE_SUCCESS, id } }\n    function failure(id, error) { return { type: userConstants.DELETE_FAILURE, id, error } }\n}\n\n\nfunction sessionCheck(user) {\n    return async dispatch => {\n        dispatch(request());\n        try {\n            let validSession = await userService.sessionCheck(user);\n            if (validSession) {\n                dispatch(success());\n            } else {\n                dispatch(logout());\n            }\n        } catch (error) {\n            dispatch(failure(\"Login incorrect: username or password is wrong\"));\n\n        }\n    };\n\n    function request() { return { type: userConstants.SESSION_CHECK_REUEST } }\n    function success() { return { type: userConstants.SESSION_CHECK_SUCCESS } }\n    function failure() { return { type: userConstants.SESSION_CHECK_FAILURE } }\n}","import { alertConstants } from '../constants';\n\nexport const alertActions = {\n    success,\n    error,\n    clear\n};\n\nfunction success(message) {\n    return { type: alertConstants.SUCCESS, message };\n}\n\nfunction error(message) {\n    return { type: alertConstants.ERROR, message };\n}\n\nfunction clear() {\n    return { type: alertConstants.CLEAR };\n}","import React, { Component } from 'react'\nimport { Item } from '../components/TopNavBar'\nimport { userActions } from '../actions';\n\nclass UserMenuItem extends Component {\n  constructor(props){\n    super(props);\n    this.logout = this.logout.bind(this);\n  }\n\n  logout(){\n    const { dispatch } = this.props;\n    dispatch(userActions.logout());\n  }\n\n  render() {\n    const { user } = this.props;\n    return (\n      <Item {...this.props}>\n        <Item.Content className=\"user-profile\">\n          {/*<img src={user.userphoto} alt=\"\"/>*/}{user.user}\n          <span className=\" fa fa-angle-down\"></span>\n        </Item.Content>\n        <Item.SubMenu className=\"dropdown-usermenu pull-right\">\n          <li><a href=\"#!\"> Profile</a></li>\n          <li>\n            <a href=\"#!\">\n              <span className=\"badge bg-red pull-right\">50%</span>\n              <span>Settings</span>\n            </a>\n          </li>\n          <li><a href=\"#!\">Help</a></li>\n          <li><a href=\"/\" onClick={this.logout}><i className=\"fa fa-sign-out pull-right\"></i> Log Out</a></li>\n        </Item.SubMenu>\n      </Item>\n    )\n  }\n}\n\nexport default UserMenuItem\n","// Top Navigation\nimport React, { Component } from 'react'\nimport TopNavBar from '../components/TopNavBar'\nimport UserMenuItem from './UserMenuItem'\n\nclass Top extends Component {\n  render () {\n    const { user, toggleCb, needMargin} = this.props;\n    return (\n      <div className={ needMargin ? \"top_nav\" : \"\" }>\n        <div className=\"nav_menu\">\n          <nav>\n            <div className=\"nav toggle\">\n              <a href=\"##\" id=\"menu_toggle\" onClick={ toggleCb }><i className=\"fas fa-bars\"></i></a>\n            </div>\n            <TopNavBar>\n              <UserMenuItem user={user} {...this.props} />\n            </TopNavBar>\n          </nav>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Top","import React, { Component } from 'react'\n// import { Link } from 'react-router-dom'\n\nclass Left extends Component {\n  render() {\n    const { user, visible } = this.props;\n    if (!visible) \n      return (<div></div>);\n    return (\n      <div className=\"col-md-3 left_col\">\n        <div className=\"left_col scroll-view\">\n          <div className=\"navbar nav_title\" style={ { border: 0 } }>\n            <a href=\"/\" className=\"site_title\"><span>Datagroom</span></a>\n          </div>\n\n          <div className=\"clearfix\"></div>\n\n          { /* menu profile quick info */ }\n          <div className=\"profile clearfix\">\n            {/*\n            <div className=\"profile_pic\">\n            <img src={user.userphoto} alt=\"...\" className=\"img-circle profile_img\"/>\n            </div>\n            */}\n            <div className=\"profile_info\">\n              <span>Welcome,</span>\n              <h5 style= {{ color: \"white\" }}>{user.user}</h5>\n            </div>\n          </div>\n          { /* /menu profile quick info */ }\n\n          <br/>\n\n          { /* sidebar menu */ }\n          { this.props.children }\n          <div className=\"sidebar-footer hidden-small\">\n            <a href=\"##\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Settings\">\n              <span className=\"glyphicon glyphicon-cog\" aria-hidden=\"true\"></span>\n            </a>\n            <a href=\"##\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"FullScreen\">\n              <span className=\"glyphicon glyphicon-fullscreen\" aria-hidden=\"true\"></span>\n            </a>\n            <a href=\"##\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Lock\">\n              <span className=\"glyphicon glyphicon-eye-close\" aria-hidden=\"true\"></span>\n            </a>\n            <a data-toggle=\"tooltip\" data-placement=\"top\" title=\"Logout\" href=\"login.html\">\n              <span className=\"glyphicon glyphicon-off\" aria-hidden=\"true\"></span>\n            </a>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\n\nexport default Left\n","import React, { Component } from 'react'\n\nclass Footer extends Component {\n  render () {\n    const { needMargin } = this.props;\n    return (\n      <footer style={!needMargin ? { 'margin-left': '0px' } : null}>\n        <div className=\"text-center\">\n          </div>\n          <div className=\"clearfix\"></div>\n        </footer>\n    )\n  }\n}\n\nexport default Footer","import React, { Component } from 'react'\nimport { Row, Col } from 'react-bootstrap'\nimport { uploadService } from '../../services'  // Call uploadService.fileUpload for sending file to gateway\nimport 'react-tabulator/lib/styles.css'; // required styles\nimport 'react-tabulator/lib/css/tabulator.min.css'; // theme\nimport { ReactTabulator } from 'react-tabulator';\nimport DateEditor from 'react-tabulator/lib/editors/DateEditor';\nimport MultiSelectEditor from 'react-tabulator/lib/editors/MultiSelectEditor';\nimport MultiValueFormatter from 'react-tabulator/lib/formatters/MultiValueFormatter';\nimport MyAutoCompleter from './MyAutoCompleter';\n\nrequire('./styles.css');\n\n  const data = [\n    { id: 1, name: 'Oli Bob', age: '12', color: 'red', dob: '01/01/1980', rating: 5, passed: true, pets: ['cat', 'dog'] },\n    { id: 2, name: 'Mary May', age: '1', color: 'green', dob: '12/05/1989', rating: 4, passed: true, pets: ['cat'] },\n    { id: 3, name: 'Christine Lobowski', age: '42', color: 'green', dob: '10/05/1985', rating: 4, passed: false },\n    { id: 4, name: 'Brendon Philips', age: '125', color: 'red', dob: '01/08/1980', rating: 4.5, passed: true },\n    { id: 5, name: 'Margret Marmajuke', age: '16', color: 'yellow', dob: '07/01/1999', rating: 4, passed: false },\n    {\n      id: 6,\n      name: 'Van Ng',\n      age: '37',\n      color: 'green',\n      dob: '06/10/1982',\n      rating: 4,\n      passed: true,\n      pets: ['dog', 'fish']\n    },\n    { id: 7, name: 'Duc Ng', age: '37', color: 'yellow', dob: '10/10/1982', rating: 4, passed: true, pets: ['dog'] }\n  ];\n  \n  // Editable Example:\n  const colorOptions = { ['']: '&nbsp;', red: 'red', green: 'green', yellow: 'yellow' };\n  const petOptions = [{ id: 'cat', name: 'cat' }, { id: 'dog', name: 'dog' }, { id: 'fish', name: 'fish' }];\n  let headerMenu = [\n    {\n        label:\"Toggle Filters\",\n        action: function(e, column) {\n            console.log(\"Toggle filters!\");\n            let currentDefs = column.getDefinition();\n            let curHdrFilter = currentDefs.headerFilter;\n            let curWidth = currentDefs.width;\n            column.updateDefinition({headerFilter: curHdrFilter ? false : 'input'});\n        }\n    }\n  ];\nconst editableColumns = [\n    { title: 'Name', field: 'name', editor: 'input', },\n    { title: 'Age', field: 'age', hozAlign: 'left', formatter: 'progress', editor: 'progress' },\n    {\n      title: 'Favourite Color',\n      field: 'color',\n      editor: MyAutoCompleter,\n      editorParams: { allowEmpty: true, showListOnEmpty: true, values: colorOptions, verticalNavigation:\"table\" },\n      formatter: \"textarea\",\n      headerMenu\n    },\n    { title: 'Date Of Birth', field: 'dob', editor: DateEditor, editorParams: { format: 'MM/DD/YYYY' } },\n    {\n      title: 'Pets',\n      field: 'pets',\n      sorter: (a, b) => a.toString().localeCompare(b.toString()),\n      editor: MultiSelectEditor,\n      editorParams: { values: petOptions },\n      formatter: MultiValueFormatter,\n      formatterParams: { style: 'PILL' }\n    },\n    { title: 'Passed?', field: 'passed', hozAlign: 'center', formatter: 'tickCross', editor: true }\n  ];\n\nclass Upload extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {activeTab:'', file: null};\n        this.onFileSelect = this.onFileSelect.bind(this);\n        this.onFileUpload = this.onFileUpload.bind(this);\n    }\n    onFileSelect(event) {\n        this.setState({file: event.target.files[0]});\n    }\n    // On file upload (click the upload button) \n    onFileUpload () { \n        // Create an object of formData \n        const formData = new FormData(); \n        // Update the formData object \n        formData.append( \n            \"file\", \n            this.state.file, \n            this.state.file.name \n        );     \n        // Details of the uploaded file \n         console.log(this.state.file); \n        // Request made to the backend api \n        // Send formData object \n        uploadService.fileUpload(formData);\n        //axios.post(\"api/uploadfile\", formData); \n    }; \n\n\n    render() {\n        return (\n                <Row>\n                <Col md={12}>\n                    <h3>Editable Table</h3>\n                    <ReactTabulator\n                    columns={editableColumns}\n                    data={data}\n                    cellEdited={(cell) => console.log('cellEdited:', cell)}\n                    dataEdited={(newData) => console.log('dataEdited', newData)}\n                    footerElement={<span>Footer</span>}\n                    options={{ movableColumns: true, movableRows: false, layout: \"fitDataFill\", keybindings: {\"navRight\": 39, \"navLeft\": 37} }}\n                    />\n                    <input type=\"file\" name=\"file\" onChange={this.onFileSelect} />\n                    <button onClick={this.onFileUpload}> \n                        Upload! \n                    </button> \n                </Col>\n                </Row>\n        )\n    }\n}\n\nexport default Upload","import React, { Component } from 'react'\nimport { Row, Col, Form, Button } from 'react-bootstrap'\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom'\nimport { newDsActions } from './NewDsStoreMgmt';\nimport Select from 'react-select';\n\nclass NewDsFromXls extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            file: null,\n            formData: null,\n            range: \"\",\n            dsName: \"\"\n        };\n        this.onFileSelect = this.onFileSelect.bind(this);\n        this.sheetSelectorOnChange = this.sheetSelectorOnChange.bind(this);\n        this.sheetSelectionDone = this.sheetSelectionDone.bind(this);\n        this.rangeOnChange = this.rangeOnChange.bind(this);\n        this.rangeSelectionDone = this.rangeSelectionDone.bind(this);\n        this.keySelectorOnChange = this.keySelectorOnChange.bind(this);\n        this.dsNameOnChange = this.dsNameOnChange.bind(this);\n        this.createDs = this.createDs.bind(this);\n    }\n    onFileSelect(event) {\n        const { dispatch, user } = this.props;\n        this.setState({file: event.target.files[0]});\n        let file = event.target.files[0];\n        if ( file ) {\n            let remoteFileName = user.user + '_' + file.name;\n            // Create an object of formData \n            const formData = new FormData(); \n            // Update the formData object \n            formData.append( \n                \"file\", \n                file,\n                remoteFileName\n            );     \n            this.setState({ file, formData });\n            dispatch(newDsActions.uploadXlsFile(remoteFileName, formData));\n        }\n    }\n\n    componentDidMount () {\n        const { dispatch } = this.props;\n        dispatch(newDsActions.clearReduxStore());\n    }\n\n    componentWillUnmount () {\n    }\n\n    step1Status () {\n        const { newDs } = this.props;\n        let s1Status = '';\n\n        if (newDs && newDs.uploadStatus === 'fail') {\n            s1Status = <Row>\n                                <Col md={6} sm={6} xs={6}> \n                                    <b style={{color: 'red'}}>{newDs.uploadError}</b>\n                                </Col>\n                        </Row>\n        }\n        if (newDs && newDs.uploadStatus === 'success' && !newDs.sheetInfo.length) {\n            s1Status = <Row>\n                                <Col md={6} sm={6} xs={6}> \n                                <b style={{color: 'red'}}>Failed to recognize the sheets!</b>\n                                </Col>\n                        </Row>\n        }\n        return s1Status;\n    }\n    sheetSelectorOnChange (value) {\n        const { dispatch } = this.props;\n        console.log(value);\n        dispatch(newDsActions.setSelectedSheet(value ? value.value : null));\n        // Drop the result on the floor if you are no longer the selected value. \n        // This is required for race-conditions when the user rapidly changes the\n        // selection. \n        // Or add a button to do the actual network call. \n    }\n    sheetSelectionDone () {\n        const { newDs, dispatch } = this.props;\n        dispatch(newDsActions.findHeadersInSheet(newDs.fileName, newDs.selectedSheet));\n    }\n    step2 () {\n        const { newDs } = this.props;\n        let s2 = '';\n        if (newDs && newDs.uploadStatus === 'success' && newDs.sheetInfo.length) {\n            let sheetOptions = [];\n            newDs.sheetInfo.map((v) => {\n                let row = {};\n                row.value = v;\n                row.label = v;\n                sheetOptions.push(row);\n            });\n            s2 = <Row>\n                    <Col md={2} sm={2} xs={2}> \n                    <b>Step 2.</b> Select sheet:\n                    </Col>\n                    <Col md={4} sm={4} xs={4}> \n                    <Select className=\"basic-single\" classNamePrefix=\"select\" isClearable={true} name=\"sheetOptions\" options={sheetOptions} onChange={this.sheetSelectorOnChange}/>\n                    </Col>\n                    {/* \n                    <Select className=\"basic-multi-select\" classNamePrefix=\"select\" isClearable={true} name=\"sheetOptions\" options={sheetOptions} onChange={this.sheetSelectorOnChange} isMulti/>\n                    <Col md={4} sm={4} xs={4}> \n                    <button onClick={this.sheetSelectionDone}> Done </button> \n                    </Col>\n                    */}\n                 </Row>\n        }\n        return s2;\n    }\n\n    rangeOnChange (event) {\n        this.setState({ range: event.target.value });\n    }\n    rangeSelectionDone () {\n        const { newDs, dispatch } = this.props;\n        dispatch(newDsActions.loadHdrsFromRange(newDs.fileName, newDs.selectedSheet, this.state.range));\n    }\n\n    step3 () {\n        const { newDs } = this.props;\n        let s3 = '';\n        if (newDs && newDs.selectedSheet && newDs.selectedSheet.length) {\n            s3 = <Row>\n                    <Col md={2} sm={2} xs={2}> \n                    <b>Step 3.</b> Specify range (must include hdrs):\n                    </Col>\n                    <Col md={4} sm={4} xs={4}> \n                    <Form.Control type=\"text\" value={this.state.range} onChange={this.rangeOnChange} />\n                    </Col>\n                    <Col md={4} sm={4} xs={4}> \n                    <Button onClick={this.rangeSelectionDone}> Validate </Button> \n                    </Col>\n                 </Row>\n        }\n        return s3;\n    }\n\n    step3Status () {\n        const { newDs } = this.props;\n        let s3Status = '';\n        let statusJsx;\n        try {\n            if (!newDs.loadStatus.loadStatus) {\n                statusJsx = <b style={{color: 'red'}}> {newDs.loadStatus.error} </b>;\n            }\n        } catch (e) {}\n        try {\n            if (!newDs.loadStatus.loadStatus) {\n                if (Object.keys(newDs.loadStatus.hdrErrors).length) {\n                    statusJsx = Object.entries(newDs.loadStatus.hdrErrors).map ((kv) => {\n                        return <div>[ {kv[0]} ] : [ <b style={{color: 'red'}}> {kv[1]} </b> ] </div>\n                    })\n                } else {\n                    statusJsx = <b style={{color: 'red'}}> {newDs.loadStatus.error} </b>;\n                }\n            }\n        } catch (e) {}\n        if (statusJsx) {\n            s3Status = <Row>\n                            <Col md={12} sm={12} xs={12}> \n                            <b>Error: </b>{statusJsx}\n                            </Col>                        \n                       </Row>\n        }\n        return s3Status;\n    }\n\n    keySelectorOnChange (value) {\n        const { dispatch } = this.props;\n        console.log(value);\n        let flatKeys = [];\n        if ( value ) {\n            value.map((v) => {\n                flatKeys.push(v.value);\n            })\n        }\n        console.log(flatKeys);\n        dispatch(newDsActions.setSelectedKeys(flatKeys));\n        // Drop the result on the floor if you are no longer the selected value. \n        // This is required for race-conditions when the user rapidly changes the\n        // selection. \n        // Or add a button to do the actual network call. OR find a way to disable\n        // the component until call completes..\n    }\n\n    step4 () {\n        const { newDs } = this.props;\n        let s4 = '';\n        if (newDs && newDs.loadStatus && newDs.loadStatus.loadStatus && newDs.loadStatus.hdrs && Object.keys(newDs.loadStatus.hdrs).length) {\n            let hdrOptions = [];\n            Object.entries(newDs.loadStatus.hdrs).map((kv) => {\n                let row = {};\n                row.value = kv[1];\n                row.label = kv[1];\n                hdrOptions.push(row);\n            });\n            s4 = <Row>\n                    <Col md={2} sm={2} xs={2}> \n                    <b>Step 4.</b> Select key(s):\n                    </Col>\n                    <Col md={4} sm={4} xs={4}> \n                    <Select className=\"basic-multi-select\" classNamePrefix=\"select\" isClearable={true} name=\"sheetOptions\" options={hdrOptions} onChange={this.keySelectorOnChange} isMulti/>\n                    </Col>\n                 </Row>\n        }\n        return s4;\n    }\n\n    dsNameOnChange (event) {\n        let value = event.target.value;\n        if (!value || (value.match(/^[a-zA-Z][a-zA-Z0-9_]*$/g) && value.length <= 64))\n            this.setState({ dsName: event.target.value });\n    }\n    createDs () {\n        const { newDs, dispatch, user } = this.props;\n        dispatch(newDsActions.createDs(newDs.fileName, newDs.selectedSheet, newDs.selectedRange, newDs.selectedKeys, this.state.dsName, user.user));\n    }\n    step5 () {\n        const { newDs } = this.props;\n        let s5 = '';\n        if (newDs && newDs.loadStatus && newDs.loadStatus.loadStatus && newDs.loadStatus.hdrs && Object.keys(newDs.loadStatus.hdrs).length) {\n            s5 = <Row>\n                    <Col md={2} sm={2} xs={2}> \n                    <b>Step 5.</b> Specify dataset name:\n                    </Col>\n                    <Col md={4} sm={4} xs={4}> \n                    <Form.Control type=\"text\" value={this.state.dsName} onChange={this.dsNameOnChange} />\n                    </Col>\n                    <Col md={4} sm={4} xs={4}> \n                    <Button onClick={this.createDs}> Create </Button> \n                    </Col>\n                 </Row>\n        }\n        return s5;\n    }\n\n    step5Status () {\n        const { newDs } = this.props;\n        let s5Status = '';\n\n        try {\n            if (newDs.createStatus.error) {\n                s5Status = <Row>\n                                <Col md={6} sm={6} xs={6}> \n                                    <b style={{color: 'red'}}>{newDs.createStatus.error}</b>\n                                </Col>\n                           </Row>\n            } else if (newDs.createStatus.loadStatus && this.state.dsName !== \"\") {\n                let url = `/ds/${this.state.dsName}/default`;\n                s5Status = <Row>\n                                <Col md={6} sm={6} xs={6}> \n                                    <b style={{color: 'green'}}>Successfully created: </b>\n                                    <Link to={url}>Click here for your dataset</Link>\n                                </Col>\n                           </Row>\n            }\n        } catch (e) {}\n        return s5Status;\n    }\n\n    render () {\n        return (\n            <div>\n                <Row>\n                    <Col md={12} sm={12} xs={12}> \n                    <h3 style={{ 'float': 'center' }}><label className=\"underline\">New Dataset from xls file</label></h3>\n                    </Col>\n                </Row>\n                <Row>\n                    <Col md={2} sm={2} xs={2}> \n                    <b>Step 1.</b> Select xls file:\n                    </Col>\n                    <Col md={4} sm={4} xs={4}> \n                    <Form.Control type=\"file\" name=\"file\" onChange={this.onFileSelect} />\n                    </Col>\n                </Row>\n                {this.step1Status()}\n                <br/>\n                {this.step2()}\n                <br/>\n                {this.step3()}\n                {this.step3Status()}\n                <br/>\n                {this.step4()}\n                <br/>\n                {this.step5()}\n                <br/>\n                {this.step5Status()}\n            </div>\n        );\n    }\n\n}\n\nfunction mapStateToProps(state) {\n    const { user } = state.authentication;\n    const { home } = state;\n    const { newDs } = state;\n    return {\n        user,\n        home,\n        newDs\n    }\n}\n\nconst cNewDsFromXls = connect(mapStateToProps)(NewDsFromXls);\n\n\nexport default cNewDsFromXls","import React, { Component } from 'react'\nimport { Row, Col, Form, Button } from 'react-bootstrap'\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom'\nimport { newDsActions } from './NewDsStoreMgmt';\nimport Select from 'react-select';\n\nclass NewDsFromCsv extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            file: null,\n            formData: null,\n            range: \"\",\n            dsName: \"\"\n        };\n        this.onFileSelect = this.onFileSelect.bind(this);\n        this.keySelectorOnChange = this.keySelectorOnChange.bind(this);\n        this.dsNameOnChange = this.dsNameOnChange.bind(this);\n        this.createDs = this.createDs.bind(this);\n    }\n    onFileSelect(event) {\n        const { dispatch, user } = this.props;\n        this.setState({file: event.target.files[0]});\n        let file = event.target.files[0];\n        if ( file ) {\n            let remoteFileName = user.user + '_' + file.name;\n            // Create an object of formData \n            const formData = new FormData(); \n            // Update the formData object \n            formData.append( \n                \"file\", \n                file,\n                remoteFileName\n            );     \n            this.setState({ file, formData });\n            dispatch(newDsActions.uploadCsvFile(remoteFileName, formData));\n        }\n    }\n\n    componentDidMount () {\n        const { dispatch } = this.props;\n        dispatch(newDsActions.clearReduxStore());\n    }\n\n    componentWillUnmount () {\n    }\n\n    step1Status () {\n        const { newDs } = this.props;\n        let s1Status = '';\n\n        if (newDs && newDs.uploadStatus === 'fail') {\n            s1Status = <Row>\n                                <Col md={6} sm={6} xs={6}> \n                                    <b style={{color: 'red'}}>{newDs.uploadError}</b>\n                                </Col>\n                        </Row>\n        }\n        if (newDs && newDs.uploadStatus === 'success' && newDs.hdrs && !newDs.hdrs.length) {\n            s1Status = <Row>\n                                <Col md={6} sm={6} xs={6}> \n                                <b style={{color: 'red'}}>Failed to read the hdrs!</b>\n                                </Col>\n                        </Row>\n        }\n        return s1Status;\n    }\n    step2 () {\n        const { newDs } = this.props;\n        let s2 = '';\n        if (newDs && newDs.uploadStatus === 'success' && newDs.hdrs.length) {\n            let hdrOptions = [];\n            newDs.hdrs.map((v) => {\n                let row = {};\n                row.value = v;\n                row.label = v;\n                hdrOptions.push(row);\n            });\n            s2 = <Row>\n                    <Col md={2} sm={2} xs={2}> \n                    <b>Step 2.</b> Select keys:\n                    </Col>\n                    <Col md={4} sm={4} xs={4}> \n                    <Select className=\"basic-multi-select\" classNamePrefix=\"select\" isClearable={true} name=\"keys\" options={hdrOptions} onChange={this.keySelectorOnChange} isMulti/>\n                    </Col>\n                 </Row>\n        }\n        return s2;\n    }\n\n\n    keySelectorOnChange (value) {\n        const { dispatch } = this.props;\n        console.log(value);\n        let flatKeys = [];\n        if ( value ) {\n            value.map((v) => {\n                flatKeys.push(v.value);\n            })\n        }\n        console.log(flatKeys);\n        dispatch(newDsActions.setSelectedKeys(flatKeys));\n        // Drop the result on the floor if you are no longer the selected value. \n        // This is required for race-conditions when the user rapidly changes the\n        // selection. \n        // Or add a button to do the actual network call. OR find a way to disable\n        // the component until call completes..\n    }\n\n\n    dsNameOnChange (event) {\n        let value = event.target.value;\n        if (!value || (value.match(/^[a-zA-Z][a-zA-Z0-9_]*$/g) && value.length <= 64))\n            this.setState({ dsName: event.target.value });\n    }\n    createDs () {\n        const { newDs, dispatch, user } = this.props;\n        dispatch(newDsActions.createDsViaCsv(newDs.fileName, newDs.selectedKeys, this.state.dsName, user.user));\n    }\n    step5 () {\n        const { newDs } = this.props;\n        let s5 = '';\n        if (newDs && newDs.uploadStatus === 'success' && newDs.hdrs.length) {\n            s5 = <Row>\n                    <Col md={2} sm={2} xs={2}> \n                    <b>Step 5.</b> Specify dataset name:\n                    </Col>\n                    <Col md={4} sm={4} xs={4}> \n                    <Form.Control type=\"text\" value={this.state.dsName} onChange={this.dsNameOnChange} />\n                    </Col>\n                    <Col md={4} sm={4} xs={4}> \n                    <Button onClick={this.createDs}> Create </Button> \n                    </Col>\n                 </Row>\n        }\n        return s5;\n    }\n\n    step5Status () {\n        const { newDs } = this.props;\n        let s5Status = '';\n\n        try {\n            if (newDs.createStatus.error) {\n                s5Status = <Row>\n                                <Col md={6} sm={6} xs={6}> \n                                    <b style={{color: 'red'}}>{newDs.createStatus.error}</b>\n                                </Col>\n                           </Row>\n            } else if (newDs.createStatus.loadStatus && this.state.dsName !== \"\") {\n                let url = `/ds/${this.state.dsName}/default`;\n                s5Status = <Row>\n                                <Col md={6} sm={6} xs={6}> \n                                    <b style={{color: 'green'}}>Successfully created: </b>\n                                    <Link to={url}>Click here for your dataset</Link>\n                                </Col>\n                           </Row>\n            }\n        } catch (e) {}\n        return s5Status;\n    }\n\n    render () {\n        return (\n            <div>\n                <Row>\n                    <Col md={12} sm={12} xs={12}> \n                    <h3 style={{ 'float': 'center' }}><label className=\"underline\">New Dataset from csv file</label></h3>\n                    </Col>\n                </Row>\n                <Row>\n                    <Col md={2} sm={2} xs={2}> \n                    <b>Step 1.</b> Select csv file:\n                    </Col>\n                    <Col md={4} sm={4} xs={4}> \n                    <Form.Control type=\"file\" name=\"file\" onChange={this.onFileSelect} />\n                    </Col>\n                </Row>\n                {this.step1Status()}\n                <br/>\n                {this.step2()}\n                <br/>\n                {this.step5()}\n                <br/>\n                {this.step5Status()}\n            </div>\n        );\n    }\n\n}\n\nfunction mapStateToProps(state) {\n    const { user } = state.authentication;\n    const { home } = state;\n    const { newDs } = state;\n    return {\n        user,\n        home,\n        newDs\n    }\n}\n\nconst cNewDsFromCsv = connect(mapStateToProps)(NewDsFromCsv);\n\n\nexport default cNewDsFromCsv","import React, { Component } from 'react'\nimport { Row, Col, Form, Button } from 'react-bootstrap'\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom'\nimport { newDsActions } from './NewDsStoreMgmt';\nimport { dsActions } from '../../actions/ds.actions';\nimport Select from 'react-select';\n\nclass NewDsFromDs extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            fromDsName: \"\",\n            toDsName: \"\",\n            retainData: true,\n            incompleteInputErr: \"\"\n        };\n        this.dsSelectorOnChange = this.dsSelectorOnChange.bind(this);\n        this.dsNameOnChange = this.dsNameOnChange.bind(this);\n        this.createDs = this.createDs.bind(this);\n    }\n\n    componentDidMount () {\n        const { dispatch, user } = this.props;\n        dispatch(newDsActions.clearReduxStore());\n        dispatch(dsActions.getDsList(user.user));\n    }\n\n    componentWillUnmount () {\n    }\n\n    dsSelectorOnChange (value) {\n        const { dispatch } = this.props;\n        if (value)        \n            this.setState({ fromDsName: value.value });\n        else \n            this.setState({ fromDsName: \"\" });\n    }\n    step1 () {\n        const { allDs } = this.props;\n        let s1 = '';\n        try {\n            let sheetOptions = [];\n\n            allDs.dsList.dbList.map((v) => {\n                let row = {};\n                row.value = v.name;\n                row.label = v.name;\n                sheetOptions.push(row);\n            })\n            s1 = <Row>\n                    <Col md={2} sm={2} xs={2}> \n                    <b>Step 1.</b> Select From DS:\n                    </Col>\n                    <Col md={4} sm={4} xs={4}> \n                    <Select className=\"basic-single\" classNamePrefix=\"select\" isClearable={true} name=\"sheetOptions\" options={sheetOptions} onChange={this.dsSelectorOnChange}/>\n                    </Col>\n                 </Row>\n\n            return s1;\n        } catch (e) {}\n\n        return s1;\n    }\n\n    dsNameOnChange (event) {\n        let value = event.target.value;\n        if (!value || (value.match(/^[a-zA-Z][a-zA-Z0-9_]*$/g) && value.length <= 64))\n            this.setState({ toDsName: event.target.value });\n    }\n    createDs () {\n        const { newDs, dispatch, user } = this.props;\n        console.log(`createDs: ${this.state.fromDsName}, ${this.state.toDsName}, ${this.state.retainData}`);\n        if (!this.state.toDsName) {\n            this.setState({incompleteInputErr: \"Specify new DS name!\"});\n        } else if (!this.state.fromDsName) {\n            this.setState({incompleteInputErr: \"Select FROM DS name!\"});\n        } else {\n            this.setState({incompleteInputErr: \"\"});\n        }\n        dispatch(newDsActions.createDsFromDs(this.state.fromDsName, this.state.toDsName, user.user, this.state.retainData));\n    }\n    step2 () {\n        const { newDs } = this.props;\n        let s2 = '', me = this;\n        if (!this.state.fromDsName) return s2;\n\n        try {\n            s2 =<div>\n                <Row>\n                    <Col md={2} sm={2} xs={2}> \n                    </Col>\n                    <Col md={4} sm={4} xs={4}> \n                    <Form.Check type=\"checkbox\" label=\"&nbsp; Retain data\" checked={this.state.retainData} onChange={(event) => {\n                            me.setState({retainData: event.target.checked\n                        });\n                    }}/>\n                    </Col>\n                </Row>\n                <Row>\n                    <Col md={2} sm={2} xs={2}> \n                    <b>Step 2.</b> Specify new dataset name:\n                    </Col>\n                    <Col md={4} sm={4} xs={4}> \n                    <Form.Control type=\"text\" value={this.state.toDsName} onChange={this.dsNameOnChange} />\n                    </Col>\n                    <Col md={4} sm={4} xs={4}> \n                    <Button onClick={this.createDs}> Create </Button> \n                    </Col>\n                </Row>\n                </div>\n        } catch (e) {};\n\n        return s2;\n    }\n\n    step2Status () {\n        const { newDs } = this.props;\n        let s5Status = '';\n\n        try {\n            if (this.state.incompleteInputErr) {\n                s5Status = <Row>\n                                <Col md={6} sm={6} xs={6}> \n                                    <b style={{color: 'red'}}>{this.state.incompleteInputErr}</b>\n                                </Col>\n                           </Row>\n            } else if (newDs.createStatus.error) {\n                s5Status = <Row>\n                                <Col md={6} sm={6} xs={6}> \n                                    <b style={{color: 'red'}}>{newDs.createStatus.error}</b>\n                                </Col>\n                           </Row>\n            } else if (newDs.createStatus.createStatus && this.state.toDsName !== \"\") {\n                let url = `/ds/${this.state.toDsName}/default`;\n                s5Status = <Row>\n                                <Col md={6} sm={6} xs={6}> \n                                    <b style={{color: 'green'}}>Successfully created: </b>\n                                    <Link to={url}>Click here for your dataset</Link>\n                                </Col>\n                           </Row>\n            }\n        } catch (e) {}\n        return s5Status;\n    }\n\n    render () {\n        return (\n            <div>\n                <Row>\n                    <Col md={12} sm={12} xs={12}> \n                    <h3 style={{ 'float': 'center' }}><label className=\"underline\">Copy Dataset from an existing Dataset</label></h3>\n                    </Col>\n                </Row>\n                {this.step1()}\n                <br/>\n                {this.step2()}\n                <br/>\n                {this.step2Status()}\n            </div>\n        );\n    }\n\n}\n\nfunction mapStateToProps(state) {\n    const { user } = state.authentication;\n    const { home } = state;\n    const { newDs } = state;\n    const { allDs } = state;\n    return {\n        user,\n        home,\n        newDs,\n        allDs\n    }\n}\n\nconst cNewDsFromDs = connect(mapStateToProps)(NewDsFromDs);\n\n\nexport default cNewDsFromDs","import React, { Component } from 'react'\nimport { Row, Col } from 'react-bootstrap'\nimport { connect } from 'react-redux';\nimport Select from 'react-select';\nimport 'react-tabulator/lib/styles.css'; // required styles\nimport 'react-tabulator/lib/css/tabulator.min.css'; // theme\nimport { ReactTabulator } from 'react-tabulator';\nimport { authHeader } from '../../helpers';\n\nconst config = {};\nif (process.env.NODE_ENV === 'development') {\n    config.apiUrl = \"http://in-mvlb52:8887\"\n    config.apiUrl = \"http://localhost:8887\"\n} else {\n    config.apiUrl = \"\"\n}\n\nclass DsHome extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            file: null,\n            range: \"\",\n            dsName: \"\"\n        };\n    }\n\n    step1 () {\n        const { newDs, dsHome } = this.props;\n\n        if ( !Object.keys(dsHome).length ) {\n            // Here, fetch all the views available for the dataset. \n            // dispatch(newDsActions.loadHdrsFromRange(newDs.fileName, newDs.selectedSheet, this.state.range));\n        }\n\n        let s1 = '';\n        if (newDs && newDs.loadStatus && newDs.loadStatus.loadStatus && newDs.loadStatus.hdrs && Object.keys(newDs.loadStatus.hdrs).length) {\n            let hdrOptions = [];\n            Object.entries(newDs.loadStatus.hdrs).map((kv) => {\n                let row = {};\n                row.value = kv[1];\n                row.label = kv[1];\n                hdrOptions.push(row);\n            });\n            s1 = <Row>\n                    <Col md={2} sm={2} xs={2}> \n                    <b>Step 4.</b> Select key(s):\n                    </Col>\n                    <Col md={4} sm={4} xs={4}> \n                    <Select className=\"basic-multi-select\" classNamePrefix=\"select\" isClearable={true} name=\"sheetOptions\" options={hdrOptions} onChange={this.keySelectorOnChange} isMulti/>\n                    </Col>\n                 </Row>\n        }\n        return s1;\n    }\n    \n    render () {\n        var columns = [\n            { title: 'Issue Id', field: 'IssueID', width: 150 },\n            { title: 'Cur Owner', field: 'CurrentOwner', width: 150 },\n            { title: 'Title', field: 'Title', width: 800, formatter: \"textarea\", variableHeight: true },\n        ];        \n        return (\n            <div>\n                <Row>\n                    <Col md={12} sm={12} xs={12}> \n                    <h3 style={{ 'float': 'center' }}><label className=\"underline\">Browse Datasets</label></h3>\n                    </Col>\n                </Row>\n                <Row>\n                        <div>\n                            Hi, will load: {this.props.match.params.dsName}\n                            <ReactTabulator\n                                columns={columns}\n                                data={[]}\n                                options={{\n                                    ajaxURL: `${config.apiUrl}/ds/view/${this.props.match.params.dsName}`,\n                                    ajaxConfig: {\n                                        headers: {\n                                            ...authHeader(),\n                                            \"Content-Type\": \"application/json\",\n                                        },\n                                        credentials: 'include'\n                                    },\n                                    //ajaxProgressiveLoad:\"load\",\n                                    //ajaxProgressiveLoadDelay: 200,\n                                    pagination:\"remote\",\n                                    paginationDataSent: {\n                                        page: 'page',\n                                        size: 'per_page' // change 'size' param to 'per_page'\n                                    },\n                                    paginationDataReceived: {\n                                        last_page: 'total_pages'\n                                    },\n                                    current_page: 1,\n                                    paginationSize: 30,\n                                    ajaxResponse: function (url, params, response) {\n                                        console.log('ajaxResponse', url);\n                                        return response; //return the response data to tabulator\n                                    },\n                                    ajaxError: function (error) {\n                                        console.log('ajaxError', error);\n                                    }\n                    \n                                }}\n                            />\n                        </div>\n                </Row>            \n            </div>\n        );\n    }\n\n}\n\nfunction mapStateToProps(state) {\n    const { user } = state.authentication;\n    const { home } = state;\n    const { dsHome } = state;\n    return {\n        user,\n        home,\n        dsHome\n    }\n}\n\nconst cDsHome = connect(mapStateToProps)(DsHome);\n\n\nexport default cDsHome","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Row, Col, Form, Button } from 'react-bootstrap'\nimport { dsActions } from '../../actions/ds.actions';\nimport Select from 'react-select';\nimport { dsConstants } from '../../constants';\n\nclass AccessCtrl extends React.Component {\n    constructor (props) {\n        super (props)\n        this.state = {\n            accessCtrl: false,\n            acl: null,\n\n            debounceTimers: {}\n        };\n    }\n\n    render () {\n        const { dispatch, dsName, dsView, user, dsHome } = this.props;\n        let me = this;\n\n        try {\n            if (this.state.acl === null && dsHome.dsViews[dsView].aclConfig) {\n                let acl = \"\";\n                if (typeof dsHome.dsViews[dsView].aclConfig.acl === \"string\") {\n                    acl = dsHome.dsViews[dsView].aclConfig.acl;\n                } else if (Array.isArray(dsHome.dsViews[dsView].aclConfig.acl)) {\n                    for (let i = 0; i < dsHome.dsViews[dsView].aclConfig.acl.length; i++) {\n                        acl += dsHome.dsViews[dsView].aclConfig.acl[i];\n                        if (i < dsHome.dsViews[dsView].aclConfig.acl.length - 1) \n                            acl += \", \";\n                    }\n                }\n                this.setState({ accessCtrl: dsHome.dsViews[dsView].aclConfig.accessCtrl, \n                                acl: acl\n                             });\n            }\n        } catch (e) {};\n\n        // https://reactjs.org/blog/2017/11/28/react-v16.2.0-fragment-support.html\n        return (\n            <>\n            <Row>\n                    <Col md={2} sm={2} xs={2}> \n                    <Form.Check inline type=\"checkbox\" label=\"&nbsp;Add access-control\" checked={this.state.accessCtrl} onChange={(event) => {\n                                    let checked = event.target.checked;\n                                    me.setState({accessCtrl: checked});\n                                    let aclArray = [];\n                                    let tmpArr = this.state.acl.split(',');\n                                    for (let i = 0; i < tmpArr.length; i++) {\n                                        let item = tmpArr[i].trim();\n                                        if (item) aclArray.push(item);\n                                    }\n                                    if (!checked) {\n                                        aclArray = []; aclArray.push(user.user);\n                                    } else {\n                                        if (!aclArray.includes(user.user)) aclArray.push(user.user);\n                                    }\n                                    me.props.onChange({accessCtrl: checked, acl: aclArray})\n                                }}/>\n                    </Col>\n                    { this.state.accessCtrl && \n                        <Col md={6} sm={6} xs={6}> \n                        <Form.Control type=\"text\" defaultValue={this.state.acl} onChange={(event) => {\n                                let value = event.target.value;\n                                if (me.state.debounceTimers[\"__accessCtrl\"]) {\n                                    clearTimeout(me.state.debounceTimers[\"__accessCtrl\"]);\n                                }\n                                me.state.debounceTimers[\"__accessCtrl\"] = setTimeout(() => {\n                                    delete me.state.debounceTimers[\"__accessCtrl\"];\n                                    if (!value) return;\n                                    me.setState({acl: value});\n                                    let aclArray = [];\n                                    let tmpArr = value.split(',');\n                                    for (let i = 0; i < tmpArr.length; i++) {\n                                        let item = tmpArr[i].trim();\n                                        if (item) aclArray.push(item);\n                                    }\n                                    me.props.onChange({accessCtrl: this.state.accessCtrl, acl: aclArray});\n                                }, 1000)\n                            }} />\n                        </Col> \n                    }\n\n            </Row>\n            </>\n        );\n    }\n}\n\nAccessCtrl.propTypes = {\n    onChange: PropTypes.func.isRequired, \n    /*\n    onClose: PropTypes.func.isRequired,\n    onFilterChange: PropTypes.func.isRequired,\n    tableRef: PropTypes.object.isRequired,\n    show: PropTypes.bool,\n    dsName: PropTypes.string.isRequired,\n    dsView: PropTypes.string.isRequired,\n    children: PropTypes.node,\n    defaultValue: PropTypes.string */\n};\n\nfunction mapStateToProps(state) {\n    const { user } = state.authentication;\n    const { home } = state;\n    const { dsHome } = state;\n    return {\n        user,\n        home,\n        dsHome\n    }\n}\n\nconst cAccessCtrl = connect(mapStateToProps)(AccessCtrl);\n\nexport default cAccessCtrl;","import React, { Component } from 'react'\nimport { Row, Col, Form, Button, Checkbox } from 'react-bootstrap'\nimport { connect } from 'react-redux';\nimport { dsActions } from '../../actions/ds.actions';\nimport { dsConstants } from '../../constants';\nimport MyTabulator from './MyTabulator';\nimport './simpleStyles.css';\nimport { dsHome } from '../../reducers/dsHome.reducer';\nimport Select from 'react-select';\nimport AccessCtrl from './DsViewEditAccessCtrl';\nimport { authHeader } from '../../helpers';\n\n\nlet MarkdownIt = new require('markdown-it')({\n    linkify: true,\n    html: true\n}).use(require('markdown-it-bracketed-spans')).use(require('markdown-it-attrs')).use(require('markdown-it-container'), 'code');\n\nconst config = {};\nif (process.env.NODE_ENV === 'development') {\n    config.apiUrl = \"http://in-mvlb52:8887\"\n    config.apiUrl = \"http://localhost:8887\"\n} else {\n    config.apiUrl = \"\"\n}\n\nclass DsViewEdit extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            file: null,\n            range: \"\",\n            dsName: \"\",\n            firstTime: true,\n            filterButtonText: 'Enable Filters',\n            editingButtonText: 'Disable Editing',\n            refreshAfterRender: false,\n            jiraProjectNameEnabled: null,\n            jiraProjectName: \"\",\n            jira: null,\n            jiraAgile: null,\n            jql: \"\",\n            jiraFieldMapping: '# Jira keys: \"key\", \"summary\", \"type\", \"assignee\", \"severity\", \"priority\", \"reporter\", \"foundInRls\", \"created\", \"rrtTargetRls\", \"targetRls\", \"status\", \"feature\", \"rzFeature\", \"versions\", \"parentKey\", \"parentSummary\", \"parent\", \"subtasks\", \"subtasksDetails\", \"dependsLinks\", \"implementLinks\", \"packageLinks\", \"relatesLinks\", \"testLinks\", \"coversLinks\", \"defectLinks\", \"automatesLinks\", \"updated\", \"votes\", \"systemFeature\", \"labels\", \"phaseBugFound\", \"phaseBugIntroduced\", \"epic\", \"description\", \"Story Points\", \"Sprint Name\", \"jiraSummary\", \"fixVersions\", \"Agile Commit\", \"duedate\", \"targetRlsGx\"\\n\\n',\n            jiraAgileLabel: \"\",\n            jiraAgileBoardId: 0,\n            jiraAgileFieldMapping: '# Jira keys: \"key\", \"summary\", \"type\", \"assignee\", \"severity\", \"priority\", \"reporter\", \"foundInRls\", \"created\", \"rrtTargetRls\", \"targetRls\", \"status\", \"feature\", \"rzFeature\", \"versions\", \"parentKey\", \"parentSummary\", \"parent\", \"subtasks\", \"subtasksDetails\", \"dependsLinks\", \"implementLinks\", \"packageLinks\", \"relatesLinks\", \"testLinks\", \"coversLinks\", \"defectLinks\", \"automatesLinks\", \"updated\", \"votes\", \"systemFeature\", \"labels\", \"phaseBugFound\", \"phaseBugIntroduced\", \"epic\", \"description\", \"Story Points\", \"Sprint Name\", \"jiraSummary\", \"fixVersions\", \"Agile Commit\", \"duedate\", \"targetRlsGx\", \"Acceptance Criteria\"\\n\\n',\n            dsDescription: null,\n            widths: {},\n            fixedHeight: null,\n            setViewStatus: '',\n            aclConfig: null,\n\n            somethingChanged: 0,\n            debounceTimers: {}\n        };\n        //this.widths = {};\n        this.editors = {};\n        this.ref = null;\n        this.recordRef = this.recordRef.bind(this);\n        this.pushColumnDefs = this.pushColumnDefs.bind(this);\n        this.addCol = this.addCol.bind(this);\n        this.showAllCols = this.showAllCols.bind(this);\n        this.toggleSingleFilter = this.toggleSingleFilter.bind(this);\n        this.setEditor = this.setEditor.bind(this);\n        this.setEditorToFalse = this.setEditorToFalse.bind(this);\n        this.setEditorToInput = this.setEditorToInput.bind(this);\n        this.setEditorToTextArea = this.setEditorToTextArea.bind(this);\n        this.setEditorToCodeMirror = this.setEditorToCodeMirror.bind(this);\n        this.setEditorToDate = this.setEditorToDate.bind(this);\n        this.setFormatter = this.setFormatter.bind(this);\n        this.setFormatterToPlainText = this.setFormatterToPlainText.bind(this);\n        this.setFormatterToTextArea = this.setFormatterToTextArea.bind(this)\n        this.hideColumn = this.hideColumn.bind(this);\n        this.setHdrFilterType = this.setHdrFilterType.bind(this);\n        this.setHdrFilterTypeToNumber = this.setHdrFilterTypeToNumber.bind(this);\n        this.setHdrFilterTypeToText = this.setHdrFilterTypeToText.bind(this);\n        this.plusFiftyToWidth = this.plusFiftyToWidth.bind(this);\n        this.editorParamsControl = this.editorParamsControl.bind(this);\n        this.renderComplete = this.renderComplete.bind(this);\n        this.setViewStatus = this.setViewStatus.bind(this);\n    }\n    componentDidMount () {\n        const { dispatch, match, user, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n        if ( !Object.keys(dsHome).length || !dsHome.dsViews || !dsHome.dsViews[dsView] ) {\n            dispatch(dsActions.loadColumnsForUserView(dsName, dsView, user.user)); \n        }\n    }\n    componentWillUnmount () {\n        const { dispatch } = this.props;\n        dispatch( { type: dsConstants.CLEAR_COLUMNS } );\n        if (this.timer) {\n            clearTimeout(this.timer)\n        }\n    }\n\n    recordRef (ref) {\n        // setting state is causing grief to the Tabulator component. \n        //this.setState({ ref });\n        this.ref = ref;\n        return true;\n    }\n\n    showAllCols () {\n        let cols = this.ref.table.getColumns();\n        for (let i = 0; i < cols.length; i++) {\n            if (!cols[i].isVisible())\n                cols[i].show();\n        }\n    }\n    renderComplete () {\n        let widths = {};\n        let cols = this.ref.table.getColumns();\n        for (let i = 0; i < cols.length; i++) {\n            widths[cols[i].getField()] = cols[i].getWidth();\n            //this.widths[cols[i].getField()] = cols[i].getWidth();\n        }\n        //console.log(\"Widths are: \", widths);\n        this.setState({ widths });\n    }\n\n    async addCol (e, data) {\n        const { dispatch, match, dsHome } = this.props;\n        //let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n        console.log(\"Add col called..: \", data);\n        if (!data) data = {};\n        try {\n            if (Object.keys(dsHome.dsColAdds[dsView]).length) {\n                console.log(\"A col add is in progress..\");\n                return;\n            }\n        } catch (e) {}\n        let col = await this.ref.table.addColumn({title: \"\", field: \"\", editableTitle: true});\n        console.log(\"Col is: \", col);\n    }\n\n    pushColumnDefs () {\n        const { dispatch, match, user } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n\n        this.setState({ setViewStatus: '' });\n        let currentDefs = JSON.parse(JSON.stringify(this.ref.table.getColumnDefinitions()));\n        console.log(\"currentDefs from tabulator: \", currentDefs);\n        let cols = this.ref.table.getColumns();\n        for (let i = 0; i < cols.length; i++) {\n            for (let j = 0; j < currentDefs.length; j++) {\n                if (currentDefs[j].field === cols[i].getField()) {\n                    currentDefs[j].width = cols[i].getWidth();\n                    console.log(\"Set width: \", currentDefs[j].width);\n                    break;\n                }\n            }\n        }\n        // Read header filters. \n        let hdrFilters = this.ref.table.getHeaderFilters();\n        for (let i = 0; i < hdrFilters.length; i++) {\n            for (let j = 0; j < currentDefs.length; j++) {\n                if (currentDefs[j].field === hdrFilters[i].field) {\n                    currentDefs[j].hdrFilter = hdrFilters[i];\n                    break;\n                }\n            }\n        }\n        let filteredDefs = [];\n        for (let i = 0; i < currentDefs.length; i++) {\n            delete currentDefs[i].headerMenu;\n            for (let j = 0; j < cols.length; j++) {\n                if (currentDefs[i].field === cols[j].getField()) {\n                    if (!cols[j].isVisible()) {\n                        currentDefs[i].visible = false;\n                    } else {\n                        delete currentDefs[i].visible;\n                    }\n                }\n            }\n            currentDefs[i].editor = this.editors[currentDefs[i].field];\n            // Just remove editorParms.values, showListOnEmpty, allowEmpty, multiselect \n            // if it is not autocomplete. \n            if (currentDefs[i].editor !== \"autocomplete\") {\n                try {\n                    delete currentDefs[i].editorParams.values;\n                    delete currentDefs[i].editorParams.showListOnEmpty;\n                    delete currentDefs[i].editorParams.allowEmpty;\n                    delete currentDefs[i].editorParams.multiselect;\n                } catch (e) {}\n            }\n            filteredDefs.push(currentDefs[i]);\n        }\n        let jiraColumns = {\n            \"Work-id\": false,\n            \"Description\": false\n        }; let jiraColumnsPresent = true;\n        let jiraFields = { 'key': 1, 'summary': 1, 'type': 1, 'assignee': 1, 'severity': 1, 'priority': 1, 'foundInRls': 1, 'reporter': 1, 'created': 1, 'rrtTargetRls': 1, 'targetRls': 1, 'status': 1, 'feature': 1, 'rzFeature': 1, 'versions': 1, 'parentKey': 1, 'parentSummary': 1, 'parent': 1, 'subtasks': 1, 'subtasksDetails': 1, 'dependsLinks': 1, 'implementLinks': 1, 'packageLinks': 1, 'relatesLinks': 1, 'testLinks': 1, 'coversLinks': 1, \"defectLinks\": 1, \"automatesLinks\": 1, 'updated': 1, 'votes': 1, 'systemFeature': 1, 'labels': 1, 'phaseBugFound': 1, 'phaseBugIntroduced': 1, 'epic': 1, 'description': 1, 'Story Points': 1, 'Sprint Name': 1, 'jiraSummary': 1, 'fixVersions': 1, 'Agile Commit': 1, \"duedate\": 1, \"targetRlsGx\": 1, \"Acceptance Criteria\": 1 };\n        let dsFields = {};\n        for (let i = 0; i < currentDefs.length; i++) {\n            for (let key in jiraColumns) {\n                if (currentDefs[i].field === key) {\n                    jiraColumns[key] = true;\n                }\n            }\n            dsFields[currentDefs[i].field] = 1;\n        }\n        for (let key in jiraColumns) {\n            if (!jiraColumns[key]) {\n                console.log(\"Unknown jira column: \", key);\n                jiraColumnsPresent = false; \n                break;\n            }\n        }\n\n        function validateMapping (jiraFieldMapping) {\n            let ret = { status: true, error: '' };\n            for (let key in jiraFieldMapping) {\n                //if (key === \"key\") continue;\n                if (!jiraFields[key]) {\n                    ret.error = `Unknown Jira key: ${key}`;\n                    ret.status = false;\n                    break;\n                }\n                if (!dsFields[jiraFieldMapping[key]]) {\n                    ret.error = `Unknown column in data-set: ${jiraFieldMapping[key]}`;\n                    ret.status = false;\n                }\n            }\n            return ret;\n        }\n        let jiraFieldMapping = {};\n        if (this.state.jiraFieldMapping) {\n            let lines = this.state.jiraFieldMapping.split('\\n');\n            for (let i = 0; i < lines.length; i++) {\n                let line = lines[i];\n                if (/^\\s*#/.test(line)) continue;\n                let m = line.match(/^\\s*\"(.*?)\"\\s*->\\s*\"(.*?)\"\\s*$/);\n                if (m && (m.length >= 2)) {\n                    let jiraKey = m[1], dsField = m[2];\n                    jiraFieldMapping[jiraKey] = dsField;\n                    continue;\n                }\n                m = line.match(/^\\s*'(.*?)'\\s*->\\s*'(.*?)'\\s*$/);\n                if (m && (m.length >= 2)) {\n                    let jiraKey = m[1], dsField = m[2];\n                    jiraFieldMapping[jiraKey] = dsField;\n                    continue;\n                }\n\n            }\n            let ret = validateMapping(jiraFieldMapping);\n            console.log(\"validate ret: \", ret);\n            jiraColumnsPresent = ret.status;\n            if (!ret.status) { \n                this.setState({ setViewStatus: \"Jira validation failed!\" });\n                console.log(\"Validation failed\")\n                return;\n            }\n        }\n        let jiraConfig = null;\n        if (jiraColumnsPresent && this.state.jira && this.state.jql) {\n            jiraConfig = {\n                jira: true,\n                jql: this.state.jql,\n                jiraFieldMapping\n            }\n        }\n\n        // Jira Agile config \n\n        let jiraAgileFieldMapping = {};\n        if (this.state.jiraAgileFieldMapping) {\n            let lines = this.state.jiraAgileFieldMapping.split('\\n');\n            for (let i = 0; i < lines.length; i++) {\n                let line = lines[i];\n                if (/^\\s*#/.test(line)) continue;\n                let m = line.match(/^\\s*\"(.*?)\"\\s*->\\s*\"(.*?)\"\\s*$/);\n                if (m && (m.length >= 2)) {\n                    let jiraAgileKey = m[1], dsField = m[2];\n                    jiraAgileFieldMapping[jiraAgileKey] = dsField;\n                    continue;\n                }\n                m = line.match(/^\\s*'(.*?)'\\s*->\\s*'(.*?)'\\s*$/);\n                if (m && (m.length >= 2)) {\n                    let jiraAgileKey = m[1], dsField = m[2];\n                    jiraAgileFieldMapping[jiraAgileKey] = dsField;\n                    continue;\n                }\n\n            }\n            let ret = validateMapping(jiraAgileFieldMapping);\n            console.log(\"validate ret: \", ret);\n            jiraColumnsPresent = ret.status;\n            if (!ret.status) {\n                this.setState({ setViewStatus: \"Jira validation failed!\" });\n                console.log(\"Validation failed\")\n                return;\n            }\n        }\n        let jiraAgileConfig = null;\n        if (jiraColumnsPresent && this.state.jiraAgile && this.state.jiraAgileLabel && this.state.jiraAgileBoardId) {\n            jiraAgileConfig = {\n                jira: true,\n                label: this.state.jiraAgileLabel,\n                boardId: parseInt(this.state.jiraAgileBoardId),\n                jiraFieldMapping: jiraAgileFieldMapping\n            }\n        }\n\n        let dsDescription = {\n            dsDescription: this.state.dsDescription\n        }\n        let otherTableAttrs = {\n            fixedHeight: this.state.fixedHeight\n        }\n        // XXX: Push all columns including invisible ones.\n        currentDefs = filteredDefs;\n        console.log(\"Will push these definitions: \", currentDefs);\n        let jiraProjectName = null;\n        if (this.state.jiraProjectNameEnabled && this.state.jiraProjectName) {\n            jiraProjectName = this.state.jiraProjectName;\n        }\n        dispatch(dsActions.setViewDefinitions(dsName, dsView, user.user, currentDefs, jiraConfig, dsDescription, otherTableAttrs, this.state.aclConfig, jiraAgileConfig, jiraProjectName));\n        this.timer = setTimeout(() => {\n            dispatch(dsActions.clearViewDefs())\n        }, 2000)\n    }\n\n    setViewStatus () {\n        const { match, dsHome } = this.props;\n        let status = '';\n        try {\n            if (dsHome.dsSetView.status === \"fail\") {\n                status = dsHome.dsSetView.message;\n            }\n        } catch (e) {};\n        if (this.state.setViewStatus) status = this.state.setViewStatus;\n        if (status)\n            return <b style={{color: \"red\"}}> {status} </b>;\n        try {\n            if (dsHome.dsSetView.status === \"success\" && dsHome.dsSetView.serverStatus.status === \"success\") {\n                status = `success at ${new Date()}`;\n            }\n        } catch (e) {};\n        return <b style={{color: \"green\"}}> {status} </b>;\n    }\n\n    isKey (field) {\n        const { match, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n\n        //console.log(\"Field is: \", field);\n        if (dsHome.dsViews[dsView].keys && dsHome.dsViews[dsView].keys.length) {\n            for (let i = 0; i < dsHome.dsViews[dsView].keys.length; i++) {\n                let key = dsHome.dsViews[dsView].keys[i];\n                //console.log(\"key is: \", key);\n                if (field === key)\n                    return true;\n            }\n        }\n        return false;\n    }\n\n    hideColumn (e, column) {\n        const { match, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n\n        if (!this.isKey(column.getField()))\n            column.hide();\n    }\n\n    setEditor (e, column, editor) {\n        const { match, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n\n        let currentDefs = this.ref.table.getColumnDefinitions();\n        for (let j = 0; j < currentDefs.length; j++) {\n            if (currentDefs[j].field === column.getField()) {\n                let width = column.getWidth(); // For some weird reason, width gets lost. Hence. \n                this.editors[column.getField()] = editor;\n                if (editor === \"codemirror\" || editor === \"date\") editor = \"textarea\";\n                this.ref.table.updateColumnDefinition(currentDefs[j].field, {editor, width});\n                break;\n            }\n            //this.ref.table.updateColumnDefinition(currentDefs[j].field, {editor: newVal});\n        }\n        //this.ref.table.setColumns(currentDefs);\n        //currentDefs = this.ref.table.getColumnDefinitions();\n    }\n\n    setEditorToInput (e, column) {\n        this.setEditor(e, column, 'input');\n    }\n\n    setEditorToTextArea (e, column) {\n        this.setEditor(e, column, 'textarea');\n    }\n\n    setEditorToCodeMirror (e, column) {\n        this.setEditor(e, column, 'codemirror');\n    }\n\n    setEditorToAutocomplete (e, column) {\n        this.setEditor(e, column, 'autocomplete');\n    }\n\n    setEditorToDate (e, column) {\n        this.setEditor(e, column, 'date');\n    }\n\n    setEditorToFalse (e, column) {\n        this.setEditor(e, column, false);\n    }\n\n    plusFiftyToWidth (e, column) {\n        console.log(\"Column: \", column.getWidth());\n        let curWidth = column.getWidth();\n        column.setWidth(curWidth + 50);\n    }\n\n    markdownFormatter (cell, formatterParams) {\n        let value = cell.getValue();\n        if (typeof value != \"string\") return value;\n        console.log(\"Value is: \", value);\n        value = MarkdownIt.render(value);\n        return `<div style=\"white-space:normal;word-wrap:break-word;\">${value}</div>`;\n    }\n\n    setFormatter (e, column, formatter) {\n        let currentDefs = this.ref.table.getColumnDefinitions();\n        for (let j = 0; j < currentDefs.length; j++) {\n            if (currentDefs[j].field === column.getField()) {\n                this.ref.table.updateColumnDefinition(currentDefs[j].field, {formatter});\n                break;\n            }\n        }\n    }\n\n    setFormatterToPlainText (e, column) {\n        this.setFormatter(e, column, 'plaintext');\n    }\n\n    setFormatterToTextArea (e, column) {\n        this.setFormatter(e, column, 'textarea');\n    }\n\n    setHdrFilterType (e, column, headerFilterType) {\n        let currentDefs = this.ref.table.getColumnDefinitions();\n        for (let j = 0; j < currentDefs.length; j++) {\n            if (currentDefs[j].field === column.getField()) {\n                this.ref.table.updateColumnDefinition(currentDefs[j].field, {headerFilterType});\n                break;\n            }\n        }\n    }\n    setHdrFilterTypeToNumber (e, column) {\n        this.setHdrFilterType(e, column, 'number');\n    }\n    setHdrFilterTypeToText (e, column) {\n        this.setHdrFilterType(e, column, 'input');\n    }\n    setHozAlign(e, column, hozAlign) {\n        let currentDefs = this.ref.table.getColumnDefinitions();\n        for (let j = 0; j < currentDefs.length; j++) {\n            if (currentDefs[j].field === column.getField()) {\n                this.ref.table.updateColumnDefinition(currentDefs[j].field, {hozAlign});\n                break;\n            }\n        }\n    }\n    setVertAlign(e, column, vertAlign) {\n        let currentDefs = this.ref.table.getColumnDefinitions();\n        for (let j = 0; j < currentDefs.length; j++) {\n            if (currentDefs[j].field === column.getField()) {\n                this.ref.table.updateColumnDefinition(currentDefs[j].field, {vertAlign});\n                break;\n            }\n        }\n    }\n\n    toggleSingleFilter (e, column) {\n        const { match, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n\n        let currentDefs = this.ref.table.getColumnDefinitions();\n        //console.log(\"Current definitions: \", currentDefs);\n        //console.log(\"Column: \", column);\n        console.log(\"Column: \", column.getWidth());\n        let cols = this.ref.table.getColumns();\n        let newVal;\n        for (let j = 0; j < currentDefs.length; j++) {\n            if (currentDefs[j].field === column.getField()) {\n                newVal = currentDefs[j].headerFilter === 'input' ? false : 'input';\n                currentDefs[j].headerFilter = newVal;\n                this.ref.table.updateColumnDefinition(currentDefs[j].field, {headerFilter: newVal});\n                break;\n            }\n            // Uncomment both the below if you wish perfect columns.\n            //currentDefs[j].width = cols[j].getWidth();\n        }\n        //this.ref.table.setColumns(currentDefs);\n    }\n\n    dsDescription () {\n        const { match, dsHome } = this.props;\n        let dsView = match.params.dsView;\n        let initialDesc = \"\", me = this;\n        try {\n            // First time, set it from the store. Subsequent edits will remain in this.state.\n            if (this.state.dsDescription === null) {\n                if (dsHome.dsViews[dsView].dsDescription.dsDescription)\n                    this.setState({dsDescription: dsHome.dsViews[dsView].dsDescription.dsDescription});\n            }\n        } catch (e) { }\n\n        let retJsx = \n        <Row>\n            <Col md={2} sm={2} xs={2}> \n                <b>Dataset Description: </b>\n            </Col>\n            <Col md={10} sm={10} xs={10}> \n                <Form.Control as=\"textarea\" rows=\"3\" defaultValue={this.state.dsDescription} onChange={(event) => {\n                    let value = event.target.value;\n                    let key = \"__dg__dsDescription\"\n                    if (me.state.debounceTimers[key]) {\n                        clearTimeout(me.state.debounceTimers[key]);\n                    }\n                    me.state.debounceTimers[key] = setTimeout(() => {\n                        delete me.state.debounceTimers[key];\n                        //if (!value) return;\n                        me.setState({dsDescription: value})\n                    }, 1000)\n                }} />\n            </Col>\n        </Row>\n        return retJsx;\n    }\n\n    editorParamsControl (col) {\n        const { match, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n        let epc = \"\";\n\n        try {\n            let me = this;\n            let columnDef = this.ref.table.getColumn(col.field).getDefinition();\n            //console.log(\"editorParamsControl got called: \", columnDef);\n            if (columnDef.editor === \"autocomplete\") {\n                let valueStr = \"\", checked = true, condValues = false, condExprStr = \"\";\n                try {\n                    valueStr = columnDef.editorParams.values.join(', ');\n                } catch (e) {}\n                try {\n                    checked = columnDef.editorParams.multiselect;\n                } catch (e) {}\n                try {\n                    condValues = columnDef.editorParams.conditionalValues;\n                } catch (e) {}\n                try {\n                    condExprStr = columnDef.editorParams.conditionalExprs.join('\\n');\n                } catch (e) {}\n                epc = <div>\n                        Values:\n                        <Form.Control type=\"text\" defaultValue={valueStr} onChange={(event) => {\n                                let value = event.target.value;\n                                if (me.state.debounceTimers[col.field]) {\n                                    clearTimeout(me.state.debounceTimers[col.field]);\n                                }\n                                me.state.debounceTimers[col.field] = setTimeout(() => {\n                                    delete me.state.debounceTimers[col.field];\n                                    // trigger render again no matter what changed. \n                                    //me.setState({somethingChanged: me.state.somethingChanged++});        \n                                    if (!value) return;\n                                    let valArray = value.split(',').map(v => v.trim());\n                                    let editorParams = { \n                                        ...columnDef.editorParams,\n                                        values: valArray,\n                                        showListOnEmpty: true,\n                                        allowEmpty: true\n                                    }\n                                    console.log(\"EditorParams: \", editorParams);\n                                    me.ref.table.updateColumnDefinition(col.field, {editorParams});\n        \n                                }, 1000)\n                        }} />\n                        <Form.Check type=\"checkbox\" label=\"&nbsp; autocomplete multi\" checked={checked} onChange={(event) => {\n                            let checked = event.target.checked;\n                            let curEditorParams = columnDef.editorParams || {}\n                            let editorParams = { \n                                ...curEditorParams,\n                                multiselect: checked\n                            }\n                            // trigger render again no matter what changed. \n                            me.setState({somethingChanged: me.state.somethingChanged++});\n                            me.ref.table.updateColumnDefinition(col.field, {editorParams});\n                        }}/>\n                        <Form.Check type=\"checkbox\" label=\"&nbsp; autocomplete cond-values\" checked={condValues} onChange={(event) => {\n                            let checked = event.target.checked;\n                            let curEditorParams = columnDef.editorParams || {}\n                            let editorParams = { \n                                ...curEditorParams,\n                                conditionalValues: checked\n                            }\n                            // trigger render again no matter what changed. \n                            me.setState({somethingChanged: me.state.somethingChanged++});\n                            me.ref.table.updateColumnDefinition(col.field, {editorParams});\n                        }}/>\n                        { condValues && \n                            <Form.Control as=\"textarea\" rows=\"3\" defaultValue={condExprStr} onChange={(event) => {\n                                let value = event.target.value;\n                                if (me.state.debounceTimers[col.field]) {\n                                    clearTimeout(me.state.debounceTimers[col.field]);\n                                }\n                                me.state.debounceTimers[col.field] = setTimeout(() => {\n                                    delete me.state.debounceTimers[col.field];\n                                    // trigger render again no matter what changed. \n                                    //me.setState({somethingChanged: me.state.somethingChanged++});        \n                                    if (!value) return;\n                                    let condExprs = value.split('\\n').map(v => v.trim());\n                                    condExprs = condExprs.filter(v=> v !== \"\");\n                                    let editorParams = { \n                                        ...columnDef.editorParams,\n                                        conditionalExprs: condExprs,\n                                        showListOnEmpty: true,\n                                        allowEmpty: true\n                                    }\n                                    me.ref.table.updateColumnDefinition(col.field, {editorParams});\n                                }, 1000)\n                            }} />\n                        }\n                      </div>\n            }\n        } catch (e) {}\n        return epc;\n    }\n\n\n    step1 () {\n        const { match, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n        let s1 = [];\n        let editorOptions = [];\n        ['line', 'paragraph', 'codemirror', 'autocomplete', 'date'].map((v) => {\n            let row = {};\n            row.value = v;\n            row.label = v;\n            editorOptions.push(row);\n        })\n        let filterOptions = [];\n        ['number', 'text'].map((v) => {\n            let row = {};\n            row.value = v;\n            row.label = v;\n            filterOptions.push(row);\n        })\n        let hozAlignOptions = [];\n        ['left', 'center', 'right'].map((v)=> {\n            let row = {};\n            row.value = v;\n            row.label = v;\n            hozAlignOptions.push(row);\n        })\n        let vertAlignOptions = [];\n        ['top', 'middle', 'bottom'].map((v)=> {\n            let row = {};\n            row.value = v;\n            row.label = v;\n            vertAlignOptions.push(row);\n        })\n\n        // try-catch for invalid access to columnAttrs if it is not loaded yet. \n        try {\n            let me = this;\n            let label = \n                <Row>\n                    <Col md={2} sm={2} xs={2}> \n                        <b>Column Attributes: </b>\n                    </Col>\n                </Row>\n            s1.push(label); s1.push(<br/>);\n            for (let i = 0; i < dsHome.dsViews[dsView].columnAttrs.length; i++) {\n                let col = dsHome.dsViews[dsView].columnAttrs[i];\n                let editorCurVal = {};\n                if (col.editor === \"textarea\") {\n                    editorCurVal = editorOptions[1];\n                } else if (col.editor === \"input\") {\n                    editorCurVal = editorOptions[0];\n                } else if (col.editor === \"autocomplete\") {\n                    editorCurVal = editorOptions[3];\n                } else if (col.editor === \"codemirror\") {\n                    editorCurVal = editorOptions[2];\n                } else if (col.editor === \"date\") {\n                    editorCurVal = editorOptions[4];\n                }\n                let hdrFilterTypeCurVal = {};\n                if (col.headerFilterType === \"input\") {\n                    hdrFilterTypeCurVal = filterOptions[1];\n                } else if (col.headerFilterType === \"number\") {\n                    hdrFilterTypeCurVal = filterOptions[0];\n                } else {\n                    ;\n                }\n                let hozAlignCurVal = {};\n                if (col.hozAlign === 'left') {\n                    hozAlignCurVal = hozAlignOptions[0]\n                } else if (col.hozAlign === 'center') {\n                    hozAlignCurVal = hozAlignOptions[1]\n                } else if (col.hozAlign === 'right') {\n                    hozAlignCurVal = hozAlignOptions[2]\n                }\n                let vertAlignCurVal = {};\n                if (col.vertAlign === 'top') {\n                    vertAlignCurVal = vertAlignOptions[0]\n                } else if (col.vertAlign === 'middle') {\n                    vertAlignCurVal = vertAlignOptions[1]\n                } else if (col.vertAlign === 'bottom') {\n                    vertAlignCurVal = vertAlignOptions[2]\n                }\n                let conditionalFormatting = false, condFormatExprStr = \"\";\n                // XXX: This function should be using columnDef everywhere and not just col!\n                let columnDef = this.ref.table.getColumn(col.field).getDefinition();\n                try {\n                    conditionalFormatting = columnDef.formatterParams.conditionalFormatting;\n                } catch (e) {}\n                try {\n                    condFormatExprStr = columnDef.formatterParams.conditionalExprs.join('\\n');\n                } catch (e) {}\n\n                s1.push(<Row style={{'border': '1px solid black', 'border-radius': '5px', 'padding': '10px'}}>\n                    <Col md={2} sm={2} xs={2}> \n                    <b>{col.field}</b>\n                    </Col>\n                    <Col md={2} sm={2} xs={2}>\n                        Hoz-Align:\n                        <Select className=\"basic-single\" classNamePrefix=\"select\" isClearable={true} name=\"hozAlignOptions\" options={hozAlignOptions} defaultValue={hozAlignCurVal} onChange={(value) => { \n                                console.log(\"Setting for: \", col.field, value);\n                                let column = me.ref.table.getColumn(col.field);\n                                me.setHozAlign(\"\", column, value.value)\n                            }}\n                        />\n                        Vert-Align:\n                        <Select className=\"basic-single\" classNamePrefix=\"select\" isClearable={true} name=\"vertAlignOptions\" options={vertAlignOptions} defaultValue={vertAlignCurVal} onChange={(value) => { \n                                console.log(\"Setting for: \", col.field, value);\n                                let column = me.ref.table.getColumn(col.field);\n                                me.setVertAlign(\"\", column, value.value)\n                            }}\n                        />\n                    </Col>\n                    <Col md={4} sm={4} xs={4}>\n                        Editor: \n                        <Select className=\"basic-single\" classNamePrefix=\"select\" isClearable={true} name=\"editorOptions\" options={editorOptions} defaultValue={editorCurVal} onChange={(value) => { \n                                console.log(\"Setting for: \", col.field);\n                                let column = me.ref.table.getColumn(col.field);\n                                if (value.value === \"paragraph\")\n                                    me.setEditorToTextArea(\"\", column);\n                                else if (value.value === \"codemirror\")\n                                    me.setEditorToCodeMirror(\"\", column);\n                                else if (value.value === \"line\")\n                                    me.setEditorToInput(\"\", column);\n                                else if (value.value === \"autocomplete\")\n                                    me.setEditorToAutocomplete(\"\", column);\n                                else if (value.value === \"date\")\n                                    me.setEditorToDate(\"\", column);\n\n                                // trigger render again\n                                me.setState({somethingChanged: me.state.somethingChanged++});\n                            }}\n                        />\n                        {this.editorParamsControl(col)}\n                        Hdr-filter-type: \n                        <Select className=\"basic-single\" classNamePrefix=\"select\" isClearable={true} name=\"filterOptions\" options={filterOptions} defaultValue={hdrFilterTypeCurVal} onChange={(value) => { \n                                console.log(\"Setting for: \", col.field, value);\n\n                                let column = me.ref.table.getColumn(col.field);\n                                if (value.value === \"number\")\n                                    me.setHdrFilterTypeToNumber(\"\", column);\n                                else if (value.value === \"text\") \n                                    me.setHdrFilterTypeToText(\"\", column);\n                            }}\n                        />\n                        <Form.Check type=\"checkbox\" label=\"&nbsp; conditional formatting\" checked={conditionalFormatting} onChange={(event) => {\n                            let checked = event.target.checked;\n                            let curFormatterParams = columnDef.formatterParams || {}\n                            let formatterParams = { \n                                ...curFormatterParams,\n                                conditionalFormatting: checked\n                            }\n                            // trigger render again no matter what changed. \n                            me.setState({somethingChanged: me.state.somethingChanged++});\n                            me.ref.table.updateColumnDefinition(col.field, { formatterParams });\n                        }}/>\n                        { conditionalFormatting && \n                            <Form.Control as=\"textarea\" rows=\"3\" defaultValue={condFormatExprStr} onChange={(event) => {\n                                let value = event.target.value;\n                                if (me.state.debounceTimers[col.field]) {\n                                    clearTimeout(me.state.debounceTimers[col.field]);\n                                }\n                                me.state.debounceTimers[col.field] = setTimeout(() => {\n                                    delete me.state.debounceTimers[col.field];\n                                    // trigger render again no matter what changed. \n                                    //me.setState({somethingChanged: me.state.somethingChanged++});        \n                                    if (!value) return;\n                                    let curFormatterParams = columnDef.formatterParams || {}\n                                    let condExprs = value.split('\\n').map(v => v.trim());\n                                    condExprs = condExprs.filter(v=> v !== \"\");\n                                    let formatterParams = { \n                                        ...curFormatterParams,\n                                        conditionalExprs: condExprs,\n                                    }\n                                    me.setState({somethingChanged: me.state.somethingChanged++});\n                                    me.ref.table.updateColumnDefinition(col.field, { formatterParams });\n                                }, 1000)\n                            }} />\n                        }\n\n\n\n                    </Col>\n                </Row>);\n                s1.push(<br/>);\n            }\n        } catch (e) {}\n\n        return <div>{s1}</div>;\n    }\n\n    step2 () {\n        const { match, user, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n        let headerMenuWithoutHide = [\n            {\n                label:\"Toggle Filters\",\n                action: this.toggleSingleFilter\n            },\n            {\n                label:\"Set Editor to 'line'\",\n                action: this.setEditorToInput\n            },\n            {\n                label:\"Set Editor to 'paragraph'\",\n                action: this.setEditorToTextArea\n            },\n            {\n                label:\"Disable editing\",\n                action: this.setEditorToFalse\n            },\n            {\n                label:\"Set Formatter to 'line'\",\n                action: this.setFormatterToPlainText\n            },\n            {\n                label:\"Set Formatter to 'paragraph'\",\n                action: this.setFormatterToTextArea\n            },\n            {\n                label:\"Set header filter type to number\",\n                action: this.setHdrFilterTypeToNumber\n            },\n            {\n                label:\"Set header filter type to text\",\n                action: this.setHdrFilterTypeToText\n            },\n            {\n                label:\"Plus 50 to column width\",\n                action: this.plusFiftyToWidth\n            },\n        ];\n        let headerMenuWithHide = [\n            {\n                label:\"Toggle Filters\",\n                action: this.toggleSingleFilter\n            },\n            {\n                label:\"Set Editor to 'line'\",\n                action: this.setEditorToInput\n            },\n            {\n                label:\"Set Editor to 'paragraph'\",\n                action: this.setEditorToTextArea\n            },\n            {\n                label:\"Disable editing\",\n                action: this.setEditorToFalse\n            },\n            {\n                label:\"Set Formatter to 'line'\",\n                action: this.setFormatterToPlainText\n            },\n            {\n                label:\"Set Formatter to 'paragraph'\",\n                action: this.setFormatterToTextArea\n            },\n            {\n                label:\"<i class='fas fa-eye-slash'></i> Hide Column\",\n                action: this.hideColumn\n            },            \n            {\n                label:\"Set header filter type to number\",\n                action: this.setHdrFilterTypeToNumber\n            },\n            {\n                label:\"Set header filter type to text\",\n                action: this.setHdrFilterTypeToText\n            },\n            {\n                label:\"Plus 50 to column width\",\n                action: this.plusFiftyToWidth\n            },\n        ];\n        let s2 = '';\n\n        if (dsHome && dsHome.dsViews && dsHome.dsViews[dsView] && dsHome.dsViews[dsView].columns) {\n            let columns = [];\n            for (let i = 0; i < dsHome.dsViews[dsView].columnAttrs.length; i++) {\n                let col = JSON.parse(JSON.stringify(dsHome.dsViews[dsView].columnAttrs[i]));\n                if (!this.isKey(col.field)) {\n                    col.headerMenu = headerMenuWithHide;\n                } else {\n                    col.headerMenu = headerMenuWithoutHide;\n                }\n                if (!this.editors[col.field])\n                    this.editors[col.field] = col.editor;\n                if (col.editor === \"codemirror\" || col.editor === \"date\") col.editor = \"textarea\";\n                col.editable = () => { return false };\n                columns.push(col);\n            }\n            s2 = <Row>\n                        <div>\n                            <MyTabulator\n                                columns={columns}\n                                data={[]}\n                                options={{\n                                    ajaxURL: `${config.apiUrl}/ds/view/${this.props.match.params.dsName}/${dsView}/${user.user}`,\n                                    ajaxConfig: {\n                                        headers: {\n                                            ...authHeader(),\n                                            \"Content-Type\": \"application/json\",\n                                        },\n                                        credentials: 'include'\n                                    },\n                                    pagination:\"remote\",\n                                    paginationDataSent: {\n                                        page: 'page',\n                                        size: 'per_page' // change 'size' param to 'per_page'\n                                    },\n                                    paginationDataReceived: {\n                                        last_page: 'total_pages'\n                                    },\n                                    current_page: 1,\n                                    paginationSize: 20,\n                                    ajaxResponse: function (url, params, response) {\n                                        console.log('ajaxResponse', url);\n                                        return response; //return the response data to tabulator\n                                    },\n                                    ajaxError: function (error) {\n                                        console.log('ajaxError', error);\n                                    },\n                                    movableColumns: true,\n                                    cellEdited: this.cellEdited,\n                                    index: \"_id\",\n                                    ajaxSorting: true,\n                                    ajaxFiltering: true,\n                                    rowFormatter: (row) => {\n                                        if(!row.getData()._id){\n                                            row.getElement().style.backgroundColor = \"lightGray\";\n                                        } else {\n                                            row.getElement().style.backgroundColor = \"white\";\n                                        }                               \n                                    },\n                                    renderComplete: this.renderComplete,\n                                }}\n                                innerref={this.recordRef}\n                            />\n                        </div>\n                    </Row>            \n        }\n        return s2;\n    }\n\n\n    render () {\n        const { match, dsHome } = this.props;\n        let dsView = match.params.dsView;\n        let dsName = match.params.dsName;\n\n        document.title = `Edit-view: ${dsName}`;\n        \n        try {\n            if (this.state.jiraProjectNameEnabled === null && dsHome.dsViews[dsView].jiraProjectName) {\n                this.setState({\n                    jiraProjectNameEnabled: true,\n                    jiraProjectName: dsHome.dsViews[dsView].jiraProjectName\n                });\n            }\n        } catch (e) { };\n        try {\n            if (this.state.jira === null && dsHome.dsViews[dsView].jiraConfig) {\n                let jiraFieldMapping = this.state.jiraFieldMapping;\n                for (let key in dsHome.dsViews[dsView].jiraConfig.jiraFieldMapping) {\n                    jiraFieldMapping += `\"${key}\" -> \"${dsHome.dsViews[dsView].jiraConfig.jiraFieldMapping[key]}\"` + '\\n';\n                }\n                this.setState({ jira: dsHome.dsViews[dsView].jiraConfig.jira, \n                                jql: dsHome.dsViews[dsView].jiraConfig.jql, \n                                jiraFieldMapping\n                             });\n            }\n        } catch (e) {};\n        try {\n            if (this.state.jiraAgile === null && dsHome.dsViews[dsView].jiraAgileConfig) {\n                let jiraAgileFieldMapping = this.state.jiraAgileFieldMapping;\n                for (let key in dsHome.dsViews[dsView].jiraAgileConfig.jiraFieldMapping) {\n                    jiraAgileFieldMapping += `\"${key}\" -> \"${dsHome.dsViews[dsView].jiraAgileConfig.jiraFieldMapping[key]}\"` + '\\n';\n                }\n                this.setState({\n                    jiraAgile: dsHome.dsViews[dsView].jiraAgileConfig.jira,\n                    jiraAgileLabel: dsHome.dsViews[dsView].jiraAgileConfig.label,\n                    jiraAgileBoardId: dsHome.dsViews[dsView].jiraAgileConfig.boardId,\n                    jiraAgileFieldMapping: jiraAgileFieldMapping\n                });\n            }\n        } catch (e) { };\n        try {\n            if (this.state.fixedHeight === null && dsHome.dsViews[dsView].otherTableAttrs) {\n                this.setState({ fixedHeight: dsHome.dsViews[dsView].otherTableAttrs.fixedHeight, \n                             });\n            }\n        } catch (e) {};\n        try {\n            if (this.state.aclConfig === null && dsHome.dsViews[dsView].aclConfig) {\n                let acl = \"\";\n                if (typeof dsHome.dsViews[dsView].aclConfig.acl === \"string\") {\n                    acl = dsHome.dsViews[dsView].aclConfig.acl;\n                } else if (Array.isArray(dsHome.dsViews[dsView].aclConfig.acl)) {\n                    for (let i = 0; i < dsHome.dsViews[dsView].aclConfig.acl.length; i++) {\n                        acl += dsHome.dsViews[dsView].aclConfig.acl[i];\n                        if (i < dsHome.dsViews[dsView].aclConfig.acl.length - 1) \n                            acl += \", \";\n                    }\n                }\n                let aclConfig = { accessCtrl: dsHome.dsViews[dsView].aclConfig.accessCtrl, \n                    acl: acl\n                 }\n                this.setState({ aclConfig });\n            }\n        } catch (e) {};\n        let pushButton = \"\"\n        try {\n            if (dsHome.dsSetView.status === \"setting\") {\n                //console.log(\"Button is disabled\");\n                pushButton = <Button disabled onClick={this.pushColumnDefs}> Set View </Button>\n            }\n        } catch (e) {};\n        if (!pushButton) {\n            //console.log(\"Button is enabled\");\n            pushButton = <Button onClick={this.pushColumnDefs}> Set View </Button>\n        }\n\n        let me = this;\n        return (\n            <div>\n                <Row>\n                    <Col md={12} sm={12} xs={12}> \n                        <h3 style={{ 'float': 'center' }}>Dataset view: {match.params.dsName} | {match.params.dsView}</h3>\n                    </Col>\n                </Row>\n                <br/>\n                {this.dsDescription()}\n                <br/>\n                {this.step1()}\n                <Row>\n                    <Col md={2} sm={2} xs={2}>\n                        <Form.Check inline type=\"checkbox\" label=\"&nbsp;Add Jira project name\" checked={this.state.jiraProjectNameEnabled} onChange={(event) => {\n                            let checked = event.target.checked;\n                            me.setState({ jiraProjectNameEnabled: checked });\n                        }} />\n                    </Col>\n                    {this.state.jiraProjectNameEnabled &&\n                        <Col md={6} sm={6} xs={6}>\n                            <Form.Control type=\"text\" defaultValue={this.state.jiraProjectName} onChange={(event) => {\n                                let value = event.target.value;\n                                if (me.state.debounceTimers[\"__dsViewEdit__main\"]) {\n                                    clearTimeout(me.state.debounceTimers[\"__dsViewEdit__main\"]);\n                                }\n                                me.state.debounceTimers[\"__dsViewEdit__main\"] = setTimeout(() => {\n                                    delete me.state.debounceTimers[\"__dsViewEdit__main\"];\n                                    if (!value) return;\n                                    me.setState({ jiraProjectName: value });\n                                }, 1000)\n                            }} />\n                        </Col>\n                    }\n                </Row>\n                <Row>\n                    <Col md={2} sm={2} xs={2}> \n                    <Form.Check inline type=\"checkbox\" label=\"&nbsp;Add Jira query\" checked={this.state.jira} onChange={(event) => {\n                                    let checked = event.target.checked;\n                                    me.setState({jira: checked}); \n                                }}/>\n                    </Col>\n                    { this.state.jira && \n                        <Col md={6} sm={6} xs={6}> \n                        <Form.Control type=\"text\" defaultValue={this.state.jql} onChange={(event) => {\n                                let value = event.target.value;\n                                if (me.state.debounceTimers[\"__dsViewEdit__main\"]) {\n                                    clearTimeout(me.state.debounceTimers[\"__dsViewEdit__main\"]);\n                                }\n                                me.state.debounceTimers[\"__dsViewEdit__main\"] = setTimeout(() => {\n                                    delete me.state.debounceTimers[\"__dsViewEdit__main\"];\n                                    if (!value) return;\n                                    me.setState({jql: value});\n                                }, 1000)\n                            }} />\n                        </Col> \n                    }\n                </Row>\n                <Row>\n                    { this.state.jira && \n                        <Col md={2} sm={2} xs={2}> \n                            <b>Jira field mapping: </b>\n                        </Col>\n                    }\n                    { this.state.jira && \n                        <Col md={6} sm={6} xs={6}> \n                        <Form.Control as=\"textarea\" rows=\"3\" defaultValue={this.state.jiraFieldMapping} onChange={(event) => {\n                                let value = event.target.value;\n                                if (me.state.debounceTimers[\"__dsViewEdit__main\"]) {\n                                    clearTimeout(me.state.debounceTimers[\"__dsViewEdit__main\"]);\n                                }\n                                me.state.debounceTimers[\"__dsViewEdit__main\"] = setTimeout(() => {\n                                    delete me.state.debounceTimers[\"__dsViewEdit__main\"];\n                                    // trigger render again no matter what changed. \n                                    //me.setState({somethingChanged: me.state.somethingChanged++});        \n                                    if (!value) return;\n                                    me.setState({jiraFieldMapping: value});\n                                }, 1000)\n                            }} />\n                        </Col>\n                    }\n                </Row>\n                <br />\n                <br />\n                <Row>\n                    <Col md={2} sm={2} xs={2}>\n                        <Form.Check inline type=\"checkbox\" label=\"&nbsp;Add Jira Agile Label\" checked={this.state.jiraAgile} onChange={(event) => {\n                            let checked = event.target.checked;\n                            me.setState({ jiraAgile: checked });\n                        }} />\n                    </Col>\n                    {this.state.jiraAgile &&\n                        <Col md={6} sm={6} xs={6}>\n                            <Form.Control type=\"text\" required defaultValue={this.state.jiraAgileLabel} onChange={(event) => {\n                                let value = event.target.value;\n                                if (me.state.debounceTimers[\"__dsViewEdit__main\"]) {\n                                    clearTimeout(me.state.debounceTimers[\"__dsViewEdit__main\"]);\n                                }\n                                me.state.debounceTimers[\"__dsViewEdit__main\"] = setTimeout(() => {\n                                    delete me.state.debounceTimers[\"__dsViewEdit__main\"];\n                                    if (!value) return;\n                                    me.setState({ jiraAgileLabel: value });\n                                }, 1000)\n                            }} />\n                        </Col>\n                    }\n                </Row>\n                <Row>\n                    {this.state.jiraAgile &&\n                        <Col md={2} sm={2} xs={2}>\n                            <b>Jira Agile BoardId: </b>\n                        </Col>\n                    }\n                    {this.state.jiraAgile &&\n                        <Col md={6} sm={6} xs={6}>\n                            <Form.Control type=\"number\" required defaultValue={this.state.jiraAgileBoardId} onChange={(event) => {\n                                let value = event.target.value;\n                                if (me.state.debounceTimers[\"__dsViewEdit__main\"]) {\n                                    clearTimeout(me.state.debounceTimers[\"__dsViewEdit__main\"]);\n                                }\n                                me.state.debounceTimers[\"__dsViewEdit__main\"] = setTimeout(() => {\n                                    delete me.state.debounceTimers[\"__dsViewEdit__main\"];\n                                    // trigger render again no matter what changed.\n                                    //me.setState({somethingChanged: me.state.somethingChanged++});        \n                                    if (!value) return;\n                                    me.setState({ jiraAgileBoardId: value });\n                                }, 1000)\n                            }} />\n                        </Col>\n                    }\n                </Row>\n                <Row>\n                    {this.state.jiraAgile &&\n                        <Col md={2} sm={2} xs={2}>\n                            <b>Jira Agile field mapping: </b>\n                        </Col>\n                    }\n                    {this.state.jiraAgile &&\n                        <Col md={6} sm={6} xs={6}>\n                            <Form.Control as=\"textarea\" rows=\"3\" defaultValue={this.state.jiraAgileFieldMapping} onChange={(event) => {\n                                let value = event.target.value;\n                                if (me.state.debounceTimers[\"__dsViewEdit__main\"]) {\n                                    clearTimeout(me.state.debounceTimers[\"__dsViewEdit__main\"]);\n                                }\n                                me.state.debounceTimers[\"__dsViewEdit__main\"] = setTimeout(() => {\n                                    delete me.state.debounceTimers[\"__dsViewEdit__main\"];\n                                    // trigger render again no matter what changed. \n                                    //me.setState({somethingChanged: me.state.somethingChanged++});        \n                                    if (!value) return;\n                                    me.setState({ jiraAgileFieldMapping: value });\n                                }, 1000)\n                            }} />\n                        </Col>\n                    }\n                </Row>\n                <Row>\n                    <Col md={2} sm={2} xs={2}> \n                    <Form.Check inline type=\"checkbox\" label=\"&nbsp;Fixed height\" checked={this.state.fixedHeight} onChange={(event) => {\n                                    let checked = event.target.checked;\n                                    me.setState({fixedHeight: checked}); \n                                }}/>\n                    </Col>\n                </Row>\n                <AccessCtrl dsName={dsName} dsView={dsView} onChange={(value) => {\n                    console.log(`Received access control as:`, value);\n                    me.setState({aclConfig: value});\n                }}>\n                </AccessCtrl>\n                <br/>\n                <Row>\n                    <Button onClick={this.pushColumnDefs}> Set View </Button>\n                    <Button onClick={this.showAllCols}> Show all columns </Button>\n                    {/*\n                    <Button onClick={this.addCol}> Add Column </Button>\n                     */}\n                    {this.setViewStatus()}\n                </Row>\n                {this.step2()}\n            </div>\n        );\n    }\n\n}\n\nfunction mapStateToProps(state) {\n    const { user } = state.authentication;\n    const { home } = state;\n    const { dsHome } = state;\n    return {\n        user,\n        home,\n        dsHome\n    }\n}\n\nconst cDsViewEdit = connect(mapStateToProps)(DsViewEdit);\n\n\nexport default cDsViewEdit","import React, { Component } from 'react'\nimport { Row, Col, Button, Form } from 'react-bootstrap'\nimport { connect } from 'react-redux';\nimport { dsActions } from '../../actions/ds.actions';\nimport { dsConstants } from '../../constants';\nimport MyTabulator from './MyTabulator';\nimport MyTextArea from './MyTextArea';\n//import 'highlight.js/styles/solarized-light.css'\nimport MyAutoCompleter from './MyAutoCompleter';\nimport MySingleAutoCompleter from './MySingleAutoCompleter';\n\nimport './simpleStyles.css';\nimport { authHeader } from '../../helpers';\nlet MarkdownIt = new require('markdown-it')({\n    linkify: true,\n    html: true\n}).use(require('markdown-it-bracketed-spans')).use(require('markdown-it-attrs')).use(require('markdown-it-container'), 'code').use(require('markdown-it-highlightjs'));\n\n\nconst config = {};\nif (process.env.NODE_ENV === 'development') {\n    config.apiUrl = \"http://in-mvlb52:8887\"\n    config.apiUrl = \"http://localhost:8887\"\n} else {\n    config.apiUrl = \"\"\n}\n\nclass DsEditLog extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            firstTime: true,\n            filterButtonText: 'Enable Filters',\n            editingButtonText: 'Disable Editing',\n            pageSize: 30,\n            totalRecs: 0, \n\n            singleClickEdit: false,\n            showAllFilters: false,\n            disableEditing: false,\n        };\n        this.ref = null;\n        \n        this.lockedByOthersCells = {};\n        this.firstRenderCompleted = false;\n        this.cellImEditing = null;\n\n        this.renderComplete = this.renderComplete.bind(this);\n        this.cellEditCheck = this.cellEditCheck.bind(this);\n\n        this.recordRef = this.recordRef.bind(this);\n        this.downloadXlsx = this.downloadXlsx.bind(this);\n        this.toggleFilters = this.toggleFilters.bind(this);\n        this.toggleSingleFilter = this.toggleSingleFilter.bind(this);\n        this.ajaxResponse = this.ajaxResponse.bind(this);\n        this.copyToClipboard = this.copyToClipboard.bind(this);\n\n        let singleClickEditFrmLocal = localStorage.getItem(\"singleClickEdit\");\n        singleClickEditFrmLocal = JSON.parse(singleClickEditFrmLocal);\n        this.state.singleClickEdit = singleClickEditFrmLocal;\n    }\n    componentDidMount () {\n        const { dispatch, match, user, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n    }\n    componentWillUnmount () {\n        const { dispatch } = this.props;\n    }\n\n    renderComplete () {\n        const { match } = this.props;\n        let dsName = match.params.dsName; \n    }\n\n    cellEditCheck (cell) {      \n        return false;\n    }\n\n\n    toggleFilters () {\n        const { dsHome, match } = this.props;\n        //let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n\n        let currentDefs = this.ref.table.getColumnDefinitions();\n        //console.log(\"Current definitions: \", currentDefs);\n        let newVal;\n        for (let j = 0; j < currentDefs.length; j++) {\n            newVal = currentDefs[j].headerFilter ? false : 'input';\n            currentDefs[j].headerFilter = newVal;\n            try {\n                // If the headerFilter has to be set, then set it from the backend value. \n                if (newVal) {\n                    if (dsHome.dsViews[dsView].columnAttrs[j].headerFilterType)\n                        newVal = dsHome.dsViews[dsView].columnAttrs[j].headerFilterType;\n                }\n            } catch (e) {}\n            //this.ref.table.updateColumnDefinition(currentDefs[j].field, {editor: newVal});\n        }\n        this.ref.table.setColumns(currentDefs);\n        this.setState( { filterButtonText: newVal ? 'Disable Filtering' : 'Enable Filtering'} );\n        //let row = this.ref.table.getRows();\n        //console.log(row);\n        //row.normalizeHeight();\n\n        //this.ref.table.redraw(true);\n    }\n\n    copyToClipboard () {\n        // You have to also set 'clipboard' to true in table options.\n        this.ref.table.copyToClipboard();\n    }\n\n    recordRef (ref) {\n        // setting state is causing grief to the Tabulator component. \n        //this.setState({ ref });\n        this.ref = ref;\n        return true;\n    }\n\n    downloadXlsx () {\n        const { dispatch, match, user } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n        // XXX: Doesn't work from the front end. \n        // this.ref.table.download(\"xlsx\", \"data.xlsx\", { sheetName: \"export\" })\n\n        dispatch(dsActions.downloadXlsx(dsName, dsView, user.user));\n    }\n\n\n    toggleSingleFilter (e, column) {\n        const { match, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n\n        let currentDefs = this.ref.table.getColumnDefinitions();\n        let newVal;\n        for (let j = 0; j < currentDefs.length; j++) {\n            if (currentDefs[j].field === column.getField()) {\n                newVal = currentDefs[j].headerFilter ? false : 'input';\n                currentDefs[j].headerFilter = newVal;\n                try {\n                    // If the headerFilter has to be set, then set it from the backend value. \n                    if (newVal) {\n                        if (dsHome.dsViews[dsView].columnAttrs[j].headerFilterType)\n                            newVal = dsHome.dsViews[dsView].columnAttrs[j].headerFilterType;\n                        /*\n                        if (currentDefs[j].field === \"SlNo\") {\n                            currentDefs[j].headerFilter = 'number';\n                            newVal = 'number'\n                        }*/\n                    }\n                } catch (e) {}\n                // Comment this line and uncomment couple of lines below to use setCOlumns\n                // if you don't like the header row width. \n                this.ref.table.updateColumnDefinition(currentDefs[j].field, {headerFilter: newVal});\n            }\n        }\n        // uncomment this and comment updatecolumnDefinition above if you don't like header width. \n        //this.ref.table.setColumns(currentDefs);\n    }\n\n    setColumnDefinitions () {\n        const { match, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n\n        let headerMenu = [\n            {\n                label:\"Toggle Filters\",\n                action: this.toggleSingleFilter\n            }\n        ];\n        let columns = [];\n        let columnAttrs = [\n            {field: 'opr', title: 'opr', width: 100, formatter: \"textarea\", headerTooltip: true, hozAlign: 'center', vertAlign: 'middle'}, \n            {field: 'status', title: 'status', width: 100, formatter: \"textarea\", headerTooltip: true, hozAlign: 'center', vertAlign: 'middle'}, \n            {field: 'user', title: 'user', width: 150, formatter: \"textarea\", headerTooltip: true, hozAlign: 'center', vertAlign: 'middle'}, \n            {field: 'date', title: 'date', width: 150, formatter: \"textarea\", headerTooltip: true, hozAlign: 'center', vertAlign: 'middle'}, \n            {field: 'column', title: 'column', width: 150, formatter: \"textarea\", headerTooltip: true, hozAlign: 'center', vertAlign: 'middle'}, \n            {field: 'selector', title: 'selector', width: 200, formatter: \"textarea\", headerTooltip: true}, \n            {field: 'oldVal', title: 'oldVal', width: 200, formatter: \"textarea\", headerTooltip: true}, \n            {field: 'newVal', title: 'newVal', width: 200, formatter: \"textarea\", headerTooltip: true}, \n            {field: 'doc', title: 'doc', width: 300, formatter: \"textarea\", headerTooltip: true}, \n        ];\n        for (let i = 0; i < columnAttrs.length; i++) {\n            let col = JSON.parse(JSON.stringify(columnAttrs[i]));\n            col.headerMenu = headerMenu;\n            col.editable = this.cellEditCheck;\n\n            \n            if (col.field === \"selector\" || col.field === \"doc\") {\n                col.formatter = (cell, formatterParams) => {\n                    let value = cell.getValue();\n                    var newLine = String.fromCharCode(13, 10);                \n                    if (value) {\n                        value = value.replace(/\\\\\\\\n/g, '__dg__newline');\n                        value = value.replace(/\\\\n/g, newLine);\n                        value = value.replace(/__dg__newline/g, '\\\\n');                    \n                        //return `<pre>${value}</pre>`;\n                        return `<div style=\"white-space:pre-wrap;word-wrap:break-word;\">${value}</div>`;\n                    }\n                    return '';\n                }\n            }\n\n            if (col.editor === \"textarea\" || (col.editor === false && col.formatter === \"textarea\") || (col.editor === \"autocomplete\")) {\n                // By default, all textareas support markdown now. \n                col.formatter = (cell, formatterParams) => {\n                    let value = cell.getValue();\n                    if (typeof value != \"string\") return value;\n                    value = MarkdownIt.render(value);\n                    return `<div style=\"white-space:normal;word-wrap:break-word;margin-bottom:-12px\">${value}</div>`;\n                }\n                col.variableHeight = true;\n                if (col.editor === \"textarea\") {\n                    // Set the editor to a fixed one for special keys. \n                    col.editor = MyTextArea;\n                    col.cellEditCancelled = (cell) => {\n                        cell.getRow().normalizeHeight();\n                    }\n                }\n            }\n            columns.push(col);\n        }\n        return columns;\n    }\n\n    ajaxResponse (url, params, response) {\n        console.log('ajaxResponse: ', response);\n        this.setState({ totalRecs: response.total});\n        return response; \n    }\n\n    step2 () {\n        const { match, user, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n        let s2 = '';\n\n        let columns = this.setColumnDefinitions();\n        console.log(\"Columns: \", columns);\n        s2 = <Row>\n                    <div>\n                        <MyTabulator\n                            columns={columns}\n                            data={[]}\n                            options={{\n                                ajaxURL: `${config.apiUrl}/ds/view/editLog/${this.props.match.params.dsName}/${dsView}/${user.user}`,\n                                ajaxConfig: {\n                                    headers: {\n                                        ...authHeader(),\n                                        \"Content-Type\": \"application/json\",\n                                    },\n                                    credentials: 'include'\n                                },\n                                pagination:\"remote\",\n                                paginationDataSent: {\n                                    page: 'page',\n                                    size: 'per_page' // change 'size' param to 'per_page'\n                                },\n                                paginationDataReceived: {\n                                    last_page: 'total_pages'\n                                },\n                                current_page: 1,\n                                paginationSize: this.state.pageSize,\n                                paginationSizeSelector: [10, 25, 50, 100, 500, true],\n                                ajaxResponse: this.ajaxResponse,\n                                ajaxError: function (error) {\n                                    console.log('ajaxError', error);\n                                },\n                                index: \"_id\",\n                                ajaxSorting: true,\n                                ajaxFiltering: true,\n                                //height: \"500px\",\n                                //virtualDomBuffer: 500,\n                                clipboard: true,\n                                rowFormatter: (row) => {\n                                    if(!row.getData()._id){\n                                        row.getElement().style.backgroundColor = \"lightGray\";\n                                    } else {\n                                        row.getElement().style.backgroundColor = \"white\";\n                                    }  \n                                },\n                                cellMouseEnter: (e, cell) => {\n                                    if (cell.getElement().style.backgroundColor !== \"lightblue\") \n                                        cell.__dg__prevBgColor = cell.getElement().style.backgroundColor;\n                                    cell.getElement().style.backgroundColor = \"lightblue\";\n                                },\n                                cellMouseLeave: (e, cell) => {\n                                    cell.getElement().style.backgroundColor = cell.__dg__prevBgColor;\n                                    delete cell.__dg__prevBgColor;\n                                },\n                                renderComplete: this.renderComplete\n                            }}\n                            innerref={this.recordRef}\n                            />\n                    </div>\n                </Row>            \n        return s2;\n    }\n\n\n    render () {\n        const { match } = this.props;\n        let me = this;\n\n        document.title = `Edit-log: ${match.params.dsName}`;\n\n        return (\n            <div>\n                <Row>\n                    <Col md={12} sm={12} xs={12}> \n                        <h3 style={{ 'float': 'center' }}><label className=\"underline\">Editlog view: {match.params.dsName}</label></h3>\n                    </Col>\n                </Row>\n                <br/>\n                <Row>\n                    <Col md={12} sm={12} xs={12}> \n                    <Form inline>\n                    <Form.Check inline type=\"checkbox\" label=\"&nbsp;Show all filters\" checked={this.state.showAllFilters} onChange={(event) => {\n                                    let checked = event.target.checked;\n                                    me.setState({showAllFilters: checked});\n                                    localStorage.setItem(\"showAllFilters\", JSON.stringify(checked));\n                                    me.toggleFilters();\n                                }}/>\n                    </Form>\n                    </Col>\n                </Row>\n                {/*\n                <Row>\n                    <Button onClick={this.copyToClipboard}> Copy-to-clipbard </Button>\n                </Row>  */}\n                <Row>\n                <Col md={4} sm={4} xs={4}> \n                    <b>Total records: {this.state.totalRecs}</b>\n                </Col>\n                </Row>\n                {this.step2()}\n            </div>\n        );\n    }\n\n}\n\nfunction mapStateToProps(state) {\n    const { user } = state.authentication;\n    const { home } = state;\n    const { dsHome } = state;\n    return {\n        user,\n        home,\n        dsHome\n    }\n}\n\nconst cDsEditLog = connect(mapStateToProps)(DsEditLog);\n\n\nexport default cDsEditLog","import React, { Component } from 'react'\nimport { Row, Col, Form, Button } from 'react-bootstrap'\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom'\nimport { dsConstants } from '../../constants';\nimport { dsActions } from '../../actions/ds.actions';\nimport Select from 'react-select';\n\nclass DsBulkEdit extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            file: null,\n            formData: null,\n            range: \"\",\n            dsName: \"\",\n            setColsFrmSheet: false,\n            setRowsFrmSheet: false,\n            validate: false,\n            doIt: false\n        };\n        this.downloadXlsx = this.downloadXlsx.bind(this);\n        this.onFileSelect = this.onFileSelect.bind(this);\n        this.sheetSelectorOnChange = this.sheetSelectorOnChange.bind(this);\n        this.rangeOnChange = this.rangeOnChange.bind(this);\n        this.rangeSelectionDone = this.rangeSelectionDone.bind(this);\n    }\n\n    downloadXlsx () {\n        const { dispatch, match, user } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = \"default\";\n\n        dispatch(dsActions.downloadXlsx(dsName, dsView, user.user));\n    }\n\n    onFileSelect(event) {\n        const { dispatch, user } = this.props;\n        this.setState({file: event.target.files[0]});\n        let file = event.target.files[0];\n        if ( file ) {\n            let remoteFileName = user.user + '_' + file.name;\n            // Create an object of formData \n            const formData = new FormData(); \n            // Update the formData object \n            formData.append( \n                \"file\", \n                file,\n                remoteFileName\n            );     \n            this.setState({ file, formData });\n            dispatch(dsActions.uploadBulkEditXlsFile(remoteFileName, formData));\n        }\n    }\n\n    componentDidMount () {\n        const { dispatch } = this.props;\n        dispatch(dsActions.clearBulkEditStore());\n    }\n\n    componentWillUnmount () {\n    }\n\n    step1Status () {\n        const { dsHome } = this.props;\n        let s1Status = '';\n\n        if (dsHome && dsHome.dsBulkEdits && dsHome.dsBulkEdits.uploadStatus === 'fail') {\n            s1Status = <Row>\n                                <Col md={6} sm={6} xs={6}> \n                                    <b style={{color: 'red'}}>{dsHome.uploadError}</b>\n                                </Col>\n                        </Row>\n        }\n        if (dsHome && dsHome.dsBulkEdits && dsHome.dsBulkEdits.uploadStatus === 'success' && !dsHome.dsBulkEdits.sheetInfo.length) {\n            s1Status = <Row>\n                                <Col md={6} sm={6} xs={6}> \n                                <b style={{color: 'red'}}>Failed to recognize the sheets!</b>\n                                </Col>\n                        </Row>\n        }\n        return s1Status;\n    }\n    sheetSelectorOnChange (value) {\n        const { dispatch } = this.props;\n        console.log(value);\n        dispatch(dsActions.setSelectedSheet(value ? value.value : null));\n        // Drop the result on the floor if you are no longer the selected value. \n        // This is required for race-conditions when the user rapidly changes the\n        // selection. \n        // Or add a button to do the actual network call. \n    }\n\n    step2 () {\n        const { dsHome } = this.props;\n        let s2 = '';\n        if (dsHome && dsHome.dsBulkEdits && dsHome.dsBulkEdits.uploadStatus === 'success' && dsHome.dsBulkEdits.sheetInfo.length) {\n            let sheetOptions = [];\n            dsHome.dsBulkEdits.sheetInfo.map((v) => {\n                let row = {};\n                row.value = v;\n                row.label = v;\n                sheetOptions.push(row);\n            });\n            s2 = <Row>\n                    <Col md={2} sm={2} xs={2}> \n                    <b>Step 2.</b> Select sheet:\n                    </Col>\n                    <Col md={4} sm={4} xs={4}> \n                    <Select className=\"basic-single\" classNamePrefix=\"select\" isClearable={true} name=\"sheetOptions\" options={sheetOptions} onChange={this.sheetSelectorOnChange}/>\n                    </Col>\n                 </Row>\n        }\n        return s2;\n    }\n\n    rangeOnChange (event) {\n        this.setState({ range: event.target.value });\n    }\n    rangeSelectionDone (e, doIt = false) {\n        const { dsHome, dispatch, match, user } = this.props;\n        let dsName = match.params.dsName;\n        let dsUser = user.user;\n        if (doIt) {\n            this.setState({ doIt: true });\n        } else {\n            this.setState({ validate: true, doIt: false });\n            dispatch({ type: dsConstants.CLEAR_LOADSTATUS });\n        }\n        dispatch(dsActions.doBulkEditRequest(dsName, dsHome.dsBulkEdits.fileName, dsHome.dsBulkEdits.selectedSheet, this.state.range, this.state.setRowsFrmSheet, this.state.setColsFrmSheet, doIt, dsUser));\n    }\n\n    step3 () {\n        const { dsHome } = this.props;\n        let s3 = ''; let me = this;\n        if (dsHome && dsHome.dsBulkEdits && dsHome.dsBulkEdits.selectedSheet && dsHome.dsBulkEdits.selectedSheet.length) {\n            s3 = <div>\n                 <Row>\n                    <Col md={2} sm={2} xs={2}> \n                    <b>Step 3.</b> Specify range (must include hdrs):\n                    </Col>\n                    <Col md={4} sm={4} xs={4}> \n                    <Form.Control type=\"text\" value={this.state.range} onChange={this.rangeOnChange} />\n                    </Col>\n                    <Col md={4} sm={4} xs={4}> \n                    <Button onClick={this.rangeSelectionDone}> Validate! </Button> \n                    </Col>\n                 </Row>\n                 <Row>\n                    <Col md={2} sm={2} xs={2}> \n                    </Col>\n                    <Col md={6} sm={6} xs={6}> \n                    <Form.Check type=\"checkbox\" label=\"&nbsp;\" checked={this.state.setRowsFrmSheet} onChange={(event) => {\n                            let checked = event.target.checked;\n                            me.setState({setRowsFrmSheet: checked})\n                        }}/>\n                    <b>Set data rows</b> as in specified range of the sheet (deletes all other rows). Uncheck this if you don't want to delete other rows in the db that is not specified in your sheet range.\n                    </Col>\n                 </Row>\n                 <Row>\n                    <Col md={2} sm={2} xs={2}> \n                    </Col>\n                    <Col md={6} sm={6} xs={6}> \n                    <Form.Check type=\"checkbox\" label=\"&nbsp;\" checked={this.state.setColsFrmSheet} onChange={(event) => {\n                            let checked = event.target.checked;\n                            me.setState({setColsFrmSheet: checked})\n                        }}/>\n                    <b>Set data columns</b> as in specified range of the sheet (deletes all other columns). Uncheck this if you want to only bulk-edit the columns specified in your sheet range. All other column attributes will be untouched.\n                    </Col>\n                 </Row>\n                 </div>\n        }\n        return s3;\n    }\n\n    step3Status () {\n        const { dsHome, match } = this.props;\n        let dsName = match.params.dsName;\n        let s3Status = '';\n        let errorJsx, success = false;\n        try {\n            if (dsHome.dsBulkEdits.loadStatus.loadStatus) {\n                success = true;\n            }\n        } catch (e) {}\n        try {\n            if (!dsHome.dsBulkEdits.loadStatus.loadStatus) {\n                if (Object.keys(dsHome.dsBulkEdits.loadStatus.hdrErrors).length) {\n                    errorJsx = Object.entries(dsHome.dsBulkEdits.loadStatus.hdrErrors).map ((kv) => {\n                        return <div>[ {kv[0]} ] : [ <b style={{color: 'red'}}> {kv[1]} </b> ] </div>\n                    })\n                } else {\n                    errorJsx = <b style={{color: 'red'}}> {dsHome.dsBulkEdits.loadStatus.error} </b>;\n                }\n            }\n        } catch (e) {}\n        if (errorJsx) {\n            s3Status = <Row>\n                            <Col md={12} sm={12} xs={12}> \n                            <b>Error: </b>{errorJsx}\n                            </Col>                        \n                       </Row>\n        } else if (success) {\n            let url = `/ds/${dsName}/default`;\n            /*\n            s3Status = <Row>\n                            <br/><br/>\n                            <Col md={6} sm={6} xs={6}> \n                                <b style={{color: 'green'}}>Successfully updated: </b>\n                                <Link to={url}>Click here for your dataset</Link>\n                            </Col>\n                       </Row> */\n        }\n        return s3Status;\n    }\n\n    renderOprLog () {\n        const { dsHome } = this.props;\n        let s = \"\";\n        try {\n            let oprLog = dsHome.dsBulkEdits.loadStatus.oprLog;\n            s = <div><ol>\n                {\n                    oprLog.map(log => (<li>{log}</li>))\n                }\n            </ol></div>\n        } catch (e) {} \n        return s;\n    }\n    step4 () {\n        const { dsHome } = this.props;\n        let s4 = '';\n        if (this.state.validate && dsHome && dsHome.dsBulkEdits && dsHome.dsBulkEdits.loadStatus && dsHome.dsBulkEdits.loadStatus.loadStatus) {\n            s4 = <Row>\n                <Col md={2} sm={2} xs={2}> \n                </Col>\n                <Col md={4} sm={4} xs={4}>\n                    <b>Will perform the following operations:</b><br/>\n                    {this.renderOprLog()}\n                </Col>\n                <Col md={4} sm={4} xs={4}> \n                <Button onClick={() => {this.rangeSelectionDone(null, true)}}> Do It! </Button> \n                </Col>\n            </Row>\n        }\n        return s4;\n    }\n\n    step4Status () {\n        const { dsHome, match } = this.props;\n        let dsName = match.params.dsName;\n        let s4Status = '';\n        let errorJsx, success = false;\n        try {\n            if (this.state.doIt && dsHome.dsBulkEdits.loadStatus.loadStatus) {\n                success = true;\n            }\n        } catch (e) {}\n        try {\n            if (this.state.doIt && !dsHome.dsBulkEdits.loadStatus.loadStatus) {\n                if (Object.keys(dsHome.dsBulkEdits.loadStatus.hdrErrors).length) {\n                    errorJsx = Object.entries(dsHome.dsBulkEdits.loadStatus.hdrErrors).map ((kv) => {\n                        return <div>[ {kv[0]} ] : [ <b style={{color: 'red'}}> {kv[1]} </b> ] </div>\n                    })\n                } else {\n                    errorJsx = <b style={{color: 'red'}}> {dsHome.dsBulkEdits.loadStatus.error} </b>;\n                }\n            }\n        } catch (e) {}\n        if (errorJsx) {\n            s4Status = <Row>\n                            <Col md={12} sm={12} xs={12}> \n                            <b>Error: </b>{errorJsx}\n                            </Col>                        \n                       </Row>\n        } else if (success) {\n            let url = `/ds/${dsName}/default`;\n            s4Status = <Row>\n                            <br/><br/>\n                            <Col md={6} sm={6} xs={6}> \n                                <b style={{color: 'green'}}>Successfully updated: </b>\n                                <Link to={url}>Click here for your dataset</Link>\n                            </Col>\n                       </Row>\n        }\n        return s4Status;\n    }\n\n\n    render () {\n        const { match, dsHome } = this.props;\n        let dsName = match.params.dsName;\n        document.title = `Bulk-edit: ${dsName}`;\n\n        return (\n            <div>\n                <Row>\n                    <Col md={12} sm={12} xs={12}> \n                    <h3 style={{ 'float': 'center' }}><label className=\"underline\">Bulk Edit for: {dsName}</label></h3>\n                    It is <b>highly recommended</b> that you take an <button size=\"sm\" className=\"btn btn-link\" onClick={this.downloadXlsx}><b>xlsx backup</b> </button> before you attempt this. Also, good to warn your users not to make any edits while you are doing this! \n                    \n                    </Col>\n                </Row>\n                <br/>\n                <Row>\n                    <Col md={2} sm={2} xs={2}> \n                    <b>Step 1.</b> Select xls file:\n                    </Col>\n                    <Col md={4} sm={4} xs={4}> \n                    <Form.Control type=\"file\" name=\"file\" onChange={this.onFileSelect} />\n                    </Col>\n                </Row>\n                {this.step1Status()}\n                <br/>\n                {this.step2()}\n                <br/>\n                {this.step3()}\n                {this.step3Status()}\n                <br/>\n                {this.step4()}\n                {this.step4Status()}\n            </div>\n        );\n    }\n\n}\n\nfunction mapStateToProps(state) {\n    const { user } = state.authentication;\n    const { home } = state;\n    const { newDs } = state;\n    const { dsHome } = state;\n    return {\n        user,\n        home,\n        newDs,\n        dsHome\n    }\n}\n\nconst cDsBulkEdit = connect(mapStateToProps)(DsBulkEdit);\n\n\nexport default cDsBulkEdit","import React, { Component } from 'react'\nimport { Route } from 'react-router-dom'\nimport { matchPath } from 'react-router'\nimport cn from 'classnames'\nimport childrenWithProps from '../childrenWithProps'\n\nconst isActive = ({ location }) => (linkTo) => matchPath(location.pathname, {path: linkTo, exact: false, strict: false})\n\nclass MenuSection extends Component {\n  render () {\n    const { title, children, shared } = this.props\n    //const { visiblePath } = shared.getState()\n    //const active = visiblePath.startsWith(ancestors);\n    const ancestors = title;\n\n    return (\n      <div className={cn('menu_section', { active: true })}>\n        <h3>{title}</h3>\n        <Route render={rcp => (\n          <ul className=\"nav side-menu\">\n            { \n              childrenWithProps(children, { \n                shared,\n                isActive: isActive(rcp), \n                ancestors\n              })\n            }\n          </ul>\n        )} />\n      </div>\n    )\n  }\n}\n\nexport default MenuSection","import React, { Component } from 'react'\nimport cn from 'classnames'\nimport childrenWithProps from '../childrenWithProps'\n\nclass GroupMenuItem extends Component {\n  render() {\n    /* eslint no-unused-vars: 0 */\n    const { icon, title, shared, children, to, isActive, ancestors } = this.props\n    const { visiblePath } = shared.getState()\n    const chldAncestors = ancestors + \" : \" + title;\n    const active = visiblePath.startsWith(chldAncestors);\n\n    const onClickHdlr = () => {\n      visiblePath.startsWith(chldAncestors) ? shared.setVisiblePath(ancestors) : shared.setVisiblePath(chldAncestors);\n    }\n\n    return (\n      <li className={ cn({ active }) }><a href=\"##\" onClick={ onClickHdlr }>\n        { icon ? <i className={ `fas fa-${icon}` }></i> : '' }\n        { \"  \" + title }\n        <span className=\"fas fa-chevron-down pull-right\"></span></a>\n        <ul className=\"nav child_menu\" style={ { display: active ? 'block' : 'none' } }>\n          { childrenWithProps(children, { isActive, shared, ancestors: chldAncestors }) }\n        </ul>\n      </li>\n    )\n  }\n}\n\nexport default GroupMenuItem\n","import React, { Component } from 'react'\nimport { Link } from 'react-router-dom'\nimport cn from 'classnames'\n\nclass MenuItem extends Component {\n  render () {\n    const { icon, title, isActive, shared, ancestors, ...rest } = this.props\n    const { to } = rest\n    const currentPage = isActive(to)\n    const { visiblePath } = shared.getState()\n    // if !visiblePath, then this is the very first render of \n    // the UI. If you paste a URL, this effectively opens the \n    // left hand side in a declarative fashion.\n    if (currentPage && !visiblePath)\n      shared.setVisiblePath(ancestors);\n    const onClickHdlr = () => {\n      window.scroll(0,0);\n      if (!ancestors.trim()) {\n        shared.setVisiblePath(ancestors);\n      }\n    }\n    return (\n      \n      <li className={cn({ 'current-page': currentPage })}>\n        <Link {...rest} onClick={onClickHdlr}>\n          {icon ? <i className={`fas fa-${icon}`}></i> : ''}\n          {\" \" + title}\n        </Link>\n      </li>\n    )\n  }\n}\nexport default MenuItem","import React, { Component } from 'react'\n// import { matchPath } from 'react-router'\nimport SharedState from '../SharedState'\nimport MenuSection from './MenuSection'\nimport GroupMenuItem from './GroupMenuItem'\nimport MenuItem from './MenuItem'\n\nconst childrenWithProps = (children, props) => React.Children.map(children, c => React.cloneElement(c, props))\n\nclass SideBar extends Component {\n  constructor(props) {\n    super(props)\n    this.shared = SharedState(this, {\n      setVisiblePath: (path) => {\n        console.log(`setVisiblePath: ${path}`);\n        this.setState({visiblePath: path});\n      }\n    })\n    this.state = {\n      visiblePath: \"\"\n    }\n  }\n\n  render() {\n    const { children } = this.props\n\n    return (\n      <div id=\"sidebar-menu\" className=\"main_menu_side hidden-print main_menu\">\n        { childrenWithProps(children, { shared: this.shared }) }\n      </div>\n    )\n  }\n}\n\nSideBar.MenuSection = MenuSection\nSideBar.GroupMenuItem = GroupMenuItem\nSideBar.MenuItem = MenuItem\n\nexport default SideBar\n","import SideBar from './SideBar'\nimport MenuSection from './MenuSection'\nimport GroupMenuItem from './GroupMenuItem'\nimport MenuItem from './MenuItem'\n\nexport default SideBar\n\nexport {\n  MenuSection,\n  GroupMenuItem,\n  MenuItem\n}","import {MenuItem} from '../../components/SideBar'\nimport React from 'react';\n\nconst Menu = (\n    <MenuItem title=\"Home\" to=\"/\" icon=\"home\" />\n)\n\nexport default Menu","import React, { Component } from 'react'\nimport { Row, Col, Button } from 'react-bootstrap'\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom'\nimport { dsActions } from '../../actions/ds.actions';\nimport 'react-tabulator/lib/styles.css'; // required styles\nimport 'react-tabulator/lib/css/tabulator.min.css'; // theme\nimport { allDsConstants } from '../../constants';\nimport { history } from '../../helpers';\n\nconst config = {};\nif (process.env.NODE_ENV === 'development') {\n    config.apiUrl = \"http://in-mvlb52:8887\"\n    config.apiUrl = \"http://localhost:8887\"\n} else {\n    config.apiUrl = \"\"\n}\n\nclass AllDs extends Component {\n\n    constructor(props) {\n        super(props);\n        this.deleteRequest = this.deleteRequest.bind(this);\n        this.deleteControls = this.deleteControls.bind(this);\n        this.pageTabs = [\"A-I\", \"J-S\", \"T-Z\", \"ALL DS\"];\n        this.state = {\n            activeTab: \"A-I\",\n        }\n    }\n    componentDidMount () {\n        const { dispatch, user } = this.props;\n        if (this.state.activeTab === \"ALL DS\") {\n            dispatch(dsActions.getDsList(user.user));\n        } else {\n            dispatch(dsActions.getFilteredDsList(user.user, this.state.activeTab));\n        }\n    }\n\n    deleteRequest ( dsName ) {\n        const { dispatch } = this.props;\n        console.log( \"Received delete request: \", dsName );\n        dispatch({ type: allDsConstants.SEEKING_DELETE_CONFIRM, dsName })\n    }\n\n    confirmedDelete ( dsName ) {\n        const { dispatch, user } = this.props;\n        console.log( \"Received delete confirmation! \", dsName );\n        dispatch(dsActions.deleteDs(dsName, user.user));\n    }\n\n    deleteControls ( dsName ) {\n        const { user, allDs } = this.props;\n        let owner = ''\n        for (let i = 0; i < allDs.dsList.dbList.length; i++) {\n            if (allDs.dsList.dbList[i].name === dsName) {\n                try {\n                    owner = allDs.dsList.dbList[i].perms.owner;\n                } catch (e) {\n                    console.log(`Owner is not found for: ${dsName}`);\n                    owner = user.user;\n                }\n                break;\n            }\n        }\n        if (owner === user.user && allDs.deleteConfirm && allDs.deleteConfirm[dsName]) {\n            return (<span> | <a href=\"##\" onClick={() => {this.confirmedDelete(dsName)}}>Confirm Deletion please</a></span>)\n        } else if (owner === user.user) {\n            return (<span> | <a href=\"##\" onClick={() => {this.deleteRequest(dsName)}}>Delete</a></span>)\n        }\n        return '';\n    }\n\n    dsList () {\n        const { allDs } = this.props;\n        try {\n            if (allDs.dsListStatus === 'loading') {\n                return <h5>Loading....</h5>\n            } else if (allDs.dsListStatus === 'success') {\n                if (allDs.dsList.dbList.length == 0) {\n                    return <h3> OOPS..!! No Dataset found....!!</h3>\n                } else {\n                    let listItems = allDs.dsList.dbList.map((v) => {\n                        let url = `/ds/${v.name}/default`;\n                        return <li><Link to={url}>{v.name}</Link>{this.deleteControls(v.name)}</li>\n                    })\n                    return (<Row><Col md={12} sm={12} xs={12}><ul>{listItems}</ul></Col></Row>)\n                }\n            }\n        } catch (e) {\n            console.log('dsList, exception: ', e);\n        }\n        return '';\n    }\n\n    onFilterClickHandler = (e) => {\n        e.preventDefault();\n        const { dispatch, user } = this.props;\n        if (e.target.innerText === \"ALL DS\") {\n            dispatch(dsActions.getDsList(user.user));\n        } else {\n            dispatch(dsActions.getFilteredDsList(user.user, e.target.innerText));\n        }\n        this.setState({\n            ...this.state,\n            activeTab: e.target.innerText\n        })\n    }\n\n    render () {\n        document.title = \"Datagroom - browse data-sets\";\n        return (\n            <div>\n                <Row>\n                    <Col md={12} sm={12} xs={12}> \n                    <h3 style={{ 'float': 'center' }}><label className=\"underline\">Your Datasets</label></h3>\n                    </Col>\n                </Row>\n                <div className='pageButton'>\n                    {this.pageTabs.map((pageTab) => {\n                        if (this.state.activeTab == pageTab) {\n                            return <Button size=\"sm\" onClick={this.onFilterClickHandler} active> {pageTab}</Button>\n                        } else {\n                            return <Button size=\"sm\" onClick={this.onFilterClickHandler}> {pageTab}</Button>\n                        }\n                    })}\n                </div>\n                {this.dsList()}\n                <Row>\n                <Button size=\"sm\" onClick={() => {history.push('/newDsXlsx')}}> New Ds (xlsx)</Button> \n                <Button size=\"sm\" onClick={() => {history.push('/newDsCsv')}}> New Ds (csv)</Button> \n                <Button size=\"sm\" onClick={() => {history.push('/newDsFrmDs')}}> Copy Ds</Button> \n                </Row>\n            </div>\n        );\n    }\n\n}\n\nfunction mapStateToProps(state) {\n    const { user } = state.authentication;\n    const { home } = state;\n    const { allDs } = state;\n    return {\n        user,\n        home,\n        allDs\n    }\n}\n\nconst cAllDs = connect(mapStateToProps)(AllDs);\n\n\nexport default cAllDs","import React, { Component } from 'react'\nimport { Row, Col, Button, Form } from 'react-bootstrap'\nimport { connect } from 'react-redux';\nimport { dsActions } from '../../actions/ds.actions';\nimport { dsConstants } from '../../constants';\nimport MyTabulator from './MyTabulator';\nimport MyTextArea from './MyTextArea';\n//import 'highlight.js/styles/solarized-light.css'\nimport { uploadService } from '../../services';\nimport Modal from './Modal';\nimport ReactDOM from 'react-dom';\n\nimport './simpleStyles.css';\nimport { authHeader } from '../../helpers';\nlet MarkdownIt = new require('markdown-it')({\n    linkify: true,\n    html: true\n}).use(require('markdown-it-bracketed-spans')).use(require('markdown-it-attrs')).use(require('markdown-it-container'), 'code').use(require('markdown-it-highlightjs'));\n\n// From: https://github.com/markdown-it/markdown-it/blob/master/docs/architecture.md#renderer\n// Remember old renderer, if overridden, or proxy to default renderer\nvar defaultRender = MarkdownIt.renderer.rules.link_open || function(tokens, idx, options, env, self) {\n    return self.renderToken(tokens, idx, options);\n  };\n\nMarkdownIt.renderer.rules.link_open = function (tokens, idx, options, env, self) {\n    // If you are sure other plugins can't add `target` - drop check below\n    var aIndex = tokens[idx].attrIndex('target');\n  \n    if (aIndex < 0) {\n      tokens[idx].attrPush(['target', '_blank']); // add new attribute\n    } else {\n      tokens[idx].attrs[aIndex][1] = '_blank';    // replace value of existing attr\n    }\n  \n    // pass token to default renderer.\n    return defaultRender(tokens, idx, options, env, self);\n};\n\n\nconst config = {};\nif (process.env.NODE_ENV === 'development') {\n    config.apiUrl = \"http://in-mvlb52:8887\"\n    config.apiUrl = \"http://localhost:8887\"\n} else {\n    config.apiUrl = \"\"\n}\n\nclass DsAttachments extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            filterButtonText: 'Enable Filters',\n            pageSize: 30,\n            totalRecs: 0,\n            refresh: 0, \n\n            initialHeaderFilter: [],\n            initialSort: [{column: \"time\", dir: \"desc\"}], \n            showModal: false,\n            modalTitle: \"Title of modal\",\n            modalQuestion: \"This is the modal question\",\n            modalCallback: null,\n            showAllFilters: false,\n        };\n        this.ref = null;\n\n        this.renderComplete = this.renderComplete.bind(this);\n        this.cellEditCheck = this.cellEditCheck.bind(this);\n\n        this.recordRef = this.recordRef.bind(this);\n        this.onFileSelect = this.onFileSelect.bind(this);\n        this.toggleFilters = this.toggleFilters.bind(this);\n        this.toggleSingleFilter = this.toggleSingleFilter.bind(this);\n        this.ajaxResponse = this.ajaxResponse.bind(this);\n        this.deleteRowHandler = this.deleteRowHandler.bind(this);\n        this.deleteRowQuestion = this.deleteRowQuestion.bind(this);\n        this.toggleModal = this.toggleModal.bind(this);\n\n    }\n    componentDidMount () {\n        const { dispatch, match, user, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n    }\n    componentWillUnmount () {\n        const { dispatch } = this.props;\n    }\n\n    renderComplete () {\n        const { match } = this.props;\n        let dsName = match.params.dsName; \n        setTimeout(() => \n        window.highlightJsBadge(), 1000);\n    }\n\n    cellEditCheck (cell) {      \n        return false;\n    }\n    toggleModal (confirmed) {\n        this.state.modalCallback(confirmed);\n        this.setState({ showModal: !this.state.showModal });\n    }\n\n    async onFileSelect(event) {\n        const { match } = this.props;\n        let dsName = match.params.dsName;\n        console.log(\"Files: \", event.target.files);\n        // https://fb.me/react-event-pooling \n        event.persist();\n        for (let i = 0; i < event.target.files.length; i++) {\n            let file = event.target.files[i];\n            if ( file ) {\n                let remoteFileName = file.name.replaceAll(\" \", \"_\");\n                const formData = new FormData(); \n                formData.append( \n                    \"file\", \n                    file,\n                    remoteFileName\n                );\n                formData.append(\"dsName\", dsName);\n                await uploadService.uploadAttachment(formData);\n            }    \n        }\n        // Preserve filters\n        let initialHeaderFilter = this.ref.table.getHeaderFilters();\n        console.log(\"initialHeaderFilter: \", initialHeaderFilter);\n        this.setState({ initialHeaderFilter });\n        // Preserve sorters\n        let hdrSortersTmp = this.ref.table.getSorters();\n        let hdrSorters = [];\n        for (let i = 0; i < hdrSortersTmp.length; i++) {\n            let sorter = {};\n            sorter.column = hdrSortersTmp[i].field;\n            sorter.dir = hdrSortersTmp[i].dir;\n            hdrSorters.push(sorter);\n        }\n        this.setState({ initialSort: hdrSorters });\n        // showAllFilters & initialHeaderFilter is not working yet\n        //this.setState({ showAllFilters: false });\n        // Force refresh\n        this.setState({ refresh: this.state.refresh + 1 });\n    }\n\n    toggleFilters () {\n        const { dsHome, match } = this.props;\n        //let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n\n        let currentDefs = this.ref.table.getColumnDefinitions();\n        //console.log(\"Current definitions: \", currentDefs);\n        let newVal;\n        for (let j = 0; j < currentDefs.length; j++) {\n            newVal = currentDefs[j].headerFilter ? false : 'input';\n            currentDefs[j].headerFilter = newVal;\n            try {\n                // If the headerFilter has to be set, then set it from the backend value. \n                if (newVal) {\n                    if (dsHome.dsViews[dsView].columnAttrs[j].headerFilterType)\n                        newVal = dsHome.dsViews[dsView].columnAttrs[j].headerFilterType;\n                }\n            } catch (e) {}\n            //this.ref.table.updateColumnDefinition(currentDefs[j].field, {editor: newVal});\n        }\n        this.ref.table.setColumns(currentDefs);\n        this.setState( { filterButtonText: newVal ? 'Disable Filtering' : 'Enable Filtering'} );\n        //let row = this.ref.table.getRows();\n        //console.log(row);\n        //row.normalizeHeight();\n\n        //this.ref.table.redraw(true);\n    }\n\n    recordRef (ref) {\n        // setting state is causing grief to the Tabulator component. \n        //this.setState({ ref });\n        this.ref = ref;\n        return true;\n    }\n\n    async deleteRowHandler (e, cell, confirmed) {\n        const { dispatch, match, user, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n\n        console.log(\"Delete row handler called...:\", confirmed);\n        if (confirmed) {\n            let _id = cell.getRow().getData()['_id'];\n            if (!_id) {\n                cell.getRow().delete();\n                return;\n            }\n            await uploadService.deleteOneAttachment({ dsName, dsView, user: user.user, _id });\n            cell.getRow().delete();\n            this.setState({totalRecs: this.state.totalRecs - 1});\n        }\n    }\n\n    deleteRowQuestion (e, cell) {\n        let me = this;\n        this.setState({ modalTitle: \"Delete current attachment?\", \n                        modalQuestion: `This will delete the attachment shown in this row. Please confirm. This cannot be undone. Pls ensure links to this attachment are also fixed!`,\n                        modalCallback: (confirmed) => me.deleteRowHandler(e, cell, confirmed),\n                        showModal: !this.state.showModal });\n    }\n\n    toggleSingleFilter (e, column) {\n        const { match, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n\n        let currentDefs = this.ref.table.getColumnDefinitions();\n        let newVal;\n        for (let j = 0; j < currentDefs.length; j++) {\n            if (currentDefs[j].field === column.getField()) {\n                newVal = currentDefs[j].headerFilter ? false : 'input';\n                currentDefs[j].headerFilter = newVal;\n                try {\n                    // If the headerFilter has to be set, then set it from the backend value. \n                    if (newVal) {\n                        if (dsHome.dsViews[dsView].columnAttrs[j].headerFilterType)\n                            newVal = dsHome.dsViews[dsView].columnAttrs[j].headerFilterType;\n                    }\n                } catch (e) {}\n                // Comment this line and uncomment couple of lines below to use setCOlumns\n                // if you don't like the header row width. \n                this.ref.table.updateColumnDefinition(currentDefs[j].field, {headerFilter: newVal});\n            }\n        }\n        // uncomment this and comment updatecolumnDefinition above if you don't like header width. \n        //this.ref.table.setColumns(currentDefs);\n    }\n\n    setColumnDefinitions () {\n        const { match, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n\n        let headerMenu = [\n            {\n                label:\"Toggle Filters\",\n                action: this.toggleSingleFilter\n            }\n        ];\n        let cellContextMenu = [\n            {\n                label:\"Delete row...\",\n                action: this.deleteRowQuestion\n            },\n        ];\n        let columns = [];\n        let columnAttrs = [\n            {field: '_id', title: 'file', width: 800, formatter: \"textarea\", headerTooltip: true, hozAlign: 'left', vertAlign: 'top'}, \n            {field: 'size', title: 'size', width: 100, formatter: \"textarea\", headerTooltip: true, hozAlign: 'center', vertAlign: 'middle'}, \n            {field: 'time', title: 'time', width: 160, formatter: \"textarea\", headerTooltip: true, hozAlign: 'center', vertAlign: 'middle'}, \n        ];\n        for (let i = 0; i < columnAttrs.length; i++) {\n            let col = JSON.parse(JSON.stringify(columnAttrs[i]));\n            col.headerMenu = headerMenu;\n            col.contextMenu = cellContextMenu;\n            col.editable = this.cellEditCheck;\n            if (this.state.initialHeaderFilter.length) {\n                col.headerFilter = \"input\";\n            }\n            if (col.field === '_id') {\n                col.formatter = (cell, formatterParams) => {\n                    let value = cell.getValue();\n                    if (value === undefined) return \"\";\n                    if (typeof value != \"string\") return value;\n\n                    value = '/' + value;\n                    let origValue = value;\n                    value = `Click to view: [${value}](${value})`;\n                    value += `\\n\\nTo use this image, copy the text below and paste into your cell!:\\n`;\n                    if (/(\\.png$)|(\\.jpg$)|(\\.gif$)|(\\.jpeg$)/i.test(origValue)) {\n                        value += \"\\n\\n``` md\\n\\n\" + `<img src=\"${origValue}\" alt=\"${origValue}\" width=\"100%\" height=\"100%\" />` + `\\n` + \"```\\n\"; \n                        \n                    } else {\n                        value += \"\\n\\n``` md\\n\\n\" + `[Modify link text](${origValue})` + `\\n` + \"```\\n\"; \n                    }\n                    value = MarkdownIt.render(value);\n                    return `<div style=\"white-space:normal;word-wrap:break-word;margin-bottom:-12px;\">${value}</div>`;\n                }\n            }\n            columns.push(col);\n        }\n        return columns;\n    }\n\n    ajaxResponse (url, params, response) {\n        console.log('ajaxResponse: ', response);\n        this.setState({ totalRecs: response.total});\n        return response; \n    }\n\n    step2 () {\n        const { match, user, dsHome } = this.props;\n        let dsName = match.params.dsName; \n        let dsView = match.params.dsView;\n        let s2 = '';\n\n        let columns = this.setColumnDefinitions();\n        console.log(\"Columns: \", columns);\n        s2 = <Row>\n                    <div>\n                        <MyTabulator\n                            columns={columns}\n                            data={[]}\n                            options={{\n                                ajaxURL: `${config.apiUrl}/ds/view/attachments/${this.props.match.params.dsName}/${dsView}/${user.user}`,\n                                ajaxConfig: {\n                                    headers: {\n                                        ...authHeader(),\n                                        \"Content-Type\": \"application/json\",\n                                    },\n                                    credentials: 'include'\n                                },\n                                pagination:\"remote\",\n                                paginationDataSent: {\n                                    page: 'page',\n                                    size: 'per_page' // change 'size' param to 'per_page'\n                                },\n                                paginationDataReceived: {\n                                    last_page: 'total_pages'\n                                },\n                                current_page: 1,\n                                initialHeaderFilter: this.state.initialHeaderFilter,\n                                initialSort: JSON.parse(JSON.stringify(this.state.initialSort)),\n                                paginationSize: this.state.pageSize,\n                                paginationSizeSelector: [10, 25, 50, 100, 500, true],\n                                ajaxResponse: this.ajaxResponse,\n                                ajaxError: function (error) {\n                                    console.log('ajaxError', error);\n                                },\n                                forceRefresh: this.state.refresh,\n                                index: \"_id\",\n                                ajaxSorting: true,\n                                ajaxFiltering: true,\n                                //height: \"500px\",\n                                //virtualDomBuffer: 500,\n                                clipboard: true,\n                                renderComplete: this.renderComplete\n                            }}\n                            innerref={this.recordRef}\n                            />\n                    </div>\n                </Row>            \n        return s2;\n    }\n\n\n    render () {\n        const { match } = this.props;\n        let me = this;\n\n        document.title = `Attachments: ${match.params.dsName}`;\n\n        return (\n            <div>\n                <Row>\n                    <Col md={12} sm={12} xs={12}> \n                        <h3 style={{ 'float': 'center' }}><label className=\"underline\">Attachments in: {match.params.dsName}</label></h3>\n                    </Col>\n                </Row>\n                <br/>\n                <Row>\n                    <Col md={2} sm={2} xs={2}> \n                    <b>Select files to upload: </b>\n                    </Col>\n                    <Col md={4} sm={4} xs={4}> \n                    <Form ref={ form => this.fileInputForm = form } onClick={() => ReactDOM.findDOMNode(this.fileInputForm).reset() }>\n                        <Form.Control type=\"file\" name=\"file\" id=\"fileInput\" multiple=\"multiple\" onChange={this.onFileSelect} /> \n                    </Form>\n                    </Col>\n                </Row>\n                <br/>\n                <Row>\n                    <Col md={12} sm={12} xs={12}> \n                    <Form inline>\n                    <Form.Check inline type=\"checkbox\" label=\"&nbsp;Show all filters\" checked={this.state.showAllFilters} onChange={(event) => {\n                                    let checked = event.target.checked;\n                                    me.setState({showAllFilters: checked, /*refresh: this.state.refresh + 1 */});\n                                    localStorage.setItem(\"showAllFilters\", JSON.stringify(checked));\n                                    me.toggleFilters();\n                                    //me.ref.table.setData();\n                                }}/>\n                    </Form>\n                    </Col>\n                </Row>\n                <Row>\n                <Col md={4} sm={4} xs={4}> \n                    <b>Total records: {this.state.totalRecs}</b>\n                </Col>\n                </Row>\n                {this.step2()}\n                <Modal show={this.state.showModal}\n                    onClose={this.toggleModal} title={this.state.modalTitle}>\n                    {this.state.modalQuestion}\n                </Modal>\n            </div>\n        );\n    }\n\n}\n\nfunction mapStateToProps(state) {\n    const { user } = state.authentication;\n    const { home } = state;\n    const { dsHome } = state;\n    return {\n        user,\n        home,\n        dsHome\n    }\n}\n\nconst cDsAttachments = connect(mapStateToProps)(DsAttachments);\n\n\nexport default cDsAttachments","import { Route } from 'react-router';\nimport Upload from './upload';\nimport NewDsFromXls from './NewDsFromXls';\nimport NewDsFromCsv from './NewDsFromCsv';\nimport NewDsFromDs from './NewDsFromDs';\nimport DsHome from './DsHome';\nimport DsView from './DsView';\nimport DsViewEdit from './DsViewEdit';\nimport DsEditLog from './DsEditLog';\nimport DsBulkEdit from './DsBulkEdit';\nimport HomeMenu from './Menu'\nimport AllDs from './AllDs';\nimport DsAttachments from './DsAttachments';\nimport React from 'react'\n\nexport default [ <Route path=\"/newDsXlsx\" exact component={NewDsFromXls}/>,\n                 <Route path=\"/newDsCsv\" exact component={NewDsFromCsv}/>,\n                 <Route path=\"/newDsFrmDs\" exact component={NewDsFromDs}/>,\n                 <Route path=\"/test\" exact component={Upload}/>, \n                 <Route path=\"/\" exact component={AllDs}/>, \n                 <Route path=\"/ds/:dsName\" exact component={DsHome}/>, \n                 <Route path=\"/ds/:dsName/:dsView\" component={DsView}/>,\n                 <Route path=\"/dsViewEdit/:dsName/:dsView\" exact component={DsViewEdit}/>,\n                 <Route path=\"/dsEditLog/:dsName\" exact component={DsEditLog}/>,\n                 <Route path=\"/dsBulkEdit/:dsName\" exact component={DsBulkEdit}/>, \n                 <Route path=\"/dsAttachments/:dsName\" exact component={DsAttachments}/>,\n                 ]\nexport { HomeMenu }","import React, { Component } from 'react'\nimport Home from './home'\n\n\nclass PageContent extends Component {\n  render() {\n    const { needMargin } = this.props;\n    return (\n      <div className={needMargin ? \"right_col\" : \"right_col_noPanel\"} role=\"main\">\n        {Home}\n      </div>\n    )\n  }\n}\n\nexport default PageContent\n","import React from 'react';\nimport PageContent from './PageContent';\nimport SideBar from '../components/SideBar';\nimport {HomeMenu} from './home';\n\nexport const Menu = (\n  <SideBar>\n    <SideBar.MenuSection title=\" \">\n      {HomeMenu}\n    </SideBar.MenuSection>\n  </SideBar>\n);\n\nexport default PageContent\n","import React, { Component } from 'react';\nimport { Left, Top, Footer } from '../navigation';\nimport PageContent, { Menu } from '../routes';\nimport { connect } from 'react-redux';\n\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      leftVisible: false\n    };\n    this.toggleLeft = this.toggleLeft.bind(this);\n  }\n  toggleLeft() {\n    this.setState({\n      leftVisible: !this.state.leftVisible\n    });\n  }\n  render() {\n    const { user } = this.props;\n    const { leftVisible } = this.state;\n    // In Top, need to remove top_nav class (or make up one more without the margin)\n    // In PageContent, remove right_col class (or alternate class)\n    // Or check @media (max-width: 991px) in xtend.css\n    return (\n      <div className=\"container body\">\n        <div className=\"main_container\">\n          <Left user={user} visible={leftVisible}>\n            {Menu}\n          </Left>\n          <Top user={user} toggleCb={this.toggleLeft} needMargin={leftVisible} {...this.props} />\n          <PageContent needMargin={leftVisible} />\n          <Footer needMargin={leftVisible} />\n        </div>\n      </div>\n    );\n  }\n}\nfunction mapStateToProps(state) {\n  const { user } = state.authentication;\n  return {\n    user\n  }\n}\n\nconst connectedApp = connect(mapStateToProps)(App);\n\nexport default connectedApp;","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { withRouter } from \"react-router-dom\";\n\n//import \"./login.css\"; // Don't do it here, see note below. \n\nimport { userActions } from '../actions';\n\nclass LoginPage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: '',\n            password: '',\n            submitted: false\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleChange(e) {\n        const { name, value } = e.target;\n        this.setState({ [name]: value });\n    }\n\n    handleSubmit(e) {\n        e.preventDefault();\n        this.setState({ submitted: true });\n        let { username, password } = this.state;\n        const { dispatch } = this.props;\n        if (username && password) {\n            let m = username.match(/(.*?)@(.*)/);\n            if (m && (m.length >= 2)) {\n                username = m[1];\n            }        \n            dispatch(userActions.login(username, password));\n        }\n    }\n\n    render() {\n        const { loggingIn, loggedIn, message } = this.props;\n        const { username, password, submitted } = this.state;\n\n        const { from } = this.props.location.state || { from: { pathname: \"/\" } };\n    \n        if (loggedIn) {\n            return <Redirect to={from} />;\n        }\n        require('./login.css');\n        return (\n            <div>\n                <div className=\"logincontainer\">\n                    <section id=\"content\">\n                        <h10>Welcome to Datagroom</h10>\n                        <br/><br/><br/>\n                        <form name=\"form\" onSubmit={this.handleSubmit}>\n                            <div>\n                                <input type=\"text\" name=\"username\" id=\"username\" placeholder=\"username\" value={username} onChange={this.handleChange} />\n                                {submitted && !username &&\n                                    <div className=\"help-block\">Username is required</div>\n                                }\n                                <br />\n                            </div>\n                            <div>\n                                <input type=\"password\" name=\"password\" id=\"password\" placeholder=\"password\" value={password} onChange={this.handleChange} autocomplete=\"current-password\" />\n                                {submitted && !password &&\n                                    <div className=\"help-block\">Password is required</div>\n                                }\n                                <br />\n                            </div>\n                            \n                            <div className=\"form-group\">\n                                <button>Log In</button>\n                                {/*<input type=\"submit\" value=\"Log In\" />*/}\n                                {loggingIn &&\n                                    <div style={{float: 'left'}}>\n                                    <img src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" alt=\"Waiting\"/>\n                                    </div>\n                                }\n                                {submitted && message &&\n                                    <div className=\"help-block\">{message}</div>\n                                }\n                                <div><br/><br/></div>\n                            </div>\n\n                        </form>\n                    </section>\n                    <div>\n                            <br/>\n                            <div className=\"clearfix\"></div>                \n                    </div>\n                    <p style={{clear:\"both\"}}></p><br/>\n                </div>\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { loggingIn, loggedIn } = state.authentication;\n    const { type, message } = state.alert;\n    return {\n        loggingIn,\n        loggedIn,\n        type,\n        message\n    }\n}\n\nconst connectedLoginPage = withRouter(connect(mapStateToProps)(LoginPage));\nexport { connectedLoginPage as LoginPage }; ","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Route, Redirect } from \"react-router-dom\";\nimport { userActions } from '../actions';\n\nclass PrivateRoute extends React.Component {\n\n    componentDidMount() {\n        const { dispatch, user, loggedIn } = this.props;\n        if (!loggedIn && user && user.token) {\n            dispatch(userActions.sessionCheck(user))\n        }\n    }\n\n    render() {\n        const { loggedIn } = this.props;\n        const { component: Component, ...rest } = this.props;\n        return (\n            <Route {...rest} render={props => (\n                //localStorage.getItem('user')\n                loggedIn\n                    ? <Component {...props} />\n                    : <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\n            )} />        \n        );\n    }\n}\n\nfunction mapStateToProps(state) {\n    const { loggedIn, user } = state.authentication;\n    return {\n        loggedIn,\n        user\n    }\n}\n\nconst connectedPrivateRoute = connect(mapStateToProps)(PrivateRoute);\nexport { connectedPrivateRoute as PrivateRoute }; ","import React from 'react';\nimport \"reveal.js/dist/reveal.css\";\n//import \"reveal.js/dist/theme/white.css\";\nimport '../routes/home/rjs_white.css';\nimport Reveal from 'reveal.js';\n\nclass RevealJsPage extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n        };\n        this.startPreso = this.startPreso.bind(this);\n    }\n    componentDidMount() {\n        this.startPreso();\n    }\n    startPreso () {\n        let sections = localStorage.getItem('revealjsSections');\n        var container = document.querySelector(\"#rj\");\n        let finalHtml = `<div class=\"reveal\"><div class=\"slides\">`;\n        \n        finalHtml = `<div style=\"display: flex; flex-direction: row;\">\n        <div class=\"reveal deck1\" style=\"width: 100%; height: 100vh; margin: 10px;\">\n        <div class=\"slides\">`;\n\n        finalHtml += sections;\n        finalHtml += `</div></div></div>`;\n        container.innerHTML = finalHtml;\n        console.log(`FinalHTML: `, finalHtml);\n        //Reveal.initialize();\n        let deck1 = new Reveal( document.querySelector( '.deck1' ), {\n            embedded: true,\n            progress: false,\n            keyboardCondition: 'focused',\n        } );\n        deck1.initialize();\n\n    }\n\n\n    render() {\n\n        //setTimeout(this.startPreso, 100);\n        return (\n            <div id=\"rj\">\n                Hi there, we'll show reveal js page here. \n            </div>\n        );\n    }\n}\n\nexport { RevealJsPage };\n","import React from \"react\";\n//import { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { Router, Route, Switch } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { Provider } from \"react-redux\";\nimport App from \"./App\";\nimport { LoginPage } from \"./InfnLoginPage\";\nimport { PrivateRoute } from \"./PrivateRoute\";\nimport { history } from '../helpers';\nimport { RevealJsPage } from './revealjsPage';\n\nconst Root = ({ store }) => (\n    <Provider store={store}>\n        <Router history={history}>\n            <div>\n                <Switch>\n                    <Route path=\"/login\" component={LoginPage}/>\n                    <Route path='/revealjs' component={ RevealJsPage }/>\n                    <PrivateRoute path=\"/*\" component={App} />\n                </Switch>\n            </div>\n        </Router>\n    </Provider>\n);\n\nRoot.propTypes = {\n    store: PropTypes.oneOfType([\n        PropTypes.func.isRequired,\n        PropTypes.object.isRequired,\n    ]).isRequired,\n};\n\n\nexport default Root;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Root from \"./common/components/Root\";\nimport { store } from './common/helpers';\nimport \"./index.css\";\n\nReactDOM.render(\n    <Root store={store} />,\n    document.getElementById(\"root\")\n);\n","import ModalEditor from './ModalEditor';\nconst React = require('react');\nconst ReactDOM = require('react-dom');\n\nfunction MyTextArea(cell, onRendered, success, cancel, editorParams, ctrlKey) {\n    var self = this,\n        cellValue = cell.getValue(),\n        vertNav = editorParams.verticalNavigation || \"hybrid\",\n        value = String(cellValue !== null && typeof cellValue !== \"undefined\" ? cellValue : \"\"),\n        count = (value.match(/(?:\\r\\n|\\r|\\n)/g) || []).length + 1,\n        input = document.createElement(\"textarea\"),\n        scrollHeight = 0;\n\n    //create and style input\n    input.style.display = \"block\";\n    input.style.padding = \"2px\";\n    input.style.height = \"100%\";\n    input.style.width = \"100%\";\n    input.style.boxSizing = \"border-box\";\n    input.style.whiteSpace = \"pre-wrap\";\n    input.style.resize = \"none\";\n\n    if (editorParams.elementAttributes && typeof editorParams.elementAttributes == \"object\") {\n        for (let key in editorParams.elementAttributes) {\n            if (key.charAt(0) == \"+\") {\n                key = key.slice(1);\n                input.setAttribute(key, input.getAttribute(key) + editorParams.elementAttributes[\"+\" + key]);\n            } else {\n                input.setAttribute(key, editorParams.elementAttributes[key]);\n            }\n        }\n    }\n\n    input.value = value;\n\n    if (ctrlKey) {\n        let cellWidth = cell._cell.element.style.width;\n        let div = document.createElement(\"div\");\n        document.body.appendChild(div);\n        let cmRef = {};\n        const PopupContent = () => {\n            return (\n                <ModalEditor show={true} \n                    title={\"Edit\"} text={value} onClose={clear} editorParams={editorParams}\n                    cancel={\"Cancel\"} ok={\"Done\"} cmRef={cmRef} width={cellWidth}>\n                </ModalEditor>\n            );\n        };\n        \n        const clear = (ok, value) => {\n            ReactDOM.unmountComponentAtNode(div);\n            div.remove();\n            if (ok && (input.value != value)) {\n                success(value);\n                cellValue = value;\n            } else {\n                cancel();\n            }\n        }\n        ReactDOM.render(<PopupContent/>, div);\n    }\n\n    onRendered(function () {\n        if (!ctrlKey) {\n            input.focus({\n                preventScroll: true\n            });\n        }\n        input.style.height = \"100%\";\n    });\n\n    function onChange(e) {\n\n        if (((cellValue === null || typeof cellValue === \"undefined\") && input.value !== \"\") || input.value !== cellValue) {\n\n            if (success(input.value)) {\n                cellValue = input.value; //persist value if successfully validated incase editor is used as header filter\n            }\n            /*\n            setTimeout(function () {\n                cell.getRow().normalizeHeight();\n            }, 300) */\n        } else {\n            cancel();\n        }\n    }\n\n    //submit new value on blur or change\n    input.addEventListener(\"change\", onChange);\n    input.addEventListener(\"blur\", onChange);\n    // This is how you can retain focus while editing. \n    // You also have to disable blur I think. \n    // This is experimental. \n    //window.addEventListener(\"mousedown\", onChange);\n    //input.addEventListener(\"mousedown\", function (e) {\n    //    e.stopPropagation();\n    //})\n    input.addEventListener(\"keyup\", function () {\n\n        // Jayaram: 8/23 change, only set height if it is different in the\n        // below block. \n        //input.style.height = \"\";\n\n        var heightNow = input.scrollHeight;\n\n        //input.style.height = heightNow + \"px\";\n\n        if (!scrollHeight) scrollHeight = heightNow;\n        if (heightNow != scrollHeight) {\n            console.log(\"ScrollHeight, heightNow\", scrollHeight, heightNow);\n            input.style.height = heightNow + \"px\";\n            scrollHeight = heightNow;\n            cell.getRow().normalizeHeight();\n        }\n    });\n\n    input.addEventListener(\"keydown\", function (e) {\n\n        switch (e.keyCode) {\n            case 13:\n                if (e.ctrlKey) {\n                    onChange(e);\n                }\n                break;\n            case 27:\n                cancel();\n                break;\n\n            // Jayaram: Copied from 'textarea' handling within the source. \n            // Added the below keycodes (Home/End: 35/36) to not leave the editor. \n            case 33:\n            case 34:\n                //e.stopImmediatePropagation();\n                //e.stopPropagation();\n                e.preventDefault();\n                const cursorPosition = e.key === 'PageUp' ? 0 : e.target.textLength;\n                e.target.setSelectionRange(cursorPosition, cursorPosition);\n                // Intentional that break is commented here. To make sure you don't leave\n                // editing when you press pgup/pgdown. \n                //break;\n            case 35:\n            case 36:\n                e.stopImmediatePropagation();\n                e.stopPropagation();\n                break;\n\n            case 38: //up arrow\n                if (vertNav == \"editor\" || (vertNav == \"hybrid\" && input.selectionStart)) {\n                    e.stopImmediatePropagation();\n                    e.stopPropagation();\n                }\n\n                break;\n\n            case 40: //down arrow\n                if (vertNav == \"editor\" || (vertNav == \"hybrid\" && input.selectionStart !== input.value.length)) {\n                    e.stopImmediatePropagation();\n                    e.stopPropagation();\n                }\n                break;\n            default:\n                break;\n\n        }\n    });\n\n    if (editorParams.mask) {\n        this.table.modules.edit.maskInput(input, editorParams);\n    }\n\n    return input;\n}\n\nexport default MyTextArea;"],"sourceRoot":""}